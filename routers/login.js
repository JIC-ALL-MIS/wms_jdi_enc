const a0_0x5c96b7=a0_0x2729;(function(_0x4ad9ff,_0x5bce04){const _0x37d1d6=a0_0x2729,_0x4cf16d=_0x4ad9ff();while(!![]){try{const _0x15f690=-parseInt(_0x37d1d6(0x1ad))/0x1*(parseInt(_0x37d1d6(0x18a))/0x2)+-parseInt(_0x37d1d6(0x19a))/0x3*(-parseInt(_0x37d1d6(0x1a3))/0x4)+parseInt(_0x37d1d6(0x187))/0x5+-parseInt(_0x37d1d6(0x1a7))/0x6*(parseInt(_0x37d1d6(0x188))/0x7)+-parseInt(_0x37d1d6(0x19b))/0x8+parseInt(_0x37d1d6(0x189))/0x9*(parseInt(_0x37d1d6(0x198))/0xa)+parseInt(_0x37d1d6(0x199))/0xb*(parseInt(_0x37d1d6(0x1ab))/0xc);if(_0x15f690===_0x5bce04)break;else _0x4cf16d['push'](_0x4cf16d['shift']());}catch(_0x100add){_0x4cf16d['push'](_0x4cf16d['shift']());}}}(a0_0x42e9,0xd9893));function a0_0x42e9(){const _0x4c225b=['your\x20email\x20is\x20not\x20register','success','login','5813340HYTgzc','982261zRZCOk','72KnYnve','446038MINTZi','login\x20successfully','jwt','get','login\x20master','warehouse_category','../middleware/auth','role','findById','bcryptjs','jsonwebtoken','flash','your\x20password\x20is\x20wrong','env','581610FXFwQn','8327QgwloT','393lTTvWu','10517160bashXx','findOne','cookie','sign','name','/login','/staff/:id','Router','348luNjIh','errors','password','render','60LQIdvP','body','/logout','find','38292stwJab','email','2WWChsK','post','express','log','compare','redirect','staff','secret_key','username','status','/staff/view','../models/all_models','All','params','Your\x20account\x20is\x20currently\x20disabled\x20by\x20the\x20Admin.'];a0_0x42e9=function(){return _0x4c225b;};return a0_0x42e9();}function a0_0x2729(_0x49cd41,_0x5b602d){const _0x42e98a=a0_0x42e9();return a0_0x2729=function(_0x2729d6,_0x288191){_0x2729d6=_0x2729d6-0x185;let _0x3b29e0=_0x42e98a[_0x2729d6];return _0x3b29e0;},a0_0x2729(_0x49cd41,_0x5b602d);}const express=require(a0_0x5c96b7(0x1af)),app=express(),router=express[a0_0x5c96b7(0x1a2)](),{sing_up,staff,profile,master_shop}=require(a0_0x5c96b7(0x1b8)),bcrypt=require(a0_0x5c96b7(0x193)),jwt=require(a0_0x5c96b7(0x194)),auth=require(a0_0x5c96b7(0x190));router[a0_0x5c96b7(0x18d)]('/',async(_0x4c40c2,_0x28945a)=>{const _0x3d11c9=a0_0x5c96b7;try{const _0x5c845b=await master_shop[_0x3d11c9(0x1aa)]();_0x28945a[_0x3d11c9(0x1a6)](_0x3d11c9(0x186),{'success':_0x4c40c2['flash']('success'),'errors':_0x4c40c2[_0x3d11c9(0x195)](_0x3d11c9(0x1a4)),'master_shop':_0x5c845b});}catch(_0x524a85){console['log'](_0x524a85);}}),router[a0_0x5c96b7(0x18d)]('/validate',async(_0x2a8ebd,_0x159b0c)=>{const _0x2da234=a0_0x5c96b7;try{const _0x3ac644=await master_shop[_0x2da234(0x1aa)]();_0x159b0c[_0x2da234(0x1a6)]('validate',{'success':_0x2a8ebd[_0x2da234(0x195)]('success'),'errors':_0x2a8ebd[_0x2da234(0x195)](_0x2da234(0x1a4)),'master_shop':_0x3ac644});}catch(_0x318c3a){console['log'](_0x318c3a);}}),router[a0_0x5c96b7(0x18d)](a0_0x5c96b7(0x1a0),async(_0xcbdef,_0x2c1cfa)=>{const _0x9ccaff=a0_0x5c96b7;try{const _0x3e672d=await master_shop['find']();console['log'](_0x9ccaff(0x18e),_0x3e672d),_0x2c1cfa['render'](_0x9ccaff(0x186),{'success':_0xcbdef['flash'](_0x9ccaff(0x185)),'errors':_0xcbdef[_0x9ccaff(0x195)]('errors'),'master_shop':_0x3e672d});}catch(_0x5d7dd2){console[_0x9ccaff(0x1b0)](_0x5d7dd2);}}),router[a0_0x5c96b7(0x1ae)](a0_0x5c96b7(0x1a0),async(_0x44def6,_0x47bff1)=>{const _0x7a2f19=a0_0x5c96b7;try{const _0x3458e0=_0x44def6[_0x7a2f19(0x1a8)][_0x7a2f19(0x1ac)],_0x106cfe=await sing_up[_0x7a2f19(0x19c)]({'email':_0x3458e0});if(!_0x106cfe)return _0x44def6['flash']('errors',_0x7a2f19(0x1bc)),_0x47bff1['redirect'](_0x7a2f19(0x1a0));var _0x1539ae=_0x7a2f19(0x1b9);if(_0x106cfe[_0x7a2f19(0x191)]==_0x7a2f19(0x1b3)){const _0x292b73=await staff['findOne']({'name':_0x106cfe[_0x7a2f19(0x19f)]});if(_0x292b73['status']=='Disabled')return _0x44def6[_0x7a2f19(0x195)]('errors',_0x7a2f19(0x1bb)),_0x47bff1[_0x7a2f19(0x1b2)](_0x7a2f19(0x1a0));_0x1539ae=_0x292b73[_0x7a2f19(0x18f)];}const _0x4a7700=_0x44def6[_0x7a2f19(0x1a8)]['password'],_0x2fd390=await bcrypt[_0x7a2f19(0x1b1)](_0x4a7700,_0x106cfe[_0x7a2f19(0x1a5)]);if(_0x2fd390==![])return _0x44def6[_0x7a2f19(0x195)](_0x7a2f19(0x1a4),_0x7a2f19(0x196)),_0x47bff1[_0x7a2f19(0x1b2)](_0x7a2f19(0x1a0));const _0x468253=jwt[_0x7a2f19(0x19e)]({'username':_0x106cfe[_0x7a2f19(0x1b5)],'email':_0x106cfe[_0x7a2f19(0x1ac)],'role':_0x106cfe[_0x7a2f19(0x191)],'warehouse_category':_0x1539ae},process[_0x7a2f19(0x197)][_0x7a2f19(0x1b4)]);_0x47bff1[_0x7a2f19(0x19d)](_0x7a2f19(0x18c),_0x468253,{'expires':new Date(0xe677d213a700)}),_0x44def6['flash'](_0x7a2f19(0x185),_0x7a2f19(0x18b)),_0x47bff1[_0x7a2f19(0x1b2)]('/index');}catch(_0x2fa4b7){console[_0x7a2f19(0x1b0)](_0x2fa4b7);}}),router[a0_0x5c96b7(0x18d)](a0_0x5c96b7(0x1a1),async(_0x5c4c54,_0x807d16)=>{const _0x8f64f0=a0_0x5c96b7;try{const _0x36dec4=_0x5c4c54[_0x8f64f0(0x1ba)]['id'],_0x19ad4d=await staff[_0x8f64f0(0x192)]({'_id':_0x36dec4});_0x19ad4d[_0x8f64f0(0x1b6)]=='Disabled'&&(_0x5c4c54[_0x8f64f0(0x195)](_0x8f64f0(0x1a4),'Your\x20account\x20is\x20currently\x20disabled\x20by\x20the\x20Admin.'),_0x807d16[_0x8f64f0(0x1b2)](_0x8f64f0(0x1b7)));const _0x375d1c=await sing_up[_0x8f64f0(0x19c)]({'email':_0x19ad4d['email']});var _0x12b4d4=_0x8f64f0(0x1b9);if(_0x375d1c[_0x8f64f0(0x191)]==_0x8f64f0(0x1b3)){const _0xfb5d14=await staff[_0x8f64f0(0x19c)]({'name':_0x375d1c[_0x8f64f0(0x19f)]});_0x12b4d4=_0xfb5d14['warehouse_category'];}const _0x3e098b=jwt[_0x8f64f0(0x19e)]({'username':_0x375d1c[_0x8f64f0(0x1b5)],'email':_0x375d1c['email'],'role':_0x375d1c[_0x8f64f0(0x191)],'warehouse_category':_0x12b4d4},process[_0x8f64f0(0x197)][_0x8f64f0(0x1b4)]);_0x807d16['cookie'](_0x8f64f0(0x18c),_0x3e098b,{'expires':new Date(0xe677d213a700)}),_0x5c4c54[_0x8f64f0(0x195)](_0x8f64f0(0x185),_0x8f64f0(0x18b)),_0x807d16['redirect']('/index');}catch(_0x3e02bd){console[_0x8f64f0(0x1b0)](_0x3e02bd);}}),router['get'](a0_0x5c96b7(0x1a9),(_0x4558d7,_0x3e6f48)=>{const _0x2b2d04=a0_0x5c96b7;_0x3e6f48['clearCookie']('jwt'),_0x3e6f48['redirect'](_0x2b2d04(0x1a0));}),module['exports']=router;