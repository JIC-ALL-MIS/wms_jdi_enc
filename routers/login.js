const a0_0x45dd82=a0_0x3ee9;(function(_0x2190b2,_0x5f404a){const _0xc5744f=a0_0x3ee9,_0x3927c6=_0x2190b2();while(!![]){try{const _0x48615c=-parseInt(_0xc5744f(0xae))/0x1+parseInt(_0xc5744f(0x8e))/0x2*(parseInt(_0xc5744f(0x84))/0x3)+-parseInt(_0xc5744f(0x80))/0x4*(parseInt(_0xc5744f(0x9a))/0x5)+-parseInt(_0xc5744f(0xa5))/0x6*(parseInt(_0xc5744f(0x95))/0x7)+-parseInt(_0xc5744f(0x90))/0x8*(-parseInt(_0xc5744f(0x93))/0x9)+-parseInt(_0xc5744f(0xa8))/0xa*(-parseInt(_0xc5744f(0xa4))/0xb)+parseInt(_0xc5744f(0xa2))/0xc;if(_0x48615c===_0x5f404a)break;else _0x3927c6['push'](_0x3927c6['shift']());}catch(_0x3ebaca){_0x3927c6['push'](_0x3927c6['shift']());}}}(a0_0x5740,0x5914b));const express=require(a0_0x45dd82(0xa6)),app=express(),router=express[a0_0x45dd82(0x82)](),{sing_up,staff,profile,master_shop}=require(a0_0x45dd82(0x92)),bcrypt=require(a0_0x45dd82(0x9d)),jwt=require(a0_0x45dd82(0x87)),auth=require(a0_0x45dd82(0xb5));function a0_0x5740(){const _0x235e0e=['36gRlLyA','get','3664241TvdzXW','success','render','body','params','10wQIhjr','/staff/view','env','bcryptjs','post','Your\x20account\x20is\x20currently\x20disabled\x20by\x20the\x20Admin.','login\x20successfully','username','4834212FxcSyM','compare','1796663wSofYD','6GQPAGE','express','name','10YtlYDy','exports','log','secret_key','your\x20password\x20is\x20wrong','Disabled','92241pmTBdh','warehouse_category','staff','findById','All','/staff/:id','login','../middleware/auth','clearCookie','redirect','cookie','errors','password','1200812Ligjaw','/login','Router','role','211911IpKned','validate','find','jsonwebtoken','your\x20email\x20is\x20not\x20register','email','findOne','/index','flash','status','10JwqvWo','jwt','1323232MXEyCh','sign','../models/all_models'];a0_0x5740=function(){return _0x235e0e;};return a0_0x5740();}function a0_0x3ee9(_0x270df4,_0x41ae22){const _0x5740ef=a0_0x5740();return a0_0x3ee9=function(_0x3ee9d2,_0x2c6bea){_0x3ee9d2=_0x3ee9d2-0x7d;let _0x2cbe3c=_0x5740ef[_0x3ee9d2];return _0x2cbe3c;},a0_0x3ee9(_0x270df4,_0x41ae22);}router[a0_0x45dd82(0x94)]('/',async(_0x55e121,_0x47e6df)=>{const _0x5ed08b=a0_0x45dd82;try{const _0x39c67f=await master_shop[_0x5ed08b(0x86)]();_0x47e6df['render'](_0x5ed08b(0xb4),{'success':_0x55e121[_0x5ed08b(0x8c)]('success'),'errors':_0x55e121[_0x5ed08b(0x8c)]('errors'),'master_shop':_0x39c67f});}catch(_0x1ff716){console['log'](_0x1ff716);}}),router[a0_0x45dd82(0x94)]('/validate',async(_0x220b25,_0x3f9a59)=>{const _0x55439c=a0_0x45dd82;try{const _0x3be47a=await master_shop[_0x55439c(0x86)]();_0x3f9a59[_0x55439c(0x97)](_0x55439c(0x85),{'success':_0x220b25[_0x55439c(0x8c)]('success'),'errors':_0x220b25['flash'](_0x55439c(0x7e)),'master_shop':_0x3be47a});}catch(_0x24e1d3){console[_0x55439c(0xaa)](_0x24e1d3);}}),router['get'](a0_0x45dd82(0x81),async(_0x44a788,_0x5c2042)=>{const _0x5a4f27=a0_0x45dd82;try{const _0x359d60=await master_shop['find']();console[_0x5a4f27(0xaa)]('login\x20master',_0x359d60),_0x5c2042[_0x5a4f27(0x97)]('login',{'success':_0x44a788[_0x5a4f27(0x8c)](_0x5a4f27(0x96)),'errors':_0x44a788[_0x5a4f27(0x8c)](_0x5a4f27(0x7e)),'master_shop':_0x359d60});}catch(_0x2c0d13){console['log'](_0x2c0d13);}}),router[a0_0x45dd82(0x9e)]('/login',async(_0x3bfbfa,_0x5baaa5)=>{const _0x18b2cf=a0_0x45dd82;try{const _0x5e3528=_0x3bfbfa[_0x18b2cf(0x98)][_0x18b2cf(0x89)],_0x4358aa=await sing_up['findOne']({'email':_0x5e3528});if(!_0x4358aa)return _0x3bfbfa[_0x18b2cf(0x8c)](_0x18b2cf(0x7e),_0x18b2cf(0x88)),_0x5baaa5[_0x18b2cf(0xb7)](_0x18b2cf(0x81));var _0x5d0bf8=_0x18b2cf(0xb2);if(_0x4358aa['role']==_0x18b2cf(0xb0)){const _0x2dfda0=await staff[_0x18b2cf(0x8a)]({'name':_0x4358aa[_0x18b2cf(0xa7)]});if(_0x2dfda0[_0x18b2cf(0x8d)]==_0x18b2cf(0xad))return _0x3bfbfa['flash'](_0x18b2cf(0x7e),_0x18b2cf(0x9f)),_0x5baaa5[_0x18b2cf(0xb7)](_0x18b2cf(0x81));_0x5d0bf8=_0x2dfda0[_0x18b2cf(0xaf)];}const _0x1d66fb=_0x3bfbfa[_0x18b2cf(0x98)][_0x18b2cf(0x7f)],_0x219b83=await bcrypt[_0x18b2cf(0xa3)](_0x1d66fb,_0x4358aa['password']);if(_0x219b83==![])return _0x3bfbfa['flash']('errors',_0x18b2cf(0xac)),_0x5baaa5[_0x18b2cf(0xb7)](_0x18b2cf(0x81));const _0x5ce9f2=jwt[_0x18b2cf(0x91)]({'username':_0x4358aa[_0x18b2cf(0xa1)],'email':_0x4358aa[_0x18b2cf(0x89)],'role':_0x4358aa[_0x18b2cf(0x83)],'warehouse_category':_0x5d0bf8},process[_0x18b2cf(0x9c)][_0x18b2cf(0xab)]);_0x5baaa5[_0x18b2cf(0x7d)](_0x18b2cf(0x8f),_0x5ce9f2,{'expires':new Date(0xe677d213a700)}),_0x3bfbfa[_0x18b2cf(0x8c)]('success',_0x18b2cf(0xa0)),_0x5baaa5['redirect'](_0x18b2cf(0x8b));}catch(_0x1db156){console['log'](_0x1db156);}}),router['get'](a0_0x45dd82(0xb3),async(_0x5e82c4,_0x2d4e32)=>{const _0xe50913=a0_0x45dd82;try{const _0x5dfd11=_0x5e82c4[_0xe50913(0x99)]['id'],_0x52a9a8=await staff[_0xe50913(0xb1)]({'_id':_0x5dfd11});_0x52a9a8[_0xe50913(0x8d)]==_0xe50913(0xad)&&(_0x5e82c4[_0xe50913(0x8c)](_0xe50913(0x7e),_0xe50913(0x9f)),_0x2d4e32[_0xe50913(0xb7)](_0xe50913(0x9b)));const _0x5c7038=await sing_up[_0xe50913(0x8a)]({'email':_0x52a9a8[_0xe50913(0x89)]});var _0x47b407=_0xe50913(0xb2);if(_0x5c7038[_0xe50913(0x83)]==_0xe50913(0xb0)){const _0x3c34bb=await staff[_0xe50913(0x8a)]({'name':_0x5c7038['name']});_0x47b407=_0x3c34bb[_0xe50913(0xaf)];}const _0x534d4c=jwt[_0xe50913(0x91)]({'username':_0x5c7038[_0xe50913(0xa1)],'email':_0x5c7038[_0xe50913(0x89)],'role':_0x5c7038[_0xe50913(0x83)],'warehouse_category':_0x47b407},process[_0xe50913(0x9c)][_0xe50913(0xab)]);_0x2d4e32['cookie'](_0xe50913(0x8f),_0x534d4c,{'expires':new Date(0xe677d213a700)}),_0x5e82c4[_0xe50913(0x8c)](_0xe50913(0x96),'login\x20successfully'),_0x2d4e32[_0xe50913(0xb7)]('/index');}catch(_0x51f04d){console['log'](_0x51f04d);}}),router['get']('/logout',(_0x42bb77,_0x4b93fe)=>{const _0x2411bd=a0_0x45dd82;_0x4b93fe[_0x2411bd(0xb6)](_0x2411bd(0x8f)),_0x4b93fe['redirect'](_0x2411bd(0x81));}),module[a0_0x45dd82(0xa9)]=router;