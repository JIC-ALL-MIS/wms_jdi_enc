function a0_0x53b4(_0xbf4e9,_0x4a290f){const _0x32bb47=a0_0x32bb();return a0_0x53b4=function(_0x53b482,_0x4a398f){_0x53b482=_0x53b482-0xb7;let _0x1212ec=_0x32bb47[_0x53b482];return _0x1212ec;},a0_0x53b4(_0xbf4e9,_0x4a290f);}const a0_0x3f94b0=a0_0x53b4;(function(_0x4517fe,_0x43ad7a){const _0x26a8af=a0_0x53b4,_0x9a0036=_0x4517fe();while(!![]){try{const _0x2ddc3c=-parseInt(_0x26a8af(0xd8))/0x1+-parseInt(_0x26a8af(0xfd))/0x2*(-parseInt(_0x26a8af(0xc4))/0x3)+-parseInt(_0x26a8af(0xca))/0x4+-parseInt(_0x26a8af(0xd0))/0x5*(-parseInt(_0x26a8af(0xe4))/0x6)+-parseInt(_0x26a8af(0x104))/0x7*(parseInt(_0x26a8af(0x100))/0x8)+-parseInt(_0x26a8af(0xe7))/0x9+parseInt(_0x26a8af(0x101))/0xa;if(_0x2ddc3c===_0x43ad7a)break;else _0x9a0036['push'](_0x9a0036['shift']());}catch(_0x25f4ee){_0x9a0036['push'](_0x9a0036['shift']());}}}(a0_0x32bb,0x640da));const express=require(a0_0x3f94b0(0xda)),app=express(),router=express[a0_0x3f94b0(0x107)](),multer=require(a0_0x3f94b0(0xe6)),{profile,master_shop,email_settings,warehouse,purchases,staff}=require(a0_0x3f94b0(0xb9)),auth=require('../middleware/auth');var timezones=require(a0_0x3f94b0(0xfc));function a0_0x32bb(){const _0xaa22ad=['$product_details.isle','$room','body','27vHOcuo','warehousemap_incoming','$_id.product_code','log','timezone','/Rooms_data','1490128UWfDeo','Rack\x20A','aggregate','$product_details.product_stock','user','$product_details.pallet','230WNotPH','raw','message','get','errors','Raw\x20Materials','$product_details.product_name','/view','95525umfdzY','pack','express','$name','warehouse','find','$_id.product','Return\x20Goods','Spanish','English\x20(US)','language','$_id.isle','1230CEIYww','English','multer','537291fzdJOX','role','flash','$products','post','$product_details.bay','success','/Rooms_dataStock','$product_details.expiry_date','Portuguese','Chinese','/Rooms_data2','Portuguese\x20(BR)','/MapData','$_id.pallet','Arabic\x20(ae)','$product_details.product_code','Finished\x20Goods','Hindi','QA\x20Warehouse','json','timezones-list','134884NpLWnO','en-US','status','6187240OYRCtV','10945710nHFPcR','$expiry_date','French','7BwTPGW','/MapData2','Arabic','Router','staff','$_id.bay','$batch_code','$product_details','../models/all_models','Enabled','$_id','All','render','$product_details.batch_code','DRY\x20STORAGE','email'];a0_0x32bb=function(){return _0xaa22ad;};return a0_0x32bb();}const users=require('../public/language/languages.json');router[a0_0x3f94b0(0xd3)](a0_0x3f94b0(0xd7),auth,async(_0x38ee03,_0x5a36ec)=>{const _0x3606b0=a0_0x3f94b0;try{const {username:_0x578193,email:_0x55231a,role:_0x5d8551}=_0x38ee03[_0x3606b0(0xce)],_0x43d26e=_0x38ee03[_0x3606b0(0xce)],_0x2523c0=await profile['findOne']({'email':_0x43d26e[_0x3606b0(0xc0)]}),_0x5efc11=await master_shop[_0x3606b0(0xdd)]();let _0x27e509;if(_0x43d26e[_0x3606b0(0xe8)]==_0x3606b0(0x108)){const _0xab9f30=await staff['findOne']({'email':_0x43d26e['email']});_0x27e509=await warehouse[_0x3606b0(0xcc)]([{'$match':{'status':'Enabled','name':_0xab9f30[_0x3606b0(0xdc)]}},{'$group':{'_id':_0x3606b0(0xdb),'name':{'$first':_0x3606b0(0xdb)}}}]);}else _0x27e509=await warehouse[_0x3606b0(0xcc)]([{'$match':{'status':_0x3606b0(0xba)}},{'$group':{'_id':'$name','name':{'$first':_0x3606b0(0xdb)}}},{'$sort':{'name':0x1}}]);const _0x3afd6e=new Date()['toLocaleString'](_0x3606b0(0xfe),{'timeZone':_0x5efc11[0x0][_0x3606b0(0xc8)]});console[_0x3606b0(0xc7)](_0x3606b0(0xc8),_0x3afd6e);if(_0x5efc11[0x0][_0x3606b0(0xe2)]==_0x3606b0(0xe1)){var _0x2c7872=users[_0x3606b0(0xe5)];console['log'](_0x2c7872);}else{if(_0x5efc11[0x0][_0x3606b0(0xe2)]=='Hindi')var _0x2c7872=users[_0x3606b0(0xf9)];else{if(_0x5efc11[0x0][_0x3606b0(0xe2)]=='German')var _0x2c7872=users['German'];else{if(_0x5efc11[0x0]['language']==_0x3606b0(0xe0))var _0x2c7872=users[_0x3606b0(0xe0)];else{if(_0x5efc11[0x0][_0x3606b0(0xe2)]=='French')var _0x2c7872=users[_0x3606b0(0x103)];else{if(_0x5efc11[0x0][_0x3606b0(0xe2)]==_0x3606b0(0xf3))var _0x2c7872=users[_0x3606b0(0xf0)];else{if(_0x5efc11[0x0][_0x3606b0(0xe2)]=='Chinese')var _0x2c7872=users[_0x3606b0(0xf1)];else{if(_0x5efc11[0x0][_0x3606b0(0xe2)]==_0x3606b0(0xf6))var _0x2c7872=users[_0x3606b0(0x106)];}}}}}}}_0x5a36ec[_0x3606b0(0xbd)](_0x3606b0(0xc5),{'success':_0x38ee03[_0x3606b0(0xe9)](_0x3606b0(0xed)),'errors':_0x38ee03[_0x3606b0(0xe9)](_0x3606b0(0xd4)),'role':_0x43d26e,'profile':_0x2523c0,'master_shop':_0x5efc11,'timezones':timezones,'language':_0x2c7872,'warehouse':_0x27e509});}catch(_0x2e2a55){console[_0x3606b0(0xc7)](_0x2e2a55),_0x5a36ec[_0x3606b0(0xff)](0xc8)['json']({'message':_0x2e2a55[_0x3606b0(0xd2)]});}}),router[a0_0x3f94b0(0xeb)](a0_0x3f94b0(0xf4),async(_0x4f81b7,_0x43ec28)=>{const _0x522cab=a0_0x3f94b0,{warehouseNew:_0x23b33c,level:_0x6ef31f,rooms:_0xe1eade}=_0x4f81b7[_0x522cab(0xc3)],_0x57bb6a=await warehouse[_0x522cab(0xcc)]([{'$unwind':'$product_details'},{'$match':{'name':_0x23b33c,'product_details.level':parseInt(_0x6ef31f),'room':_0xe1eade}},{'$group':{'_id':{'isle':_0x522cab(0xc1),'pallet':_0x522cab(0xcf),'product_code':_0x522cab(0xf7),'product_name':_0x522cab(0xd6)},'products':{'$push':{'product_name':_0x522cab(0xd6),'product_quantity':'$product_details.product_stock','product_code':'$product_details.product_code'}},'totalQuantity':{'$sum':{'$cond':{'if':{'$gt':[_0x522cab(0xcd),0x0]},'then':_0x522cab(0xcd),'else':0x0}}}}},{'$project':{'_id':0x0,'isle':_0x522cab(0xe3),'pallet':_0x522cab(0xf5),'product_code':_0x522cab(0xc6),'products':{'$filter':{'input':_0x522cab(0xea),'as':'product','cond':{'$gt':['$$product.product_quantity',0x0]}}},'totalQuantity':0x1}}]);_0x43ec28[_0x522cab(0xfb)](_0x57bb6a);}),router[a0_0x3f94b0(0xeb)](a0_0x3f94b0(0x105),async(_0x102822,_0x113c78)=>{const _0x26e00a=a0_0x3f94b0,{warehouseNew:_0x580d71,rooms:_0x4bc189,room_cat:_0x29aafe}=_0x102822[_0x26e00a(0xc3)];let _0x43cae5;if(_0x29aafe=='All')_0x43cae5=await warehouse[_0x26e00a(0xcc)]([{'$unwind':_0x26e00a(0xb8)},{'$match':{'name':_0x580d71}},{'$group':{'_id':{'bay':_0x26e00a(0xec),'product':_0x26e00a(0xd6),'expiry':_0x26e00a(0xef)},'count':{'$sum':_0x26e00a(0xcd)},'production_date':{'$first':'$product_details.production_date'},'expiry_date':{'$first':'$product_details.expiry_date'},'batch_code':{'$first':_0x26e00a(0xbe)}}},{'$group':{'_id':_0x26e00a(0x109),'products':{'$push':{'product':_0x26e00a(0xde),'quantity':'$count','production_date':'$production_date','expiry_date':_0x26e00a(0x102),'batch_code':_0x26e00a(0xb7)}},'totalQuantity':{'$sum':'$count'}}},{'$match':{'totalQuantity':{'$gt':0x0}}},{'$project':{'_id':0x0,'bay':_0x26e00a(0xbb),'products':0x1,'totalQuantity':0x1}}]),console[_0x26e00a(0xc7)](_0x29aafe);else{}_0x113c78[_0x26e00a(0xfb)](_0x43cae5);}),router[a0_0x3f94b0(0xeb)](a0_0x3f94b0(0xc9),async(_0xe4cfa4,_0x1773d5)=>{const _0x206320=a0_0x3f94b0;try{const {warehouse_name:_0x9d7df,A:_0x2e5f9b,B:_0x21f0f8}=_0xe4cfa4[_0x206320(0xc3)];var _0x46caca='';_0x2e5f9b==_0x206320(0xd1)?_0x21f0f8==_0x206320(0xd9)?_0x46caca=[{'$match':{'name':_0x9d7df,'status':_0x206320(0xba),'room':_0x206320(0xcb)}},{'$group':{'_id':_0x206320(0xbb),'room_name':{'$first':_0x206320(0xc2)}}},{'$sort':{'room_name':0x1}}]:_0x46caca=[{'$match':{'name':_0x9d7df,'status':_0x206320(0xba)}},{'$group':{'_id':_0x206320(0xbb),'room_name':{'$first':_0x206320(0xc2)}}},{'$sort':{'room_name':0x1}}]:_0x46caca=[{'$match':{'name':_0x9d7df,'status':_0x206320(0xba)}},{'$group':{'_id':_0x206320(0xbb),'room_name':{'$first':_0x206320(0xc2)}}},{'$sort':{'room_name':0x1}}];const _0x4554a6=await warehouse[_0x206320(0xcc)](_0x46caca);_0x1773d5[_0x206320(0xff)](0xc8)[_0x206320(0xfb)](_0x4554a6);}catch(_0x270708){_0x1773d5[_0x206320(0xff)](0x190)[_0x206320(0xfb)]({'errorMessage':_0x270708['message']});}}),router[a0_0x3f94b0(0xeb)](a0_0x3f94b0(0xf2),async(_0x228285,_0x3d132b)=>{const _0x516f48=a0_0x3f94b0;try{const {warehouse_name:_0x3a921d,cat:_0x43410f,valNew:_0x429f51}=_0x228285[_0x516f48(0xc3)];var _0x5f5ae6='',_0x491637='';if(_0x43410f==_0x516f48(0xd5))_0x5f5ae6=_0x516f48(0xdf),_0x429f51=='pack'?_0x491637=[{'$match':{'status':_0x516f48(0xba),'warehouse_category':_0x43410f,'name':{'$ne':_0x5f5ae6},'name':_0x516f48(0xbf)}},{'$group':{'_id':'$name','room_name':{'$first':_0x516f48(0xdb)}}},{'$sort':{'room_name':0x1}}]:_0x491637=[{'$match':{'status':_0x516f48(0xba),'warehouse_category':_0x43410f,'name':{'$ne':_0x5f5ae6}}},{'$group':{'_id':_0x516f48(0xdb),'room_name':{'$first':'$name'}}},{'$sort':{'room_name':0x1}}];else _0x43410f==_0x516f48(0xf8)?(_0x5f5ae6=_0x516f48(0xfa),_0x491637=[{'$match':{'status':_0x516f48(0xba),'warehouse_category':_0x43410f,'name':{'$ne':_0x5f5ae6}}},{'$group':{'_id':_0x516f48(0xdb),'room_name':{'$first':_0x516f48(0xdb)}}},{'$sort':{'room_name':0x1}}]):_0x491637=[{'$match':{'status':_0x516f48(0xba)}},{'$group':{'_id':_0x516f48(0xdb),'room_name':{'$first':_0x516f48(0xdb)}}},{'$sort':{'room_name':0x1}}];const _0x1891dc=await warehouse[_0x516f48(0xcc)](_0x491637);_0x3d132b[_0x516f48(0xff)](0xc8)['json'](_0x1891dc);}catch(_0x24876b){_0x3d132b[_0x516f48(0xff)](0x190)[_0x516f48(0xfb)]({'errorMessage':_0x24876b[_0x516f48(0xd2)]}),console[_0x516f48(0xc7)](_0x24876b);}}),router[a0_0x3f94b0(0xeb)]('/Rooms_data3',async(_0x3b332a,_0x65ea94)=>{const _0x41b233=a0_0x3f94b0;try{const {warehouse_name:_0x3fef70,cat:_0x2efe1a}=_0x3b332a[_0x41b233(0xc3)],_0x1fcb60=await warehouse[_0x41b233(0xcc)]([{'$match':{'status':_0x41b233(0xba),'warehouse_category':_0x2efe1a,'name':_0x3fef70}},{'$group':{'_id':_0x41b233(0xc2),'room_name':{'$first':'$room'}}},{'$sort':{'room_name':0x1}}]);_0x65ea94['status'](0xc8)[_0x41b233(0xfb)](_0x1fcb60);}catch(_0x36c223){_0x65ea94[_0x41b233(0xff)](0x190)[_0x41b233(0xfb)]({'errorMessage':_0x36c223[_0x41b233(0xd2)]});}}),router[a0_0x3f94b0(0xeb)](a0_0x3f94b0(0xee),async(_0x4f641b,_0x39482c)=>{const _0xcb670c=a0_0x3f94b0;try{const {warehouse_name:_0xf1159e,A:_0x53f42c,B:_0x19d0b7}=_0x4f641b['body'];var _0x472da3='';_0xf1159e==_0xcb670c(0xbc)?_0x472da3=[{'$match':{'status':_0xcb670c(0xba)}},{'$group':{'_id':_0xcb670c(0xc2),'room_name':{'$first':'$room'}}},{'$sort':{'room_name':0x1}}]:_0x472da3=[{'$match':{'name':_0xf1159e,'status':_0xcb670c(0xba)}},{'$group':{'_id':_0xcb670c(0xbb),'room_name':{'$first':_0xcb670c(0xc2)}}},{'$sort':{'room_name':0x1}}];const _0x26eab5=await warehouse['aggregate'](_0x472da3);_0x39482c[_0xcb670c(0xff)](0xc8)[_0xcb670c(0xfb)](_0x26eab5);}catch(_0x40b4bc){_0x39482c['status'](0x190)[_0xcb670c(0xfb)]({'errorMessage':_0x40b4bc[_0xcb670c(0xd2)]});}}),module['exports']=router;