function a0_0xae44(){const _0x1a5c26=['981036Witjgy','English','Raw\x20Materials','German','aggregate','All','/MapData','$count','72AKvGWv','json','body','Enabled','/MapData2','timezones-list','5GARaXF','post','$product_details.product_code','../public/language/languages.json','timezone','warehouse','$production_date','Portuguese\x20(BR)','$_id.product','$_id','4JrkYGC','message','9lBISNX','$product_details.isle','language','role','$product_details.product_name','1347208DCTzuY','42OJdHng','../middleware/auth','$product_details.bay','multer','$products','status','$product_details.production_date','/Rooms_data','render','/view','$_id.isle','Portuguese','$_id.pallet','French','$name','toLocaleString','en-US','3185864vDUnqT','exports','email','$product_details.batch_code','$product_details','../models/all_models','pack','$_id.product_code','$product_details.expiry_date','log','raw','/Rooms_dataStock','Spanish','user','926034kxwxsw','Return\x20Goods','Hindi','flash','Chinese','$$product.product_quantity','$room','943389PNCLfk','8240380QZZdqG','express','$expiry_date','2994402EAkacc','errors','/Rooms_data3','English\x20(US)','$product_details.product_stock','findOne','$product_details.pallet','QA\x20Warehouse','Arabic','get','warehousemap_incoming'];a0_0xae44=function(){return _0x1a5c26;};return a0_0xae44();}const a0_0x4ace0=a0_0x1dc3;function a0_0x1dc3(_0x278a87,_0x177b8b){const _0xae447=a0_0xae44();return a0_0x1dc3=function(_0x1dc34b,_0x529d6f){_0x1dc34b=_0x1dc34b-0x157;let _0x2b5dd9=_0xae447[_0x1dc34b];return _0x2b5dd9;},a0_0x1dc3(_0x278a87,_0x177b8b);}(function(_0x3a7d1a,_0xfd8064){const _0x330104=a0_0x1dc3,_0xe8ed60=_0x3a7d1a();while(!![]){try{const _0x512116=parseInt(_0x330104(0x15a))/0x1+parseInt(_0x330104(0x169))/0x2+parseInt(_0x330104(0x1a8))/0x3*(-parseInt(_0x330104(0x181))/0x4)+-parseInt(_0x330104(0x177))/0x5*(parseInt(_0x330104(0x15e))/0x6)+-parseInt(_0x330104(0x189))/0x7*(parseInt(_0x330104(0x188))/0x8)+parseInt(_0x330104(0x183))/0x9*(-parseInt(_0x330104(0x15b))/0xa)+parseInt(_0x330104(0x19a))/0xb*(parseInt(_0x330104(0x171))/0xc);if(_0x512116===_0xfd8064)break;else _0xe8ed60['push'](_0xe8ed60['shift']());}catch(_0xefec85){_0xe8ed60['push'](_0xe8ed60['shift']());}}}(a0_0xae44,0x81436));const express=require(a0_0x4ace0(0x15c)),app=express(),router=express['Router'](),multer=require(a0_0x4ace0(0x18c)),{profile,master_shop,email_settings,warehouse,purchases,staff}=require(a0_0x4ace0(0x19f)),auth=require(a0_0x4ace0(0x18a));var timezones=require(a0_0x4ace0(0x176));const users=require(a0_0x4ace0(0x17a));router[a0_0x4ace0(0x167)](a0_0x4ace0(0x192),auth,async(_0xf92655,_0xa98b1e)=>{const _0x26feab=a0_0x4ace0;try{const {username:_0x290a14,email:_0x5c2bcd,role:_0x5d2b5d}=_0xf92655[_0x26feab(0x1a7)],_0x583d62=_0xf92655[_0x26feab(0x1a7)],_0x3f192a=await profile[_0x26feab(0x163)]({'email':_0x583d62[_0x26feab(0x19c)]}),_0x5f29f5=await master_shop['find']();let _0x4df2b0;if(_0x583d62[_0x26feab(0x186)]=='staff'){const _0x4867a3=await staff[_0x26feab(0x163)]({'email':_0x583d62[_0x26feab(0x19c)]});_0x4df2b0=await warehouse[_0x26feab(0x16d)]([{'$match':{'status':_0x26feab(0x174),'name':_0x4867a3[_0x26feab(0x17c)]}},{'$group':{'_id':_0x26feab(0x197),'name':{'$first':'$name'}}}]);}else _0x4df2b0=await warehouse['aggregate']([{'$match':{'status':_0x26feab(0x174)}},{'$group':{'_id':_0x26feab(0x197),'name':{'$first':_0x26feab(0x197)}}},{'$sort':{'name':0x1}}]);const _0x1a2432=new Date()[_0x26feab(0x198)](_0x26feab(0x199),{'timeZone':_0x5f29f5[0x0][_0x26feab(0x17b)]});console[_0x26feab(0x1a3)](_0x26feab(0x17b),_0x1a2432);if(_0x5f29f5[0x0]['language']==_0x26feab(0x161)){var _0x218257=users[_0x26feab(0x16a)];console[_0x26feab(0x1a3)](_0x218257);}else{if(_0x5f29f5[0x0][_0x26feab(0x185)]==_0x26feab(0x1aa))var _0x218257=users[_0x26feab(0x1aa)];else{if(_0x5f29f5[0x0][_0x26feab(0x185)]==_0x26feab(0x16c))var _0x218257=users['German'];else{if(_0x5f29f5[0x0][_0x26feab(0x185)]==_0x26feab(0x1a6))var _0x218257=users[_0x26feab(0x1a6)];else{if(_0x5f29f5[0x0][_0x26feab(0x185)]==_0x26feab(0x196))var _0x218257=users[_0x26feab(0x196)];else{if(_0x5f29f5[0x0][_0x26feab(0x185)]==_0x26feab(0x17e))var _0x218257=users[_0x26feab(0x194)];else{if(_0x5f29f5[0x0]['language']==_0x26feab(0x157))var _0x218257=users['Chinese'];else{if(_0x5f29f5[0x0][_0x26feab(0x185)]=='Arabic\x20(ae)')var _0x218257=users[_0x26feab(0x166)];}}}}}}}_0xa98b1e[_0x26feab(0x191)](_0x26feab(0x168),{'success':_0xf92655[_0x26feab(0x1ab)]('success'),'errors':_0xf92655[_0x26feab(0x1ab)](_0x26feab(0x15f)),'role':_0x583d62,'profile':_0x3f192a,'master_shop':_0x5f29f5,'timezones':timezones,'language':_0x218257,'warehouse':_0x4df2b0});}catch(_0x1b5c28){console['log'](_0x1b5c28),_0xa98b1e[_0x26feab(0x18e)](0xc8)['json']({'message':_0x1b5c28[_0x26feab(0x182)]});}}),router[a0_0x4ace0(0x178)](a0_0x4ace0(0x16f),async(_0x4980ea,_0x38e44c)=>{const _0x226130=a0_0x4ace0,{warehouseNew:_0x2060d9,level:_0x25bace,rooms:_0x1d0c4e}=_0x4980ea[_0x226130(0x173)],_0x202658=await warehouse[_0x226130(0x16d)]([{'$unwind':_0x226130(0x19e)},{'$match':{'name':_0x2060d9,'product_details.level':parseInt(_0x25bace),'room':_0x1d0c4e}},{'$group':{'_id':{'isle':_0x226130(0x184),'pallet':_0x226130(0x164),'product_code':_0x226130(0x179),'product_name':_0x226130(0x187)},'products':{'$push':{'product_name':_0x226130(0x187),'product_quantity':_0x226130(0x162),'product_code':_0x226130(0x179)}},'totalQuantity':{'$sum':{'$cond':{'if':{'$gt':[_0x226130(0x162),0x0]},'then':_0x226130(0x162),'else':0x0}}}}},{'$project':{'_id':0x0,'isle':_0x226130(0x193),'pallet':_0x226130(0x195),'product_code':_0x226130(0x1a1),'products':{'$filter':{'input':_0x226130(0x18d),'as':'product','cond':{'$gt':[_0x226130(0x158),0x0]}}},'totalQuantity':0x1}}]);_0x38e44c[_0x226130(0x172)](_0x202658);}),router['post'](a0_0x4ace0(0x175),async(_0x399350,_0x1c5fe6)=>{const _0x3e664e=a0_0x4ace0,{warehouseNew:_0x5db8a8,rooms:_0x4a826e,room_cat:_0x5ca594}=_0x399350[_0x3e664e(0x173)];let _0x34b937;if(_0x5ca594==_0x3e664e(0x16e))_0x34b937=await warehouse['aggregate']([{'$unwind':'$product_details'},{'$match':{'name':_0x5db8a8}},{'$group':{'_id':{'bay':_0x3e664e(0x18b),'product':_0x3e664e(0x187),'expiry':'$product_details.expiry_date'},'count':{'$sum':_0x3e664e(0x162)},'production_date':{'$first':_0x3e664e(0x18f)},'expiry_date':{'$first':_0x3e664e(0x1a2)},'batch_code':{'$first':_0x3e664e(0x19d)}}},{'$group':{'_id':'$_id.bay','products':{'$push':{'product':_0x3e664e(0x17f),'quantity':_0x3e664e(0x170),'production_date':_0x3e664e(0x17d),'expiry_date':_0x3e664e(0x15d),'batch_code':'$batch_code'}},'totalQuantity':{'$sum':'$count'}}},{'$match':{'totalQuantity':{'$gt':0x0}}},{'$project':{'_id':0x0,'bay':_0x3e664e(0x180),'products':0x1,'totalQuantity':0x1}}]),console[_0x3e664e(0x1a3)](_0x5ca594);else{}_0x1c5fe6['json'](_0x34b937);}),router[a0_0x4ace0(0x178)](a0_0x4ace0(0x190),async(_0x417185,_0x2ef387)=>{const _0x4b48f1=a0_0x4ace0;try{const {warehouse_name:_0x4233b3,A:_0x382be,B:_0x97dcba}=_0x417185[_0x4b48f1(0x173)];var _0x5d3b51='';_0x382be==_0x4b48f1(0x1a4)?_0x97dcba==_0x4b48f1(0x1a0)?_0x5d3b51=[{'$match':{'name':_0x4233b3,'status':'Enabled','room':'Rack\x20A'}},{'$group':{'_id':_0x4b48f1(0x180),'room_name':{'$first':_0x4b48f1(0x159)}}},{'$sort':{'room_name':0x1}}]:_0x5d3b51=[{'$match':{'name':_0x4233b3,'status':'Enabled'}},{'$group':{'_id':'$_id','room_name':{'$first':_0x4b48f1(0x159)}}},{'$sort':{'room_name':0x1}}]:_0x5d3b51=[{'$match':{'name':_0x4233b3,'status':_0x4b48f1(0x174)}},{'$group':{'_id':_0x4b48f1(0x180),'room_name':{'$first':_0x4b48f1(0x159)}}},{'$sort':{'room_name':0x1}}];const _0xf2c34e=await warehouse[_0x4b48f1(0x16d)](_0x5d3b51);_0x2ef387[_0x4b48f1(0x18e)](0xc8)[_0x4b48f1(0x172)](_0xf2c34e);}catch(_0x37c7d1){_0x2ef387[_0x4b48f1(0x18e)](0x190)['json']({'errorMessage':_0x37c7d1[_0x4b48f1(0x182)]});}}),router[a0_0x4ace0(0x178)]('/Rooms_data2',async(_0x334fa5,_0x3571a6)=>{const _0x5a76aa=a0_0x4ace0;try{const {warehouse_name:_0x594d86,cat:_0x1f445d,valNew:_0x2de252}=_0x334fa5[_0x5a76aa(0x173)];var _0x34b982='',_0x34505a='';if(_0x1f445d==_0x5a76aa(0x16b))_0x34b982=_0x5a76aa(0x1a9),_0x2de252==_0x5a76aa(0x1a0)?_0x34505a=[{'$match':{'status':_0x5a76aa(0x174),'warehouse_category':_0x1f445d,'name':{'$ne':_0x34b982},'name':'DRY\x20STORAGE'}},{'$group':{'_id':'$name','room_name':{'$first':_0x5a76aa(0x197)}}},{'$sort':{'room_name':0x1}}]:_0x34505a=[{'$match':{'status':_0x5a76aa(0x174),'warehouse_category':_0x1f445d,'name':{'$ne':_0x34b982}}},{'$group':{'_id':_0x5a76aa(0x197),'room_name':{'$first':_0x5a76aa(0x197)}}},{'$sort':{'room_name':0x1}}];else _0x1f445d=='Finished\x20Goods'?(_0x34b982=_0x5a76aa(0x165),_0x34505a=[{'$match':{'status':'Enabled','warehouse_category':_0x1f445d,'name':{'$ne':_0x34b982}}},{'$group':{'_id':_0x5a76aa(0x197),'room_name':{'$first':_0x5a76aa(0x197)}}},{'$sort':{'room_name':0x1}}]):_0x34505a=[{'$match':{'status':_0x5a76aa(0x174)}},{'$group':{'_id':_0x5a76aa(0x197),'room_name':{'$first':_0x5a76aa(0x197)}}},{'$sort':{'room_name':0x1}}];const _0x5ee587=await warehouse[_0x5a76aa(0x16d)](_0x34505a);_0x3571a6[_0x5a76aa(0x18e)](0xc8)[_0x5a76aa(0x172)](_0x5ee587);}catch(_0x2c9ebf){_0x3571a6[_0x5a76aa(0x18e)](0x190)[_0x5a76aa(0x172)]({'errorMessage':_0x2c9ebf[_0x5a76aa(0x182)]}),console['log'](_0x2c9ebf);}}),router[a0_0x4ace0(0x178)](a0_0x4ace0(0x160),async(_0x3c5b2e,_0x5d3a71)=>{const _0x5d1844=a0_0x4ace0;try{const {warehouse_name:_0x25b499,cat:_0x46703d}=_0x3c5b2e['body'],_0x452ca8=await warehouse[_0x5d1844(0x16d)]([{'$match':{'status':'Enabled','warehouse_category':_0x46703d,'name':_0x25b499}},{'$group':{'_id':_0x5d1844(0x159),'room_name':{'$first':_0x5d1844(0x159)}}},{'$sort':{'room_name':0x1}}]);_0x5d3a71[_0x5d1844(0x18e)](0xc8)['json'](_0x452ca8);}catch(_0x2c6077){_0x5d3a71[_0x5d1844(0x18e)](0x190)[_0x5d1844(0x172)]({'errorMessage':_0x2c6077[_0x5d1844(0x182)]});}}),router[a0_0x4ace0(0x178)](a0_0x4ace0(0x1a5),async(_0x7bf40e,_0x37951d)=>{const _0x526e0b=a0_0x4ace0;try{const {warehouse_name:_0x8a3949,A:_0x21bf8e,B:_0x8c52ef}=_0x7bf40e[_0x526e0b(0x173)];var _0x1b1728='';_0x8a3949=='All'?_0x1b1728=[{'$match':{'status':_0x526e0b(0x174)}},{'$group':{'_id':_0x526e0b(0x159),'room_name':{'$first':'$room'}}},{'$sort':{'room_name':0x1}}]:_0x1b1728=[{'$match':{'name':_0x8a3949,'status':'Enabled'}},{'$group':{'_id':_0x526e0b(0x180),'room_name':{'$first':_0x526e0b(0x159)}}},{'$sort':{'room_name':0x1}}];const _0x5f2be2=await warehouse[_0x526e0b(0x16d)](_0x1b1728);_0x37951d[_0x526e0b(0x18e)](0xc8)[_0x526e0b(0x172)](_0x5f2be2);}catch(_0x493300){_0x37951d[_0x526e0b(0x18e)](0x190)['json']({'errorMessage':_0x493300['message']});}}),module[a0_0x4ace0(0x19b)]=router;