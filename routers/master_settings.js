const a0_0x34017c=a0_0x29a4;(function(_0x1b8666,_0x6eae21){const _0x53657b=a0_0x29a4,_0x2fc6ea=_0x1b8666();while(!![]){try{const _0x1a1e02=-parseInt(_0x53657b(0x166))/0x1+-parseInt(_0x53657b(0x133))/0x2+parseInt(_0x53657b(0x163))/0x3*(parseInt(_0x53657b(0x159))/0x4)+parseInt(_0x53657b(0x154))/0x5+-parseInt(_0x53657b(0x11b))/0x6+parseInt(_0x53657b(0x161))/0x7+parseInt(_0x53657b(0x164))/0x8;if(_0x1a1e02===_0x6eae21)break;else _0x2fc6ea['push'](_0x2fc6ea['shift']());}catch(_0x299487){_0x2fc6ea['push'](_0x2fc6ea['shift']());}}}(a0_0x18df,0x6caea));function a0_0x18df(){const _0x32dc14=['now','render','flash','/:id','timezone','Arabic','Spanish','Chinese','currency','user','RMSnumber','Hindi','/master_shop/view/supervisors','shop\x20setting\x20edit\x20successfully','1111111','/view/supervisors','en-US','params','../middleware/auth','body','2516135XylRgP','RMSName','Portuguese\x20(BR)','master_settings','/view/email','94596VREiLT','French','email','hidden','timezones-list','post','errors','findOne','5350786FPPHJq','site_title','72zpmHpG','566224pfacaV','../models/all_models','443172QecJZs','English','3338454CaGJGD','/view/email/edit_settings','single','/view/supervisors_settings','image','master','redirect','port','toLocaleString','/view','exports','originalname','success','Arabic\x20(ae)','diskStorage','get','Portuguese','log','German','find','save','currency_placement','/view/edit_settings','express','922472tLyVhT','password','language','email_settings','RMSEmail','English\x20(US)','host','./public/upload','supervisor_settings','Router','file','master\x20settings\x20email_data','multer'];a0_0x18df=function(){return _0x32dc14;};return a0_0x18df();}function a0_0x29a4(_0x5a81e1,_0x181b64){const _0x18df0f=a0_0x18df();return a0_0x29a4=function(_0x29a49a,_0x2eb126){_0x29a49a=_0x29a49a-0x11a;let _0xafd8ce=_0x18df0f[_0x29a49a];return _0xafd8ce;},a0_0x29a4(_0x5a81e1,_0x181b64);}const express=require(a0_0x34017c(0x132)),app=express(),router=express[a0_0x34017c(0x13c)](),multer=require(a0_0x34017c(0x13f)),{profile,master_shop,email_settings,supervisor_settings}=require(a0_0x34017c(0x165)),auth=require(a0_0x34017c(0x152));var timezones=require(a0_0x34017c(0x15d));const users=require('../public/language/languages.json'),storage=multer[a0_0x34017c(0x129)]({'destination':(_0x52b7fe,_0x52e04a,_0x179e6c)=>{const _0x2d353c=a0_0x34017c;console[_0x2d353c(0x12c)](_0x2d353c(0x14e),_0x52e04a[_0x2d353c(0x126)]),_0x179e6c(null,_0x2d353c(0x13a));},'filename':(_0x42f3e3,_0x2ef9b8,_0x129103)=>{const _0xf0cd5d=a0_0x34017c;_0x129103(null,Date[_0xf0cd5d(0x140)]()+_0x2ef9b8[_0xf0cd5d(0x126)]);}}),upload=multer({'storage':storage});router['get'](a0_0x34017c(0x124),auth,async(_0x5cc3bc,_0xbbf798)=>{const _0x482691=a0_0x34017c;try{const {username:_0x51d7c4,email:_0x1dd69a,role:_0x1a31d5}=_0x5cc3bc['user'],_0x4e054e=_0x5cc3bc[_0x482691(0x149)],_0x2beaac=await profile[_0x482691(0x160)]({'email':_0x4e054e[_0x482691(0x15b)]}),_0x2b49c0=await master_shop[_0x482691(0x12e)]();console[_0x482691(0x12c)]('master',_0x2b49c0);const _0x10cc12=new Date()['toLocaleString']('en-US',{'timeZone':_0x2b49c0[0x0]['timezone']});console[_0x482691(0x12c)](_0x482691(0x144),_0x10cc12);if(_0x2b49c0[0x0]['language']==_0x482691(0x138)){var _0x232342=users['English'];console['log'](_0x232342);}else{if(_0x2b49c0[0x0][_0x482691(0x135)]==_0x482691(0x14b))var _0x232342=users[_0x482691(0x14b)];else{if(_0x2b49c0[0x0][_0x482691(0x135)]=='German')var _0x232342=users[_0x482691(0x12d)];else{if(_0x2b49c0[0x0][_0x482691(0x135)]==_0x482691(0x146))var _0x232342=users[_0x482691(0x146)];else{if(_0x2b49c0[0x0][_0x482691(0x135)]==_0x482691(0x15a))var _0x232342=users[_0x482691(0x15a)];else{if(_0x2b49c0[0x0]['language']==_0x482691(0x156))var _0x232342=users[_0x482691(0x12b)];else{if(_0x2b49c0[0x0]['language']==_0x482691(0x147))var _0x232342=users[_0x482691(0x147)];else{if(_0x2b49c0[0x0]['language']==_0x482691(0x128))var _0x232342=users[_0x482691(0x145)];}}}}}}}_0xbbf798['render'](_0x482691(0x157),{'success':_0x5cc3bc[_0x482691(0x142)](_0x482691(0x127)),'errors':_0x5cc3bc[_0x482691(0x142)](_0x482691(0x15f)),'role':_0x4e054e,'profile':_0x2beaac,'master_shop':_0x2b49c0,'timezones':timezones,'language':_0x232342});}catch(_0x328a51){console[_0x482691(0x12c)](_0x328a51);}}),router[a0_0x34017c(0x12a)](a0_0x34017c(0x143),auth,async(_0x151843,_0x4bc39b)=>{const _0x17da3c=a0_0x34017c;try{console['log']('language'),console[_0x17da3c(0x12c)](_0x151843[_0x17da3c(0x151)]['id']);const _0x264d02=await master_shop[_0x17da3c(0x160)]();_0x264d02[_0x17da3c(0x135)]=_0x151843[_0x17da3c(0x151)]['id'],await _0x264d02[_0x17da3c(0x12f)](),console[_0x17da3c(0x12c)](_0x17da3c(0x120),_0x264d02);}catch(_0x21ee6b){console[_0x17da3c(0x12c)](_0x21ee6b);}}),router['post'](a0_0x34017c(0x131),auth,upload[a0_0x34017c(0x11d)](a0_0x34017c(0x11f)),async(_0x1533b4,_0xbd422e)=>{const _0x3498b2=a0_0x34017c;try{const {site_title:_0x2ea0d9,currency:_0x4a2c98,currency_placement:_0x50180e,timezone:_0x21da2a}=_0x1533b4[_0x3498b2(0x153)];if(_0x1533b4['body'][_0x3498b2(0x15c)]==0x0){const _0x569f3a=await master_shop['findOne']();console['log']('master_shop_data',_0x569f3a);if(_0x569f3a==''){const _0x599509=new master_shop({'site_title':_0x2ea0d9,'image':image,'currency':_0x4a2c98,'currency_placement':_0x50180e,'timezone':_0x21da2a}),_0x2066df=await _0x599509['save']();}else _0x569f3a[_0x3498b2(0x162)]=_0x2ea0d9,_0x569f3a[_0x3498b2(0x148)]=_0x4a2c98,_0x569f3a[_0x3498b2(0x130)]=_0x50180e,_0x569f3a[_0x3498b2(0x144)]=_0x21da2a,await _0x569f3a[_0x3498b2(0x12f)]();}else{const _0x678970=_0x1533b4[_0x3498b2(0x13d)]['filename'],_0x31d565=await master_shop[_0x3498b2(0x160)]();console['log']('2nd\x20master_shop_data',_0x31d565);if(_0x31d565==null){console[_0x3498b2(0x12c)]('1',_0x2ea0d9);const _0x2b9abd=new master_shop({'site_title':_0x2ea0d9,'image':_0x678970,'currency':_0x4a2c98,'currency_placement':_0x50180e,'timezone':_0x21da2a}),_0x31dc75=await _0x2b9abd[_0x3498b2(0x12f)]();}else console[_0x3498b2(0x12c)]('2',_0x2ea0d9),_0x31d565[_0x3498b2(0x162)]=_0x2ea0d9,_0x31d565[_0x3498b2(0x11f)]=_0x678970,_0x31d565[_0x3498b2(0x148)]=_0x4a2c98,_0x31d565[_0x3498b2(0x130)]=_0x50180e,_0x31d565['timezone']=_0x21da2a,await _0x31d565[_0x3498b2(0x12f)]();}_0x1533b4[_0x3498b2(0x142)](_0x3498b2(0x127),_0x3498b2(0x14d)),_0xbd422e[_0x3498b2(0x121)]('/master_shop/view');}catch(_0x1580fb){console[_0x3498b2(0x12c)](_0x1580fb);}}),router[a0_0x34017c(0x12a)](a0_0x34017c(0x158),auth,async(_0x424402,_0x3419d1)=>{const _0xebc9a1=a0_0x34017c;try{const {username:_0x628473,email:_0xeca9af,role:_0x541f5e}=_0x424402[_0xebc9a1(0x149)],_0x26280c=_0x424402[_0xebc9a1(0x149)],_0x4015a5=await profile[_0xebc9a1(0x160)]({'email':_0x26280c[_0xebc9a1(0x15b)]}),_0x2fb97d=await master_shop[_0xebc9a1(0x12e)]();console[_0xebc9a1(0x12c)](_0xebc9a1(0x120),_0x2fb97d);const _0x111aa9=await email_settings['findOne']();console[_0xebc9a1(0x12c)](_0xebc9a1(0x13e),_0x111aa9);if(_0x2fb97d[0x0][_0xebc9a1(0x135)]=='English\x20(US)'){var _0x5d123f=users[_0xebc9a1(0x11a)];console['log'](_0x5d123f);}else{if(_0x2fb97d[0x0][_0xebc9a1(0x135)]==_0xebc9a1(0x14b))var _0x5d123f=users['Hindi'];else{if(_0x2fb97d[0x0][_0xebc9a1(0x135)]==_0xebc9a1(0x12d))var _0x5d123f=users[_0xebc9a1(0x12d)];else{if(_0x2fb97d[0x0][_0xebc9a1(0x135)]==_0xebc9a1(0x146))var _0x5d123f=users[_0xebc9a1(0x146)];else{if(_0x2fb97d[0x0][_0xebc9a1(0x135)]==_0xebc9a1(0x15a))var _0x5d123f=users[_0xebc9a1(0x15a)];else{if(_0x2fb97d[0x0][_0xebc9a1(0x135)]==_0xebc9a1(0x156))var _0x5d123f=users[_0xebc9a1(0x12b)];else{if(_0x2fb97d[0x0][_0xebc9a1(0x135)]==_0xebc9a1(0x147))var _0x5d123f=users[_0xebc9a1(0x147)];else{if(_0x2fb97d[0x0][_0xebc9a1(0x135)]==_0xebc9a1(0x128))var _0x5d123f=users[_0xebc9a1(0x145)];}}}}}}}_0x3419d1['render'](_0xebc9a1(0x136),{'success':_0x424402[_0xebc9a1(0x142)]('success'),'errors':_0x424402['flash']('errors'),'role':_0x26280c,'profile':_0x4015a5,'master_shop':_0x2fb97d,'email':_0x111aa9,'language':_0x5d123f});}catch(_0x181b6c){console[_0xebc9a1(0x12c)](_0x181b6c);}}),router[a0_0x34017c(0x15e)](a0_0x34017c(0x11c),auth,async(_0x36229d,_0x1b3f65)=>{const _0x5f60ca=a0_0x34017c;try{const {host:_0xceac14,port:_0x1c948c,email:_0x34735a,password:_0x1f101c}=_0x36229d[_0x5f60ca(0x153)],_0x39d30b=await email_settings[_0x5f60ca(0x160)]();if(_0x39d30b==null){const _0x5793fc=new email_settings({'host':_0xceac14,'port':_0x1c948c,'email':_0x34735a,'password':_0x1f101c});await _0x5793fc[_0x5f60ca(0x12f)]();}else _0x39d30b[_0x5f60ca(0x139)]=_0xceac14,_0x39d30b[_0x5f60ca(0x122)]=_0x1c948c,_0x39d30b[_0x5f60ca(0x15b)]=_0x34735a,_0x39d30b[_0x5f60ca(0x134)]=_0x1f101c,await _0x39d30b[_0x5f60ca(0x12f)]();_0x36229d[_0x5f60ca(0x142)](_0x5f60ca(0x127),'shop\x20setting\x20edit\x20successfully'),_0x1b3f65[_0x5f60ca(0x121)]('/master_shop/view/email');}catch(_0x5ba432){console[_0x5f60ca(0x12c)](_0x5ba432);}}),router[a0_0x34017c(0x12a)](a0_0x34017c(0x14f),auth,async(_0x4e0948,_0x1b55a2)=>{const _0x5c899f=a0_0x34017c;try{const {username:_0x5d3d3b,email:_0x5c2e99,role:_0x41a25a}=_0x4e0948[_0x5c899f(0x149)],_0x14ae26=_0x4e0948[_0x5c899f(0x149)],_0x353823=await supervisor_settings['find'](),_0x21934a=await profile[_0x5c899f(0x160)]({'email':_0x14ae26[_0x5c899f(0x15b)]}),_0x440250=await master_shop[_0x5c899f(0x12e)](),_0x1fc06d=new Date()[_0x5c899f(0x123)](_0x5c899f(0x150),{'timeZone':_0x440250[0x0][_0x5c899f(0x144)]});console['log'](_0x5c899f(0x144),_0x1fc06d);if(_0x440250[0x0][_0x5c899f(0x135)]==_0x5c899f(0x138)){var _0x431d57=users[_0x5c899f(0x11a)];console['log'](_0x431d57);}else{if(_0x440250[0x0][_0x5c899f(0x135)]==_0x5c899f(0x14b))var _0x431d57=users[_0x5c899f(0x14b)];else{if(_0x440250[0x0][_0x5c899f(0x135)]==_0x5c899f(0x12d))var _0x431d57=users['German'];else{if(_0x440250[0x0][_0x5c899f(0x135)]==_0x5c899f(0x146))var _0x431d57=users[_0x5c899f(0x146)];else{if(_0x440250[0x0]['language']==_0x5c899f(0x15a))var _0x431d57=users[_0x5c899f(0x15a)];else{if(_0x440250[0x0][_0x5c899f(0x135)]==_0x5c899f(0x156))var _0x431d57=users[_0x5c899f(0x12b)];else{if(_0x440250[0x0]['language']==_0x5c899f(0x147))var _0x431d57=users[_0x5c899f(0x147)];else{if(_0x440250[0x0][_0x5c899f(0x135)]==_0x5c899f(0x128))var _0x431d57=users[_0x5c899f(0x145)];}}}}}}}_0x1b55a2[_0x5c899f(0x141)](_0x5c899f(0x13b),{'success':_0x4e0948[_0x5c899f(0x142)](_0x5c899f(0x127)),'errors':_0x4e0948['flash'](_0x5c899f(0x15f)),'role':_0x14ae26,'profile':_0x21934a,'master_shop':_0x440250,'supervisor_data':_0x353823[0x0],'timezones':timezones,'language':_0x431d57});}catch(_0x1eb405){console['log'](_0x1eb405);}}),router['post'](a0_0x34017c(0x11e),auth,async(_0x1a2ef9,_0x1726c7)=>{const _0x22aa55=a0_0x34017c;try{const {rm_name:_0xe4f44d,rm_email:_0x1272a8,rm_mobilenum:_0x5472a6}=_0x1a2ef9[_0x22aa55(0x153)],_0x5bb79f=await supervisor_settings['findOne']();if(_0x5bb79f==null){const _0x418abb=new supervisor_settings({'RMSName':_0xe4f44d,'RMSEmail':_0x1272a8,'RMSnumber':_0x5472a6});await _0x418abb[_0x22aa55(0x12f)]();}else _0x5bb79f[_0x22aa55(0x155)]=_0xe4f44d,_0x5bb79f[_0x22aa55(0x137)]=_0x1272a8,_0x5bb79f[_0x22aa55(0x14a)]=_0x5472a6,await _0x5bb79f[_0x22aa55(0x12f)]();_0x1a2ef9[_0x22aa55(0x142)](_0x22aa55(0x127),'shop\x20setting\x20edit\x20successfully'),_0x1726c7['redirect'](_0x22aa55(0x14c));}catch(_0x10dfda){console[_0x22aa55(0x12c)](_0x10dfda);}}),module[a0_0x34017c(0x125)]=router;