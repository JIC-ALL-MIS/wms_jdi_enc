function a0_0x1efb(){const _0x281a95=['German','\x20unit\x20is\x20alredy\x20added.\x20please\x20choose\x20another','product_details.product_name','MaxperUnits','findByIdAndDelete','$_id','redirect','readFile','/products/categories','/categories/delete/:id','sku','image','categories\x20data\x20delete\x20successfully','name','English','body','Maximum_Stocks','max_number_per_units','params','categ','post','errors','Secondary_Code','user','aggregate','10IhFpbJ','find','Arabic','/filter_product','Units','145614mcCNGO','$product_details.product_name','Products\x20find_data','categories','/select_data','findByIdAndUpdate','$product_details.product_stock','get','PUnits','/categories','Brands','status','json','attachment;\x20filename=Product_Migration_File.xlsx','/view/add_products','product\x20update\x20successfully','product\x20add\x20successfully','send','now','PBrands','13254Ubhejn','message','findOne','findById','/products/units','848683SNpjjt','Chinese','47649yzghmK','ProductCode','/brands/:id','unit\x20data\x20update\x20successfully','904tCMUEU','../public/language/languages.json','single','PName','/categories/:id','Enabled','Product_Code','All','/products/view','52araJoS','stock','alertquantity','flash','/products_export_migrate_file','\x20brand\x20is\x20alredy\x20added.\x20please\x20choose\x20another','Sheets','save','/units','setHeader','master','Category','secondary_unit','product\x20edit','Spanish','brands','468204WdSddM','public/upload','express','prod_categ','log','PCat','/view/:id','numeric','Hindi','brand','\x20Failed','product_docs','470ExadHd','units','originalname','unit','Router','product_code','Content-Disposition','\x20brand\x20is\x20add\x20successfully','email','CBM','public/Migration/','render','edit_product','forEach','addWorksheet','product_stock','PAlQty','secondary_code','$brand','SheetNames','/brands','4OOaBFq','4806WCOFeJ','length','public/Migration','success','3GTTGiS','_id','error','Products','Primary_Code','migrate_product_fule','Arabic\x20(ae)','French','$product_category','English\x20(US)','language','product_barcode','Products\x20master','defaultProduct.avif','Secondary_Units','category','/products/brands','Alert_QTY','Products\x20warehouse_data','warehouse','/units/:id','filename','PSecondaryUnits','file','xlsx','/brands/delete/:id','add_product','Portuguese','products','application/vnd.openxmlformats-officedocument.spreadsheatml.sheet','$product_name','long','Workbook','utils','write','exceljs','Portuguese\x20(BR)','unit\x20data\x20delete\x20successfully','exports','24417nFUkCj','primary_code','express/lib/response'];a0_0x1efb=function(){return _0x281a95;};return a0_0x1efb();}const a0_0x2233e6=a0_0x521b;(function(_0x3cc2e2,_0x34011e){const _0x2aaeb3=a0_0x521b,_0x2e585b=_0x3cc2e2();while(!![]){try{const _0x2926fa=-parseInt(_0x2aaeb3(0x235))/0x1*(parseInt(_0x2aaeb3(0x1eb))/0x2)+-parseInt(_0x2aaeb3(0x1f2))/0x3*(-parseInt(_0x2aaeb3(0x230))/0x4)+parseInt(_0x2aaeb3(0x21b))/0x5*(parseInt(_0x2aaeb3(0x231))/0x6)+parseInt(_0x2aaeb3(0x1d7))/0x7+parseInt(_0x2aaeb3(0x1f6))/0x8*(parseInt(_0x2aaeb3(0x25c))/0x9)+-parseInt(_0x2aaeb3(0x278))/0xa*(parseInt(_0x2aaeb3(0x1f0))/0xb)+-parseInt(_0x2aaeb3(0x20f))/0xc*(parseInt(_0x2aaeb3(0x1ff))/0xd);if(_0x2926fa===_0x34011e)break;else _0x2e585b['push'](_0x2e585b['shift']());}catch(_0x2991a6){_0x2e585b['push'](_0x2e585b['shift']());}}}(a0_0x1efb,0x28646));const express=require(a0_0x2233e6(0x211)),res=require(a0_0x2233e6(0x25e)),app=express(),router=express[a0_0x2233e6(0x21f)](),multer=require('multer'),{profile,master_shop,categories,brands,units,product,purchases,warehouse}=require('../models/all_models'),auth=require('../middleware/auth'),users=require(a0_0x2233e6(0x1f7)),excelJS=require(a0_0x2233e6(0x258)),xlsx=require(a0_0x2233e6(0x24d));router[a0_0x2233e6(0x1de)]('/categories',auth,async(_0x267369,_0x35a0ea)=>{const _0x4ee856=a0_0x2233e6;try{const {username:_0x16c804,email:_0x41c341,role:_0x44ac30}=_0x267369[_0x4ee856(0x276)],_0x504f9a=_0x267369[_0x4ee856(0x276)],_0x229654=await profile['findOne']({'email':_0x504f9a['email']}),_0x365445=await master_shop[_0x4ee856(0x279)]();console[_0x4ee856(0x213)]('master',_0x365445);const _0x14e08b=await categories[_0x4ee856(0x279)]();if(_0x365445[0x0][_0x4ee856(0x23f)]==_0x4ee856(0x23e))var _0x5f22cc=users[_0x4ee856(0x26d)];else{if(_0x365445[0x0][_0x4ee856(0x23f)]==_0x4ee856(0x217))var _0x5f22cc=users[_0x4ee856(0x217)];else{if(_0x365445[0x0][_0x4ee856(0x23f)]==_0x4ee856(0x25f))var _0x5f22cc=users[_0x4ee856(0x25f)];else{if(_0x365445[0x0][_0x4ee856(0x23f)]==_0x4ee856(0x20d))var _0x5f22cc=users['Spanish'];else{if(_0x365445[0x0]['language']==_0x4ee856(0x23c))var _0x5f22cc=users[_0x4ee856(0x23c)];else{if(_0x365445[0x0][_0x4ee856(0x23f)]==_0x4ee856(0x259))var _0x5f22cc=users['Portuguese'];else{if(_0x365445[0x0]['language']=='Chinese')var _0x5f22cc=users[_0x4ee856(0x1f1)];else{if(_0x365445[0x0]['language']==_0x4ee856(0x23b))var _0x5f22cc=users[_0x4ee856(0x27a)];}}}}}}}_0x35a0ea[_0x4ee856(0x226)](_0x4ee856(0x1da),{'success':_0x267369['flash']('success'),'errors':_0x267369['flash'](_0x4ee856(0x274)),'role':_0x504f9a,'profile':_0x229654,'user':_0x14e08b,'master_shop':_0x365445,'language':_0x5f22cc});}catch(_0x489ab1){console[_0x4ee856(0x213)](_0x489ab1);}}),router[a0_0x2233e6(0x273)](a0_0x2233e6(0x1e0),auth,async(_0x5201ee,_0x3fce91)=>{const _0x304d7d=a0_0x2233e6;try{const {name:_0x415763,products:_0xc6fd05}=_0x5201ee[_0x304d7d(0x26e)],_0x3ee553=new categories({'name':_0x415763,'products':_0xc6fd05}),_0x14c700=await categories['findOne']({'name':_0x415763});_0x14c700?_0x5201ee[_0x304d7d(0x202)](_0x304d7d(0x274),_0x415763+'\x20categories\x20is\x20alredy\x20added.\x20please\x20choose\x20another'):_0x5201ee[_0x304d7d(0x202)](_0x304d7d(0x234),_0x415763+'\x20categories\x20is\x20add\x20successfully');const _0x23bbfd=await _0x3ee553[_0x304d7d(0x206)]();_0x3fce91[_0x304d7d(0x265)](_0x304d7d(0x267));}catch(_0x38884e){console['log'](_0x38884e);}}),router['get']('/categories/:id',auth,async(_0x20d7cd,_0x469cd4)=>{const _0x37defa=a0_0x2233e6;try{const {username:_0x5b5247,email:_0x1b2b24,role:_0x5e8346}=_0x20d7cd[_0x37defa(0x276)],_0x5d7e3c=_0x20d7cd[_0x37defa(0x276)],_0x149060=await profile['findOne']({'email':_0x5d7e3c[_0x37defa(0x223)]}),_0x21ade9=await master_shop[_0x37defa(0x279)]();console['log'](_0x37defa(0x209),_0x21ade9);const _0x39348a=_0x20d7cd[_0x37defa(0x271)]['id'];console[_0x37defa(0x213)](_0x39348a);const _0x45d41c=await categories['findById'](_0x39348a);if(_0x21ade9[0x0][_0x37defa(0x23f)]==_0x37defa(0x23e))var _0x5839b9=users[_0x37defa(0x26d)];else{if(_0x21ade9[0x0][_0x37defa(0x23f)]==_0x37defa(0x217))var _0x5839b9=users[_0x37defa(0x217)];else{if(_0x21ade9[0x0][_0x37defa(0x23f)]==_0x37defa(0x25f))var _0x5839b9=users[_0x37defa(0x25f)];else{if(_0x21ade9[0x0][_0x37defa(0x23f)]==_0x37defa(0x20d))var _0x5839b9=users[_0x37defa(0x20d)];else{if(_0x21ade9[0x0][_0x37defa(0x23f)]==_0x37defa(0x23c))var _0x5839b9=users[_0x37defa(0x23c)];else{if(_0x21ade9[0x0]['language']==_0x37defa(0x259))var _0x5839b9=users[_0x37defa(0x250)];else{if(_0x21ade9[0x0][_0x37defa(0x23f)]==_0x37defa(0x1f1))var _0x5839b9=users[_0x37defa(0x1f1)];else{if(_0x21ade9[0x0][_0x37defa(0x23f)]=='Arabic\x20(ae)')var _0x5839b9=users['Arabic'];}}}}}}}_0x469cd4[_0x37defa(0x226)](_0x37defa(0x1da),{'success':_0x20d7cd[_0x37defa(0x202)](_0x37defa(0x234)),'errors':_0x20d7cd[_0x37defa(0x202)](_0x37defa(0x274)),'role':_0x5d7e3c,'profile':_0x149060,'master_shop':_0x21ade9,'user':_0x45d41c,'language':_0x5839b9});}catch(_0x33b146){console[_0x37defa(0x213)](_0x33b146);}}),router['post'](a0_0x2233e6(0x1fa),auth,async(_0x2ac38d,_0x45cadd)=>{const _0x537d66=a0_0x2233e6;try{const _0x55db7c=_0x2ac38d[_0x537d66(0x271)]['id'],_0x50a8fe=await categories[_0x537d66(0x1dc)](_0x55db7c,_0x2ac38d['body']);_0x2ac38d[_0x537d66(0x202)]('success',''+users['categories_edit']),_0x45cadd[_0x537d66(0x265)](_0x537d66(0x267));}catch(_0x351d59){console[_0x537d66(0x213)](_0x351d59);}}),router['get'](a0_0x2233e6(0x268),auth,async(_0xdcd5a0,_0x59ceae)=>{const _0x519f6b=a0_0x2233e6;try{const _0x28fbb1=_0xdcd5a0[_0x519f6b(0x271)]['id'],_0x3a1d8a=await categories[_0x519f6b(0x263)](_0x28fbb1);_0xdcd5a0[_0x519f6b(0x202)](_0x519f6b(0x234),_0x519f6b(0x26b)),_0x59ceae[_0x519f6b(0x265)](_0x519f6b(0x267));}catch(_0x4c6951){console[_0x519f6b(0x213)](_0x4c6951);}}),router['get'](a0_0x2233e6(0x22f),auth,async(_0x406838,_0x36e2f3)=>{const _0x9f4453=a0_0x2233e6;try{const {username:_0x4adb5f,email:_0x3b0d0c,role:_0x31a265}=_0x406838['user'],_0x34f84e=_0x406838[_0x9f4453(0x276)],_0x1e0728=await profile[_0x9f4453(0x1ed)]({'email':_0x34f84e['email']}),_0x29857a=await master_shop[_0x9f4453(0x279)]();console[_0x9f4453(0x213)]('master',_0x29857a);const _0x4f56a7=await brands[_0x9f4453(0x279)]();if(_0x29857a[0x0]['language']==_0x9f4453(0x23e))var _0x379ab3=users[_0x9f4453(0x26d)];else{if(_0x29857a[0x0][_0x9f4453(0x23f)]==_0x9f4453(0x217))var _0x379ab3=users[_0x9f4453(0x217)];else{if(_0x29857a[0x0][_0x9f4453(0x23f)]==_0x9f4453(0x25f))var _0x379ab3=users['German'];else{if(_0x29857a[0x0][_0x9f4453(0x23f)]=='Spanish')var _0x379ab3=users['Spanish'];else{if(_0x29857a[0x0][_0x9f4453(0x23f)]==_0x9f4453(0x23c))var _0x379ab3=users[_0x9f4453(0x23c)];else{if(_0x29857a[0x0]['language']=='Portuguese\x20(BR)')var _0x379ab3=users[_0x9f4453(0x250)];else{if(_0x29857a[0x0]['language']=='Chinese')var _0x379ab3=users[_0x9f4453(0x1f1)];else{if(_0x29857a[0x0][_0x9f4453(0x23f)]==_0x9f4453(0x23b))var _0x379ab3=users['Arabic'];}}}}}}}_0x36e2f3[_0x9f4453(0x226)]('brands',{'success':_0x406838[_0x9f4453(0x202)](_0x9f4453(0x234)),'errors':_0x406838['flash']('errors'),'role':_0x34f84e,'profile':_0x1e0728,'master_shop':_0x29857a,'user':_0x4f56a7,'language':_0x379ab3});}catch(_0x32b772){console[_0x9f4453(0x213)](_0x32b772);}}),router[a0_0x2233e6(0x273)](a0_0x2233e6(0x22f),auth,async(_0x29cb7a,_0x25e22f)=>{const _0x2ebdd0=a0_0x2233e6;try{const {name:_0x5ec5fd,products:_0x42c85b}=_0x29cb7a[_0x2ebdd0(0x26e)],_0x118125=new brands({'name':_0x5ec5fd,'products':_0x42c85b}),_0x30bb2b=await brands[_0x2ebdd0(0x1ed)]({'name':_0x5ec5fd});_0x30bb2b?_0x29cb7a['flash'](_0x2ebdd0(0x274),_0x5ec5fd+_0x2ebdd0(0x204)):_0x29cb7a['flash'](_0x2ebdd0(0x234),_0x5ec5fd+_0x2ebdd0(0x222));const _0x14d1c5=await _0x118125[_0x2ebdd0(0x206)]();_0x25e22f[_0x2ebdd0(0x265)](_0x2ebdd0(0x245));}catch(_0x3df576){console[_0x2ebdd0(0x213)](_0x3df576);}}),router[a0_0x2233e6(0x1de)](a0_0x2233e6(0x1f4),auth,async(_0x304444,_0x372641)=>{const _0x2b70a8=a0_0x2233e6;try{const {username:_0x4dddc3,email:_0x3ec7c7,role:_0x56bd6f}=_0x304444[_0x2b70a8(0x276)],_0x3d8bc8=_0x304444[_0x2b70a8(0x276)],_0x1db99d=await profile[_0x2b70a8(0x1ed)]({'email':_0x3d8bc8[_0x2b70a8(0x223)]}),_0x32e33f=await master_shop[_0x2b70a8(0x279)]();console[_0x2b70a8(0x213)](_0x2b70a8(0x209),_0x32e33f);const _0x6ec75c=_0x304444[_0x2b70a8(0x271)]['id'];console[_0x2b70a8(0x213)](_0x6ec75c);const _0x5e0c0a=await brands['findById'](_0x6ec75c);if(_0x32e33f[0x0][_0x2b70a8(0x23f)]==_0x2b70a8(0x23e))var _0x4c8b9e=users[_0x2b70a8(0x26d)];else{if(_0x32e33f[0x0][_0x2b70a8(0x23f)]==_0x2b70a8(0x217))var _0x4c8b9e=users[_0x2b70a8(0x217)];else{if(_0x32e33f[0x0][_0x2b70a8(0x23f)]==_0x2b70a8(0x25f))var _0x4c8b9e=users[_0x2b70a8(0x25f)];else{if(_0x32e33f[0x0][_0x2b70a8(0x23f)]==_0x2b70a8(0x20d))var _0x4c8b9e=users['Spanish'];else{if(_0x32e33f[0x0][_0x2b70a8(0x23f)]=='French')var _0x4c8b9e=users[_0x2b70a8(0x23c)];else{if(_0x32e33f[0x0][_0x2b70a8(0x23f)]=='Portuguese\x20(BR)')var _0x4c8b9e=users['Portuguese'];else{if(_0x32e33f[0x0][_0x2b70a8(0x23f)]==_0x2b70a8(0x1f1))var _0x4c8b9e=users[_0x2b70a8(0x1f1)];else{if(_0x32e33f[0x0]['language']==_0x2b70a8(0x23b))var _0x4c8b9e=users[_0x2b70a8(0x27a)];}}}}}}}_0x372641['render'](_0x2b70a8(0x20e),{'success':_0x304444[_0x2b70a8(0x202)](_0x2b70a8(0x234)),'errors':_0x304444[_0x2b70a8(0x202)](_0x2b70a8(0x274)),'role':_0x3d8bc8,'profile':_0x1db99d,'master_shop':_0x32e33f,'user':_0x5e0c0a,'language':_0x4c8b9e});}catch(_0x264e5d){console['log'](_0x264e5d);}}),router['post']('/brands/:id',auth,async(_0x4631ae,_0x1d8b72)=>{const _0x35ea89=a0_0x2233e6;try{const _0x6a168c=_0x4631ae[_0x35ea89(0x271)]['id'],_0x52d9d4=await brands[_0x35ea89(0x1dc)](_0x6a168c,_0x4631ae[_0x35ea89(0x26e)]);_0x4631ae[_0x35ea89(0x202)](_0x35ea89(0x234),'brand\x20data\x20update\x20successfully'),_0x1d8b72[_0x35ea89(0x265)](_0x35ea89(0x245));}catch(_0x4d7954){console[_0x35ea89(0x213)](_0x4d7954);}}),router[a0_0x2233e6(0x1de)](a0_0x2233e6(0x24e),auth,async(_0x29a99f,_0x239ea1)=>{const _0x1ce8e3=a0_0x2233e6;try{const _0x1c3bc4=_0x29a99f[_0x1ce8e3(0x271)]['id'],_0x32c742=await brands[_0x1ce8e3(0x263)](_0x1c3bc4);_0x29a99f[_0x1ce8e3(0x202)](_0x1ce8e3(0x234),'brand\x20data\x20delete\x20successfully'),_0x239ea1[_0x1ce8e3(0x265)](_0x1ce8e3(0x245));}catch(_0x37b486){console[_0x1ce8e3(0x213)](_0x37b486);}}),router['get'](a0_0x2233e6(0x207),auth,async(_0x3d541e,_0x346359)=>{const _0x220087=a0_0x2233e6;try{const {username:_0x2f6485,email:_0x291874,role:_0x665e13}=_0x3d541e[_0x220087(0x276)],_0x3aeb02=_0x3d541e[_0x220087(0x276)],_0x483e9a=await profile[_0x220087(0x1ed)]({'email':_0x3aeb02[_0x220087(0x223)]}),_0x513c4d=await master_shop[_0x220087(0x279)]();console[_0x220087(0x213)](_0x220087(0x209),_0x513c4d);const _0x2908ad=await units[_0x220087(0x279)]();if(_0x513c4d[0x0][_0x220087(0x23f)]==_0x220087(0x23e))var _0x131d7e=users[_0x220087(0x26d)];else{if(_0x513c4d[0x0][_0x220087(0x23f)]=='Hindi')var _0x131d7e=users['Hindi'];else{if(_0x513c4d[0x0]['language']==_0x220087(0x25f))var _0x131d7e=users[_0x220087(0x25f)];else{if(_0x513c4d[0x0][_0x220087(0x23f)]=='Spanish')var _0x131d7e=users[_0x220087(0x20d)];else{if(_0x513c4d[0x0][_0x220087(0x23f)]==_0x220087(0x23c))var _0x131d7e=users[_0x220087(0x23c)];else{if(_0x513c4d[0x0][_0x220087(0x23f)]==_0x220087(0x259))var _0x131d7e=users['Portuguese'];else{if(_0x513c4d[0x0][_0x220087(0x23f)]==_0x220087(0x1f1))var _0x131d7e=users[_0x220087(0x1f1)];else{if(_0x513c4d[0x0][_0x220087(0x23f)]==_0x220087(0x23b))var _0x131d7e=users['Arabic'];}}}}}}}_0x346359[_0x220087(0x226)]('units',{'success':_0x3d541e['flash'](_0x220087(0x234)),'errors':_0x3d541e[_0x220087(0x202)]('errors'),'role':_0x3aeb02,'profile':_0x483e9a,'master_shop':_0x513c4d,'user':_0x2908ad,'language':_0x131d7e});}catch(_0x1c5457){console[_0x220087(0x213)](_0x1c5457);}}),router[a0_0x2233e6(0x273)]('/units',auth,async(_0x1130a2,_0x23b1c6)=>{const _0x2fe42b=a0_0x2233e6;try{const {name:_0x58f68f,secondary_unit:_0x9000da,products:_0x851297}=_0x1130a2['body'],_0x5798f4=new units({'name':_0x58f68f,'secondary_unit':_0x9000da,'products':_0x851297}),_0x33a58d=await units['findOne']({'name':_0x58f68f});_0x33a58d?_0x1130a2[_0x2fe42b(0x202)](_0x2fe42b(0x274),_0x58f68f+_0x2fe42b(0x260)):_0x1130a2[_0x2fe42b(0x202)](_0x2fe42b(0x234),_0x58f68f+'\x20unit\x20is\x20add\x20successfully');const _0x534bc8=await _0x5798f4['save']();_0x23b1c6[_0x2fe42b(0x265)]('/products/units');}catch(_0x31a128){console[_0x2fe42b(0x213)](_0x31a128);}}),router[a0_0x2233e6(0x1de)](a0_0x2233e6(0x249),auth,async(_0x439e8d,_0x4e4001)=>{const _0x3113c8=a0_0x2233e6;try{const {username:_0x45f78a,email:_0x468690,role:_0x7ff8f1}=_0x439e8d[_0x3113c8(0x276)],_0x20fe9a=_0x439e8d['user'],_0x3374e3=await profile[_0x3113c8(0x1ed)]({'email':_0x20fe9a[_0x3113c8(0x223)]}),_0xabfa7a=await master_shop[_0x3113c8(0x279)]();console[_0x3113c8(0x213)](_0x3113c8(0x209),_0xabfa7a);const _0x6f2b75=_0x439e8d[_0x3113c8(0x271)]['id'],_0x13ce37=await units['findById'](_0x6f2b75);if(_0xabfa7a[0x0][_0x3113c8(0x23f)]==_0x3113c8(0x23e))var _0x25c073=users[_0x3113c8(0x26d)];else{if(_0xabfa7a[0x0][_0x3113c8(0x23f)]==_0x3113c8(0x217))var _0x25c073=users[_0x3113c8(0x217)];else{if(_0xabfa7a[0x0][_0x3113c8(0x23f)]==_0x3113c8(0x25f))var _0x25c073=users[_0x3113c8(0x25f)];else{if(_0xabfa7a[0x0][_0x3113c8(0x23f)]==_0x3113c8(0x20d))var _0x25c073=users[_0x3113c8(0x20d)];else{if(_0xabfa7a[0x0]['language']==_0x3113c8(0x23c))var _0x25c073=users[_0x3113c8(0x23c)];else{if(_0xabfa7a[0x0][_0x3113c8(0x23f)]==_0x3113c8(0x259))var _0x25c073=users[_0x3113c8(0x250)];else{if(_0xabfa7a[0x0]['language']=='Chinese')var _0x25c073=users[_0x3113c8(0x1f1)];else{if(_0xabfa7a[0x0][_0x3113c8(0x23f)]==_0x3113c8(0x23b))var _0x25c073=users[_0x3113c8(0x27a)];}}}}}}}_0x4e4001[_0x3113c8(0x226)](_0x3113c8(0x21c),{'success':_0x439e8d[_0x3113c8(0x202)]('success'),'errors':_0x439e8d[_0x3113c8(0x202)](_0x3113c8(0x274)),'role':_0x20fe9a,'profile':_0x3374e3,'master_shop':_0xabfa7a,'user':_0x13ce37,'language':_0x25c073});}catch(_0x4045dc){console[_0x3113c8(0x213)](_0x4045dc);}}),router[a0_0x2233e6(0x273)](a0_0x2233e6(0x249),auth,async(_0x304e6f,_0x112263)=>{const _0x44fc11=a0_0x2233e6;try{const _0x3e24b0=_0x304e6f[_0x44fc11(0x271)]['id'],_0x2a25d2=await units[_0x44fc11(0x1dc)](_0x3e24b0,_0x304e6f[_0x44fc11(0x26e)]);_0x304e6f['flash'](_0x44fc11(0x234),_0x44fc11(0x1f5)),_0x112263['redirect'](_0x44fc11(0x1ef));}catch(_0x1eca97){console[_0x44fc11(0x213)](_0x1eca97);}}),router[a0_0x2233e6(0x1de)]('/units/delete/:id',auth,async(_0x2254e8,_0x4290d8)=>{const _0x2b7a4b=a0_0x2233e6;try{const _0x5857e8=_0x2254e8[_0x2b7a4b(0x271)]['id'],_0x26b407=await units[_0x2b7a4b(0x263)](_0x5857e8);_0x2254e8[_0x2b7a4b(0x202)](_0x2b7a4b(0x234),_0x2b7a4b(0x25a)),_0x4290d8['redirect']('/products/units');}catch(_0x26112d){console[_0x2b7a4b(0x213)](_0x26112d);}});const storage=multer['diskStorage']({'destination':(_0x2f7824,_0x5093f5,_0x174981)=>{const _0xc3da6=a0_0x2233e6;_0x174981(null,_0xc3da6(0x210));},'filename':(_0x558734,_0x39cc30,_0x3bf0a3)=>{const _0x20ef94=a0_0x2233e6;_0x3bf0a3(null,Date[_0x20ef94(0x1e9)]()+_0x39cc30[_0x20ef94(0x21d)]);}}),upload=multer({'storage':storage});router[a0_0x2233e6(0x1de)]('/view',auth,async(_0x2257f7,_0x261737)=>{const _0x93219d=a0_0x2233e6;try{const {username:_0x572bb8,email:_0x37f3aa,role:_0xb1b172}=_0x2257f7[_0x93219d(0x276)],_0x4be37d=_0x2257f7['user'],_0x8122f5=await profile['findOne']({'email':_0x4be37d[_0x93219d(0x223)]}),_0x356344={'year':_0x93219d(0x216),'month':_0x93219d(0x254),'day':_0x93219d(0x216)},_0x53e907=await master_shop[_0x93219d(0x279)]();console[_0x93219d(0x213)](_0x93219d(0x241),_0x53e907);const _0x2a8dc1=await product[_0x93219d(0x279)]();console[_0x93219d(0x213)](_0x93219d(0x1d9),_0x2a8dc1);const _0xcd1db0=await warehouse[_0x93219d(0x277)]([{'$unwind':'$product_details'},{'$lookup':{'from':_0x93219d(0x251),'localField':_0x93219d(0x261),'foreignField':_0x93219d(0x26c),'as':_0x93219d(0x21a)}},{'$unwind':'$product_docs'},{'$project':{'product_name':_0x93219d(0x1d8),'product_stock':_0x93219d(0x1dd)}},{'$group':{'_id':_0x93219d(0x253),'product_stock':{'$sum':'$product_stock'}}}]);console[_0x93219d(0x213)](_0x93219d(0x247),_0xcd1db0),_0xcd1db0[_0x93219d(0x228)](_0x21650d=>{const _0x34b0ba=_0x2a8dc1['map'](_0x516b26=>{const _0x20254c=a0_0x521b;_0x516b26['name']==_0x21650d[_0x20254c(0x236)]&&(_0x516b26[_0x20254c(0x200)]=parseInt(_0x516b26[_0x20254c(0x200)])+parseInt(_0x21650d[_0x20254c(0x22a)]));});}),console[_0x93219d(0x213)](_0x93219d(0x1d9),_0x2a8dc1);if(_0x53e907[0x0]['language']=='English\x20(US)')var _0x5ac70f=users[_0x93219d(0x26d)];else{if(_0x53e907[0x0][_0x93219d(0x23f)]==_0x93219d(0x217))var _0x5ac70f=users[_0x93219d(0x217)];else{if(_0x53e907[0x0]['language']==_0x93219d(0x25f))var _0x5ac70f=users[_0x93219d(0x25f)];else{if(_0x53e907[0x0][_0x93219d(0x23f)]==_0x93219d(0x20d))var _0x5ac70f=users[_0x93219d(0x20d)];else{if(_0x53e907[0x0]['language']==_0x93219d(0x23c))var _0x5ac70f=users[_0x93219d(0x23c)];else{if(_0x53e907[0x0][_0x93219d(0x23f)]==_0x93219d(0x259))var _0x5ac70f=users['Portuguese'];else{if(_0x53e907[0x0][_0x93219d(0x23f)]==_0x93219d(0x1f1))var _0x5ac70f=users[_0x93219d(0x1f1)];else{if(_0x53e907[0x0][_0x93219d(0x23f)]==_0x93219d(0x23b))var _0x5ac70f=users[_0x93219d(0x27a)];}}}}}}}_0x261737[_0x93219d(0x226)](_0x93219d(0x251),{'success':_0x2257f7[_0x93219d(0x202)]('success'),'errors':_0x2257f7[_0x93219d(0x202)]('errors'),'alldata':_0x2a8dc1,'profile':_0x8122f5,'master_shop':_0x53e907,'role':_0x4be37d,'product_stock':_0xcd1db0,'language':_0x5ac70f});}catch(_0x594b2c){console['log'](_0x594b2c);}}),router['get'](a0_0x2233e6(0x1e5),auth,async(_0x54a756,_0xd2528)=>{const _0xf24df7=a0_0x2233e6;try{const {username:_0x5424a7,email:_0x3c10c9,role:_0x163d5}=_0x54a756[_0xf24df7(0x276)],_0x418de9=_0x54a756[_0xf24df7(0x276)],_0x28ea3f=await profile[_0xf24df7(0x1ed)]({'email':_0x418de9['email']}),_0x17ca3e=await master_shop[_0xf24df7(0x279)]();console['log'](_0xf24df7(0x209),_0x17ca3e);const _0x188978=await categories[_0xf24df7(0x279)]({}),_0xc0661b=await brands['find']({}),_0x4169fa=await units[_0xf24df7(0x279)]({}),_0x12e1e9=await warehouse[_0xf24df7(0x279)]({'status':'Enabled'});if(_0x17ca3e[0x0][_0xf24df7(0x23f)]==_0xf24df7(0x23e))var _0x34355f=users[_0xf24df7(0x26d)];else{if(_0x17ca3e[0x0][_0xf24df7(0x23f)]=='Hindi')var _0x34355f=users['Hindi'];else{if(_0x17ca3e[0x0][_0xf24df7(0x23f)]==_0xf24df7(0x25f))var _0x34355f=users[_0xf24df7(0x25f)];else{if(_0x17ca3e[0x0]['language']==_0xf24df7(0x20d))var _0x34355f=users[_0xf24df7(0x20d)];else{if(_0x17ca3e[0x0][_0xf24df7(0x23f)]==_0xf24df7(0x23c))var _0x34355f=users[_0xf24df7(0x23c)];else{if(_0x17ca3e[0x0][_0xf24df7(0x23f)]==_0xf24df7(0x259))var _0x34355f=users[_0xf24df7(0x250)];else{if(_0x17ca3e[0x0]['language']==_0xf24df7(0x1f1))var _0x34355f=users[_0xf24df7(0x1f1)];else{if(_0x17ca3e[0x0][_0xf24df7(0x23f)]==_0xf24df7(0x23b))var _0x34355f=users[_0xf24df7(0x27a)];}}}}}}}_0xd2528['render'](_0xf24df7(0x24f),{'success':_0x54a756[_0xf24df7(0x202)](_0xf24df7(0x234)),'errors':_0x54a756[_0xf24df7(0x202)](_0xf24df7(0x274)),'role':_0x418de9,'profile':_0x28ea3f,'categories':_0x188978,'brands':_0xc0661b,'master_shop':_0x17ca3e,'units':_0x4169fa,'language':_0x34355f,'find_data':_0x12e1e9});}catch(_0x3af0e5){console[_0xf24df7(0x213)](_0x3af0e5);}}),router[a0_0x2233e6(0x273)](a0_0x2233e6(0x1e5),auth,upload[a0_0x2233e6(0x1f8)](a0_0x2233e6(0x26a)),async(_0x35823d,_0x4612ee)=>{const _0x49ba6b=a0_0x2233e6;try{const {name:_0x5fb11d,category:_0x5133c3,brand:_0x546dbb,unit:_0x97c656,alertquantity:_0x43e23b,stock:_0x31b802,product_code:_0x42ca42,warehouse:_0x53af63,primary_ItemCode:_0x18ea69,second_ItemCode:_0x3951c9,second_unit:_0x21b70e,CBM:_0x3f705f,MaxPerProduct:_0x48a3b3,maxPerUnit:_0x1fbcb4}=_0x35823d[_0x49ba6b(0x26e)],_0x2df71a=_0x35823d[_0x49ba6b(0x24c)][_0x49ba6b(0x24a)],_0xc6f626=new product({'image':_0x2df71a,'name':_0x5fb11d,'category':_0x5133c3,'brand':_0x546dbb,'unit':_0x97c656,'alertquantity':_0x43e23b,'stock':_0x31b802,'product_code':_0x42ca42,'warehouse':_0x53af63,'primary_code':_0x18ea69,'secondary_code':_0x3951c9,'second_unit':_0x21b70e,'maxStocks':_0x48a3b3,'maxProdPerUnit':_0x1fbcb4,'CBM':_0x3f705f}),_0x425647=await _0xc6f626[_0x49ba6b(0x206)](),_0x2bca42=await categories[_0x49ba6b(0x1ed)]({'name':_0x5133c3});_0x2bca42[_0x49ba6b(0x251)]=parseInt(_0x2bca42[_0x49ba6b(0x251)])+0x1,await _0x2bca42[_0x49ba6b(0x206)]();const _0x569f03=await brands[_0x49ba6b(0x1ed)]({'name':_0x546dbb});_0x569f03[_0x49ba6b(0x251)]=parseInt(_0x569f03[_0x49ba6b(0x251)])+0x1,await _0x569f03[_0x49ba6b(0x206)]();const _0x664ef1=await units[_0x49ba6b(0x1ed)]({'name':_0x97c656});_0x664ef1[_0x49ba6b(0x251)]=parseInt(_0x664ef1['products'])+0x1,await _0x664ef1[_0x49ba6b(0x206)](),_0x35823d[_0x49ba6b(0x202)](_0x49ba6b(0x234),_0x49ba6b(0x1e7)),_0x4612ee[_0x49ba6b(0x265)](_0x49ba6b(0x1fe));}catch(_0x10c447){console[_0x49ba6b(0x213)](_0x10c447);}}),router[a0_0x2233e6(0x1de)](a0_0x2233e6(0x215),auth,async(_0x336a9f,_0x3d0215)=>{const _0x132d1d=a0_0x2233e6;try{const {username:_0x475f13,email:_0x7502ce,role:_0x3c8873}=_0x336a9f[_0x132d1d(0x276)],_0x2de91f=_0x336a9f[_0x132d1d(0x276)],_0x265a6b=await profile['findOne']({'email':_0x2de91f[_0x132d1d(0x223)]}),_0x54c7b5=await master_shop[_0x132d1d(0x279)]();console[_0x132d1d(0x213)]('edit\x20Product\x20master',_0x54c7b5);const _0x1388a2=_0x336a9f[_0x132d1d(0x271)]['id'],_0x9c1574=await product['findById'](_0x1388a2),_0x329163=await categories[_0x132d1d(0x279)]({}),_0x2fcc0a=await brands[_0x132d1d(0x279)]({}),_0x33828a=await units[_0x132d1d(0x279)]({}),_0xb03ea3=await warehouse[_0x132d1d(0x279)]({'status':_0x132d1d(0x1fb)}),_0x5546f7=await units[_0x132d1d(0x277)]([{'$group':{'_id':_0x132d1d(0x264),'secondaryunit':{'$first':'$secondary_unit'}}}]);if(_0x54c7b5[0x0][_0x132d1d(0x23f)]=='English\x20(US)')var _0x1b49d7=users[_0x132d1d(0x26d)];else{if(_0x54c7b5[0x0][_0x132d1d(0x23f)]==_0x132d1d(0x217))var _0x1b49d7=users[_0x132d1d(0x217)];else{if(_0x54c7b5[0x0][_0x132d1d(0x23f)]==_0x132d1d(0x25f))var _0x1b49d7=users[_0x132d1d(0x25f)];else{if(_0x54c7b5[0x0][_0x132d1d(0x23f)]=='Spanish')var _0x1b49d7=users[_0x132d1d(0x20d)];else{if(_0x54c7b5[0x0][_0x132d1d(0x23f)]==_0x132d1d(0x23c))var _0x1b49d7=users[_0x132d1d(0x23c)];else{if(_0x54c7b5[0x0][_0x132d1d(0x23f)]==_0x132d1d(0x259))var _0x1b49d7=users[_0x132d1d(0x250)];else{if(_0x54c7b5[0x0][_0x132d1d(0x23f)]==_0x132d1d(0x1f1))var _0x1b49d7=users[_0x132d1d(0x1f1)];else{if(_0x54c7b5[0x0][_0x132d1d(0x23f)]==_0x132d1d(0x23b))var _0x1b49d7=users['Arabic'];}}}}}}}_0x3d0215[_0x132d1d(0x226)](_0x132d1d(0x227),{'success':_0x336a9f[_0x132d1d(0x202)](_0x132d1d(0x234)),'errors':_0x336a9f[_0x132d1d(0x202)]('errors'),'role':_0x2de91f,'profile':_0x265a6b,'alldata':_0x9c1574,'categories':_0x329163,'brands':_0x2fcc0a,'master_shop':_0x54c7b5,'units':_0x33828a,'secondunit':_0x5546f7,'find_data':_0xb03ea3,'language':_0x1b49d7});}catch(_0x24bb3c){console[_0x132d1d(0x213)](_0x24bb3c);}}),router[a0_0x2233e6(0x273)]('/view/:id',auth,upload[a0_0x2233e6(0x1f8)]('image'),async(_0x44a6f9,_0x189902)=>{const _0x2aefad=a0_0x2233e6;try{console[_0x2aefad(0x213)]('hello');const _0x2497d4=_0x44a6f9[_0x2aefad(0x271)]['id'],_0x397496=await product['findById'](_0x2497d4),{image:_0x2f1245,name:_0x22cbad,category:_0x2043f0,brand:_0x1e88cf,sku:_0x4a4783,unit:_0x26e90b,alertquantity:_0x11d8e2,product_code:_0x2c2b0b,warehouse:_0x2a4e50,primary_ItemCode:_0xe2decb,second_ItemCode:_0x5a0140,second_unit:_0x26b27c,maxPerUnit:_0x350b90,MaxPerProduct:_0x17da37,CBM:_0x30a74f}=_0x44a6f9[_0x2aefad(0x26e)];_0x44a6f9[_0x2aefad(0x24c)]&&(_0x397496['image']=_0x44a6f9[_0x2aefad(0x24c)][_0x2aefad(0x24a)]);_0x397496[_0x2aefad(0x26c)]=_0x22cbad,_0x397496[_0x2aefad(0x244)]=_0x2043f0,_0x397496[_0x2aefad(0x218)]=_0x1e88cf,_0x397496[_0x2aefad(0x269)]=_0x4a4783,_0x397496[_0x2aefad(0x21e)]=_0x26e90b,_0x397496[_0x2aefad(0x201)]=_0x11d8e2,_0x397496[_0x2aefad(0x220)]=_0x2c2b0b,_0x397496[_0x2aefad(0x248)]=_0x2a4e50,_0x397496[_0x2aefad(0x25d)]=_0xe2decb,_0x397496[_0x2aefad(0x22c)]=_0x5a0140,_0x397496[_0x2aefad(0x20b)]=_0x26b27c,_0x397496['maxStocks']=_0x17da37,_0x397496['maxProdPerUnit']=_0x350b90,_0x397496[_0x2aefad(0x224)]=_0x30a74f;const _0x45d9bf=await _0x397496[_0x2aefad(0x206)]();console[_0x2aefad(0x213)](_0x2aefad(0x20c),_0x397496),_0x44a6f9['flash'](_0x2aefad(0x234),_0x2aefad(0x1e6)),_0x189902[_0x2aefad(0x265)]('/products/view');}catch(_0xc13c97){console[_0x2aefad(0x213)](_0xc13c97);}}),router['get']('/barcode/:id',auth,async(_0x39cfe5,_0x19145a)=>{const _0x4c95e1=a0_0x2233e6;try{const {username:_0xa54d6f,email:_0x31f968,role:_0x19f8c5}=_0x39cfe5[_0x4c95e1(0x276)],_0x49cc9e=_0x39cfe5[_0x4c95e1(0x276)],_0x26cafc=await profile[_0x4c95e1(0x1ed)]({'email':_0x49cc9e['email']}),_0x4c8348=await master_shop['find'](),_0x132d7f=_0x39cfe5[_0x4c95e1(0x271)]['id'],_0x350ae5=await product[_0x4c95e1(0x1ee)](_0x132d7f);if(_0x4c8348[0x0][_0x4c95e1(0x23f)]==_0x4c95e1(0x23e))var _0xd68b93=users[_0x4c95e1(0x26d)];else{if(_0x4c8348[0x0][_0x4c95e1(0x23f)]==_0x4c95e1(0x217))var _0xd68b93=users[_0x4c95e1(0x217)];else{if(_0x4c8348[0x0]['language']==_0x4c95e1(0x25f))var _0xd68b93=users[_0x4c95e1(0x25f)];else{if(_0x4c8348[0x0][_0x4c95e1(0x23f)]=='Spanish')var _0xd68b93=users['Spanish'];else{if(_0x4c8348[0x0][_0x4c95e1(0x23f)]==_0x4c95e1(0x23c))var _0xd68b93=users[_0x4c95e1(0x23c)];else{if(_0x4c8348[0x0]['language']==_0x4c95e1(0x259))var _0xd68b93=users[_0x4c95e1(0x250)];else{if(_0x4c8348[0x0][_0x4c95e1(0x23f)]==_0x4c95e1(0x1f1))var _0xd68b93=users[_0x4c95e1(0x1f1)];else{if(_0x4c8348[0x0][_0x4c95e1(0x23f)]==_0x4c95e1(0x23b))var _0xd68b93=users[_0x4c95e1(0x27a)];}}}}}}}_0x19145a[_0x4c95e1(0x226)](_0x4c95e1(0x240),{'success':_0x39cfe5['flash'](_0x4c95e1(0x234)),'errors':_0x39cfe5['flash']('errors'),'role':_0x49cc9e,'profile':_0x26cafc,'alldata':_0x350ae5,'master_shop':_0x4c8348,'language':_0xd68b93});}catch(_0x1489a7){console['log'](_0x1489a7);}}),router[a0_0x2233e6(0x1de)](a0_0x2233e6(0x203),auth,async(_0x8694e1,_0x2d452a)=>{const _0x4aa8e1=a0_0x2233e6;try{const _0x2e93f3=new excelJS[(_0x4aa8e1(0x255))](),_0x54c1b2=_0x2e93f3[_0x4aa8e1(0x229)](_0x4aa8e1(0x238));return _0x54c1b2['columns']=[{'header':'Product_Name','key':_0x4aa8e1(0x1f9),'width':0xa},{'header':_0x4aa8e1(0x1e1),'key':_0x4aa8e1(0x1ea),'width':0xa},{'header':_0x4aa8e1(0x1d6),'key':_0x4aa8e1(0x1df),'width':0xa},{'header':_0x4aa8e1(0x243),'key':_0x4aa8e1(0x24b),'width':0xa},{'header':_0x4aa8e1(0x270),'key':_0x4aa8e1(0x262),'width':0xa},{'header':'Primary_Code','key':'ProductCode','width':0xa},{'header':_0x4aa8e1(0x275),'key':_0x4aa8e1(0x1f3),'width':0xa},{'header':_0x4aa8e1(0x1fc),'key':'ProductCode','width':0xa},{'header':_0x4aa8e1(0x20a),'key':_0x4aa8e1(0x214),'width':0xa},{'header':_0x4aa8e1(0x246),'key':'PAlQty','width':0xa},{'header':'Maximum_Stocks','key':_0x4aa8e1(0x22b),'width':0xa},{'header':'CBM','key':_0x4aa8e1(0x224),'width':0xa}],_0x2d452a['setHeader']('Content-Type',_0x4aa8e1(0x252)),_0x2d452a[_0x4aa8e1(0x208)](_0x4aa8e1(0x221),_0x4aa8e1(0x1e4)),_0x2e93f3[_0x4aa8e1(0x24d)][_0x4aa8e1(0x257)](_0x2d452a)['then'](()=>{const _0x2ea19e=_0x4aa8e1;_0x2d452a[_0x2ea19e(0x1e2)](0xc8);});}catch(_0x2dbab6){_0x2d452a[_0x4aa8e1(0x1e2)](0x190)[_0x4aa8e1(0x1e8)](_0x2dbab6);}});const storage1=multer['diskStorage']({'destination':(_0x101532,_0x3f518c,_0xa41d80)=>{const _0x16f02d=a0_0x2233e6;_0xa41d80(null,_0x16f02d(0x233));},'filename':(_0x483477,_0xf4ab56,_0x59ccab)=>{const _0x2191a1=a0_0x2233e6;_0x59ccab(null,Date[_0x2191a1(0x1e9)]()+_0xf4ab56[_0x2191a1(0x21d)]);}}),uploadMigrate=multer({'storage':storage1});function a0_0x521b(_0x335297,_0xef7356){const _0x1efb1a=a0_0x1efb();return a0_0x521b=function(_0x521ba3,_0x2a222b){_0x521ba3=_0x521ba3-0x1d5;let _0x3e60f0=_0x1efb1a[_0x521ba3];return _0x3e60f0;},a0_0x521b(_0x335297,_0xef7356);}router[a0_0x2233e6(0x273)]('/products_import_migrate_file',auth,uploadMigrate['single'](a0_0x2233e6(0x23a)),async(_0x3f87b7,_0x3aa353)=>{const _0x33a645=a0_0x2233e6,_0x2e1bc9=_0x3f87b7[_0x33a645(0x24c)][_0x33a645(0x24a)],_0x4e1347=await xlsx[_0x33a645(0x266)](_0x33a645(0x225)+_0x2e1bc9);let _0x103806=_0x4e1347[_0x33a645(0x22e)],_0x927f2d=xlsx[_0x33a645(0x256)]['sheet_to_json'](_0x4e1347[_0x33a645(0x205)][_0x103806[0x0]]);for(const _0x30db22 of _0x927f2d){const _0x3c74de=_0x30db22['Product_Name'],_0x42bf0a=_0x30db22[_0x33a645(0x1e1)],_0x35c662=_0x30db22[_0x33a645(0x1d6)],_0x1f50eb=_0x30db22[_0x33a645(0x243)],_0x1ecc1f=_0x30db22[_0x33a645(0x1fc)],_0x45379f=_0x30db22[_0x33a645(0x20a)],_0x49c499=_0x30db22[_0x33a645(0x246)],_0x2e1ac1=_0x30db22[_0x33a645(0x239)],_0x1203be=_0x30db22[_0x33a645(0x275)],_0x51d0e8=_0x30db22[_0x33a645(0x26f)],_0x115be0=_0x30db22['max_number_per_units'],_0x5614ca=_0x30db22[_0x33a645(0x224)];try{let _0x14ce75=await categories['findOne']({'name':_0x45379f});if(!_0x14ce75){const _0x401ee2=new categories({'name':_0x45379f,'products':'0'});_0x14ce75=await _0x401ee2[_0x33a645(0x206)]();}let _0x3923cb=await brands[_0x33a645(0x1ed)]({'name':_0x42bf0a});if(!_0x3923cb){const _0x45d1c1=new brands({'name':_0x42bf0a,'products':'0'});_0x3923cb=await _0x45d1c1[_0x33a645(0x206)]();}let _0x152c51=await units['findOne']({'name':_0x35c662,'secondary_unit':_0x1f50eb});if(!_0x152c51){const _0x2bff60=new units({'name':_0x35c662,'secondary_unit':_0x1f50eb,'products':'0'});_0x152c51=await _0x2bff60[_0x33a645(0x206)]();}const _0x406b0b=await product[_0x33a645(0x279)]({'name':_0x3c74de,'category':_0x14ce75[_0x33a645(0x26c)],'brand':_0x3923cb[_0x33a645(0x26c)],'secondary_unit':_0x152c51['secondary_unit'],'product_code':_0x1ecc1f});if(_0x406b0b[_0x33a645(0x232)]===0x0){const _0x5611c8=new product({'image':_0x33a645(0x242),'name':_0x3c74de,'category':_0x14ce75['name'],'brand':_0x3923cb['name'],'unit':_0x152c51['name'],'alertquantity':_0x49c499,'product_code':_0x1ecc1f,'secondary_unit':_0x152c51[_0x33a645(0x20b)],'primary_code':_0x2e1ac1,'secondary_code':_0x1203be,'maxStocks':_0x51d0e8,'maxProdPerUnit':_0x115be0,'CBM':_0x5614ca}),_0x200c20=await _0x5611c8[_0x33a645(0x206)]();_0x14ce75[_0x33a645(0x251)]=parseInt(_0x14ce75[_0x33a645(0x251)])+0x1,await _0x14ce75[_0x33a645(0x206)](),_0x3923cb[_0x33a645(0x251)]=parseInt(_0x3923cb[_0x33a645(0x251)])+0x1,await _0x3923cb['save'](),_0x152c51[_0x33a645(0x251)]=parseInt(_0x152c51[_0x33a645(0x251)])+0x1,await _0x152c51[_0x33a645(0x206)](),_0x3f87b7[_0x33a645(0x202)](_0x33a645(0x234),_0x3c74de+'\x20added\x20successfully');}else _0x3f87b7['flash'](_0x33a645(0x237),_0x3c74de+_0x33a645(0x219));}catch(_0x42368d){_0x3aa353[_0x33a645(0x1e2)](0x1f4)[_0x33a645(0x1e3)]({'proderror':_0x42368d[_0x33a645(0x1ec)],'aproduct':_0x3c74de});}}_0x3aa353[_0x33a645(0x265)](_0x33a645(0x1fe));}),router[a0_0x2233e6(0x273)](a0_0x2233e6(0x1db),auth,async(_0x1d4083,_0x31311d)=>{const _0xd73b98=a0_0x2233e6;try{const {datachoose:_0x1d7695}=_0x1d4083[_0xd73b98(0x26e)];console[_0xd73b98(0x213)](_0x1d7695);var _0x285112;if(_0x1d7695==_0xd73b98(0x212))_0x285112=await product[_0xd73b98(0x277)]([{'$group':{'_id':_0xd73b98(0x23d)}}]);else{if(_0x1d7695=='brands')_0x285112=await product['aggregate']([{'$group':{'_id':_0xd73b98(0x22d)}}]);else{if(_0x1d7695==_0xd73b98(0x272))_0x285112=await product[_0xd73b98(0x277)]([{'$group':{'_id':'$category'}}]);else _0x1d7695==_0xd73b98(0x1fd)&&(_0x285112=[{'_id':_0xd73b98(0x1fd)}]);}}_0x31311d[_0xd73b98(0x1e3)](_0x285112);}catch(_0x38e717){_0x31311d['json']({'message':_0x38e717[_0xd73b98(0x1ec)]});}}),router[a0_0x2233e6(0x273)](a0_0x2233e6(0x1d5),auth,async(_0x44136e,_0x6c0cb0)=>{const _0x31b10b=a0_0x2233e6;try{const {data_choosing:_0x26fe01,data_selected:_0x48cce7}=_0x44136e[_0x31b10b(0x26e)];var _0x68f95d;if(_0x26fe01=='prod_categ')_0x68f95d=await product[_0x31b10b(0x277)]([{'$match':{'product_category':_0x48cce7}}]);else{if(_0x26fe01==_0x31b10b(0x20e))_0x68f95d=await product['aggregate']([{'$match':{'brand':_0x48cce7}}]);else{if(_0x26fe01==_0x31b10b(0x272))_0x68f95d=await product['aggregate']([{'$match':{'category':_0x48cce7}}]);else _0x26fe01==_0x31b10b(0x1fd)&&(_0x68f95d=await product['find']());}}_0x6c0cb0['json'](_0x68f95d);}catch(_0x4b23d3){_0x6c0cb0[_0x31b10b(0x1e3)]({'message':_0x4b23d3[_0x31b10b(0x1ec)]});}}),module[a0_0x2233e6(0x25b)]=router;