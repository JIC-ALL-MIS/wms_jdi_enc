function a0_0x1020(_0x263ca0,_0x5e3a39){const _0x4bf784=a0_0x4bf7();return a0_0x1020=function(_0x10203b,_0x1a0116){_0x10203b=_0x10203b-0xa8;let _0x5801f4=_0x4bf784[_0x10203b];return _0x5801f4;},a0_0x1020(_0x263ca0,_0x5e3a39);}const a0_0x185eff=a0_0x1020;(function(_0x44f383,_0x2e7bb0){const _0x371a55=a0_0x1020,_0x3daf39=_0x44f383();while(!![]){try{const _0x3f6126=-parseInt(_0x371a55(0xe4))/0x1*(-parseInt(_0x371a55(0xbb))/0x2)+parseInt(_0x371a55(0xc2))/0x3+-parseInt(_0x371a55(0xb3))/0x4+-parseInt(_0x371a55(0xf7))/0x5*(parseInt(_0x371a55(0xbf))/0x6)+-parseInt(_0x371a55(0xdc))/0x7+parseInt(_0x371a55(0xe8))/0x8*(-parseInt(_0x371a55(0xb1))/0x9)+-parseInt(_0x371a55(0xec))/0xa*(-parseInt(_0x371a55(0xb2))/0xb);if(_0x3f6126===_0x2e7bb0)break;else _0x3daf39['push'](_0x3daf39['shift']());}catch(_0xa60ed5){_0x3daf39['push'](_0x3daf39['shift']());}}}(a0_0x4bf7,0xe041e));const express=require('express'),app=express(),router=express['Router'](),bcrypt=require(a0_0x185eff(0xbd)),{profile,master_shop,sing_up,categories,brands,units,product,warehouse,staff,email_settings}=require('../models/all_models'),auth=require('../middleware/auth'),users=require('../public/language/languages.json'),nodemailer=require(a0_0x185eff(0xc1));router['get'](a0_0x185eff(0xb7),auth,async(_0x1caddb,_0x200fc3)=>{const _0x1090de=a0_0x185eff;try{const {username:_0x5cfe70,email:_0x1cb43c,role:_0x3cf173}=_0x1caddb[_0x1090de(0xc9)],_0x2d7888=_0x1caddb[_0x1090de(0xc9)],_0x517419=await profile[_0x1090de(0xd6)]({'email':_0x2d7888[_0x1090de(0xe1)]}),_0x4e6912=await master_shop[_0x1090de(0xd0)]();console[_0x1090de(0xf4)](_0x1090de(0xf5),_0x4e6912),warehouse_data=await warehouse['aggregate']([{'$match':{'status':'Enabled'}},{'$group':{'_id':_0x1090de(0xca),'name':{'$first':'$name'}}}]);const _0x1f7487=await staff[_0x1090de(0xd0)]();console[_0x1090de(0xf4)](_0x1f7487);if(_0x4e6912[0x0][_0x1090de(0xc3)]=='English\x20(US)'){var _0x48e2dc=users['English'];console['log'](_0x48e2dc);}else{if(_0x4e6912[0x0][_0x1090de(0xc3)]==_0x1090de(0xe0))var _0x48e2dc=users[_0x1090de(0xe0)];else{if(_0x4e6912[0x0]['language']=='German')var _0x48e2dc=users[_0x1090de(0xc7)];else{if(_0x4e6912[0x0][_0x1090de(0xc3)]=='Spanish')var _0x48e2dc=users[_0x1090de(0xe9)];else{if(_0x4e6912[0x0][_0x1090de(0xc3)]==_0x1090de(0xd9))var _0x48e2dc=users['French'];else{if(_0x4e6912[0x0][_0x1090de(0xc3)]==_0x1090de(0xf9))var _0x48e2dc=users[_0x1090de(0xac)];else{if(_0x4e6912[0x0][_0x1090de(0xc3)]=='Chinese')var _0x48e2dc=users[_0x1090de(0xb8)];else{if(_0x4e6912[0x0][_0x1090de(0xc3)]==_0x1090de(0xef))var _0x48e2dc=users[_0x1090de(0xb0)];}}}}}}}let _0x20ae04=[_0x1090de(0xe7),_0x1090de(0xa9)];_0x200fc3[_0x1090de(0xfc)]('staff',{'success':_0x1caddb['flash'](_0x1090de(0xbc)),'errors':_0x1caddb['flash'](_0x1090de(0xd2)),'role':_0x2d7888,'profile':_0x517419,'master_shop':_0x4e6912,'user':_0x1f7487,'language':_0x48e2dc,'warehouse':warehouse_data,'warehouse_cat':_0x20ae04});}catch(_0x4bcdc4){console['log'](_0x4bcdc4);}}),router[a0_0x185eff(0xdb)]('/view',auth,async(_0x4d7d21,_0x54a5b9)=>{const _0x310320=a0_0x185eff;try{const {name:_0x82405e,email:_0x20b3d9,mobile:_0x3d4f8c,password:_0x46887e,status:_0x2f4e99,warehouse:_0x5e9129,position:_0x47216a,warehouse_cat:_0x1d1be1}=_0x4d7d21[_0x310320(0xba)],_0x3d54d3=await bcrypt[_0x310320(0xaf)](_0x46887e,0xa),_0xa901e9=new staff({'name':_0x82405e,'email':_0x20b3d9,'mobile':_0x3d4f8c,'status':_0x2f4e99,'warehouse':_0x5e9129,'position':_0x47216a}),_0xf36bf1=await staff[_0x310320(0xd6)]({'email':_0x20b3d9});if(_0xf36bf1)return _0x4d7d21[_0x310320(0xf2)](_0x310320(0xd2),'Email\x20'+_0x20b3d9+_0x310320(0xee)),_0x54a5b9[_0x310320(0xd5)](_0x310320(0xb4)),![];const _0x4b2315=await _0xa901e9[_0x310320(0xb5)](),_0x58b71d=new sing_up({'name':_0x82405e,'email':_0x20b3d9,'password':_0x3d54d3,'role':_0x310320(0xe6)}),_0x23cb4a=await _0x58b71d[_0x310320(0xb5)](),_0x2d7976=new profile({'firstname':_0x82405e,'email':_0x20b3d9}),_0x1b077d=await _0x2d7976[_0x310320(0xb5)](),_0x26e651=await master_shop[_0x310320(0xd0)](),_0x4dbf0a=await email_settings[_0x310320(0xd6)]();let _0x5e0446=nodemailer[_0x310320(0xd4)]({'host':_0x4dbf0a[_0x310320(0xc6)],'port':Number(_0x4dbf0a['port']),'secure':![],'auth':{'user':_0x4dbf0a[_0x310320(0xe1)],'pass':_0x4dbf0a['password']}}),_0x1822e1={'from':_0x4dbf0a['email'],'to':supervisor_data[0x0]['RMSEmail'],'subject':_0x310320(0xde),'attachments':[{'filename':_0x310320(0xd7),'path':__dirname+'/../public'+_0x310320(0xcc)+_0x26e651[0x0]['image'],'cid':_0x310320(0xd8)}],'html':'<!DOCTYPE\x20html>'+_0x310320(0xd3)+_0x310320(0xa8)+_0x310320(0xb9)+_0x310320(0xea)+_0x310320(0xb9)+_0x310320(0xd1)+_0x310320(0xbe)+_0x310320(0xb9)+_0x310320(0xe5)+_0x26e651[0x0][_0x310320(0xe3)]+_0x310320(0xae)+_0x310320(0xbe)+_0x310320(0xbe)+_0x310320(0xdf)+_0x310320(0xb9)+_0x310320(0xda)+_0x310320(0xc4)+invoice+'\x20'+'<span\x20style=\x22float:\x20right;\x22>'+_0x310320(0xf3)+date+'\x20'+_0x310320(0xf0)+_0x310320(0xf8)+_0x310320(0xbe)+_0x310320(0xb9)+_0x310320(0xfd)+_0x310320(0xdd)+_0x26e651[0x0][_0x310320(0xe3)]+_0x310320(0xf8)+_0x310320(0xbe)+'</div>'+_0x310320(0xf6)};_0x4d7d21['flash']('success',_0x82405e+_0x310320(0xf1)),_0x54a5b9['redirect'](_0x310320(0xeb));}catch(_0x3c74e2){console[_0x310320(0xf4)](_0x3c74e2);}}),router[a0_0x185eff(0xe2)](a0_0x185eff(0xed),auth,async(_0x46a596,_0x421c66)=>{const _0x3c6716=a0_0x185eff;try{const _0x10e52f=_0x46a596[_0x3c6716(0xab)]['id'],_0x49766b=await master_shop[_0x3c6716(0xd0)](),_0x316704=await staff[_0x3c6716(0xcd)](_0x10e52f);if(_0x49766b[0x0]['language']==_0x3c6716(0xce))var _0x15e580=users[_0x3c6716(0xfb)];else{if(_0x49766b[0x0][_0x3c6716(0xc3)]==_0x3c6716(0xe0))var _0x15e580=users['Hindi'];else{if(_0x49766b[0x0][_0x3c6716(0xc3)]==_0x3c6716(0xc7))var _0x15e580=users[_0x3c6716(0xc7)];else{if(_0x49766b[0x0]['language']==_0x3c6716(0xe9))var _0x15e580=users[_0x3c6716(0xe9)];else{if(_0x49766b[0x0]['language']==_0x3c6716(0xd9))var _0x15e580=users['French'];else{if(_0x49766b[0x0][_0x3c6716(0xc3)]==_0x3c6716(0xf9))var _0x15e580=users[_0x3c6716(0xac)];else{if(_0x49766b[0x0][_0x3c6716(0xc3)]=='Chinese')var _0x15e580=users[_0x3c6716(0xb8)];else{if(_0x49766b[0x0][_0x3c6716(0xc3)]=='Arabic\x20(ae)')var _0x15e580=users[_0x3c6716(0xb0)];}}}}}}}let _0x2738f7=[_0x3c6716(0xe7),_0x3c6716(0xa9)];_0x421c66[_0x3c6716(0xfc)](_0x3c6716(0xe6),{'success':_0x46a596[_0x3c6716(0xf2)]('success'),'errors':_0x46a596[_0x3c6716(0xf2)](_0x3c6716(0xd2)),'master_shop':_0x49766b,'user':_0x316704,'language':_0x15e580,'warehouse_cat':_0x2738f7});}catch(_0x3a02a4){console[_0x3c6716(0xf4)](_0x3a02a4);}}),router[a0_0x185eff(0xdb)](a0_0x185eff(0xed),auth,async(_0x5e861f,_0x16a16a)=>{const _0x15c865=a0_0x185eff;try{const _0x3296bf=_0x5e861f[_0x15c865(0xab)]['id'],_0x5a75eb=await staff[_0x15c865(0xcd)](_0x3296bf),{name:_0x2fd762,email:_0x18187a,mobile:_0x168302,password:_0x5a9336,status:_0x35b206,warehouse:_0x53c844,position:_0x3739ab,warehouse_cat:_0x224e92}=_0x5e861f[_0x15c865(0xba)];_0x5a75eb[_0x15c865(0xad)]=_0x2fd762,_0x5a75eb[_0x15c865(0xe1)]=_0x18187a,_0x5a75eb[_0x15c865(0xc0)]=_0x168302,_0x5a75eb['status']=_0x35b206,_0x5a75eb[_0x15c865(0xc8)]=_0x53c844,_0x5a75eb['position']=_0x3739ab,_0x5a75eb[_0x15c865(0xc5)]=_0x224e92;const _0x5d75d1=await _0x5a75eb[_0x15c865(0xb5)](),_0x33d16a=await profile['findOne']({'email':_0x18187a});if(_0x5a9336[_0x15c865(0xb6)]>0x0){const _0x3388f=await bcrypt[_0x15c865(0xaf)](_0x5a9336,0xa),_0x2ad952=await sing_up['find']({'email':_0x18187a});_0x2ad952[0x0][_0x15c865(0xfa)]=_0x3388f;const _0x3e53d7=await _0x2ad952[0x0]['save']();}_0x33d16a[_0x15c865(0xcb)]=_0x2fd762,_0x33d16a[_0x15c865(0xe1)]=_0x18187a,await _0x33d16a[_0x15c865(0xb5)](),_0x5e861f[_0x15c865(0xf2)]('success','staff\x20data\x20update\x20successfully'),_0x16a16a[_0x15c865(0xd5)](_0x15c865(0xeb));}catch(_0x207cef){console['log'](_0x207cef),_0x16a16a[_0x15c865(0xcf)](0xc8)['json'](_0x207cef);}}),module[a0_0x185eff(0xaa)]=router;function a0_0x4bf7(){const _0xeecca4=['</span>','\x20is\x20add\x20successfully','flash','\x20Order\x20Date\x20:\x20','log','master','</body></html>','19765YrBCAS','</h5>','Portuguese\x20(BR)','password','English','render','<strong>\x20Regards\x20</strong>','</head><body>','Finished\x20Goods','exports','params','Portuguese','name','\x20</h2>','hash','Arabic','947295HSpAAl','34705847jWXhxw','3777120FdKXSQ','back','save','length','/view','Chinese','<div>','body','4Pgibma','success','bcryptjs','</div>','258YvXdUW','mobile','nodemailer','676881lfyFgD','language','\x20Order\x20Number\x20:\x20','warehouse_category','host','German','warehouse','user','$name','firstname','/upload/','findById','English\x20(US)','status','find','<img\x20src=\x22cid:logo\x22\x20class=\x22rounded\x22\x20width=\x2266.5px\x22\x20height=\x2266.5px\x22></img>','errors','<html><head><title></title>','createTransport','redirect','findOne','Logo.png','logo','French','<h5\x20style=\x22text-align:\x20left;\x22>','post','3292464MQuGmb','<h5>','User\x20Account\x20Created','<hr\x20class=\x22my-3\x22>','Hindi','email','get','site_title','140135RjLlXP','<h2>\x20','staff','Raw\x20Materials','88dxFdQl','Spanish','<div\x20style=\x22display:\x20flex;\x20align-items:\x20center;\x20justify-content:\x20center;\x22>','/staff/view','10PMFwpt','/view/:id','\x20is\x20alredy\x20added.\x20please\x20choose\x20another','Arabic\x20(ae)'];a0_0x4bf7=function(){return _0xeecca4;};return a0_0x4bf7();}