function a0_0xaa66(){const _0x5af1f4=['success','191246VANwjd','<div>','host','../public/language/languages.json','warehouse','<h5\x20style=\x22text-align:\x20left;\x22>','Finished\x20Goods','find','\x20is\x20alredy\x20added.\x20please\x20choose\x20another','name','45ZPwSfc','save','/upload/','createTransport','staff\x20data\x20update\x20successfully','1676185PyOLlC','body','</body></html>','staff','status','language','</div>','/view/:id','mobile','image','get','French','nodemailer','\x20Order\x20Date\x20:\x20','12NWxOuV','Email\x20','Spanish','findById','back','Chinese','Portuguese','logo','</span>','params','1316754ipokxh','errors','/../public','Arabic\x20(ae)','post','English\x20(US)','<img\x20src=\x22cid:logo\x22\x20class=\x22rounded\x22\x20width=\x2266.5px\x22\x20height=\x2266.5px\x22></img>','English','$name','email','<html><head><title></title>','Hindi','position','exports','4936880zQZOHN','Enabled','319776odTOON','findOne','German','password','hash','Arabic','log','flash','10169775nKXMrz','Portuguese\x20(BR)','../middleware/auth','\x20</h2>','102772dnfArv','Logo.png','/view','site_title','express','<strong>\x20Regards\x20</strong>','user','Raw\x20Materials','aggregate','port','warehouse_category','</h5>','<h2>\x20','\x20Order\x20Number\x20:\x20','render','redirect','firstname'];a0_0xaa66=function(){return _0x5af1f4;};return a0_0xaa66();}const a0_0xb7ab61=a0_0x43fa;(function(_0x534ab1,_0x3e6ec1){const _0x3d04ef=a0_0x43fa,_0x1f6e7a=_0x534ab1();while(!![]){try{const _0x5c8b80=-parseInt(_0x3d04ef(0x199))/0x1+-parseInt(_0x3d04ef(0x17b))/0x2+parseInt(_0x3d04ef(0x16b))/0x3+parseInt(_0x3d04ef(0x187))/0x4*(parseInt(_0x3d04ef(0x1a3))/0x5)+parseInt(_0x3d04ef(0x161))/0x6*(-parseInt(_0x3d04ef(0x153))/0x7)+-parseInt(_0x3d04ef(0x179))/0x8+parseInt(_0x3d04ef(0x183))/0x9;if(_0x5c8b80===_0x3e6ec1)break;else _0x1f6e7a['push'](_0x1f6e7a['shift']());}catch(_0x58ba6d){_0x1f6e7a['push'](_0x1f6e7a['shift']());}}}(a0_0xaa66,0x562d0));const express=require(a0_0xb7ab61(0x18b)),app=express(),router=express['Router'](),bcrypt=require('bcryptjs'),{profile,master_shop,sing_up,categories,brands,units,product,warehouse,staff,email_settings}=require('../models/all_models'),auth=require(a0_0xb7ab61(0x185)),users=require(a0_0xb7ab61(0x19c)),nodemailer=require(a0_0xb7ab61(0x15f));function a0_0x43fa(_0x430954,_0x5bf9e3){const _0xaa66e8=a0_0xaa66();return a0_0x43fa=function(_0x43fab4,_0x4b9100){_0x43fab4=_0x43fab4-0x150;let _0xf2270a=_0xaa66e8[_0x43fab4];return _0xf2270a;},a0_0x43fa(_0x430954,_0x5bf9e3);}router[a0_0xb7ab61(0x15d)]('/view',auth,async(_0x3e9ac7,_0xb19123)=>{const _0x33da26=a0_0xb7ab61;try{const {username:_0x392ea7,email:_0x3349f3,role:_0x2e689d}=_0x3e9ac7[_0x33da26(0x18d)],_0x53509b=_0x3e9ac7[_0x33da26(0x18d)],_0x38bdef=await profile['findOne']({'email':_0x53509b[_0x33da26(0x174)]}),_0x75ef12=await master_shop[_0x33da26(0x1a0)]();console[_0x33da26(0x181)]('master',_0x75ef12),warehouse_data=await warehouse[_0x33da26(0x18f)]([{'$match':{'status':_0x33da26(0x17a)}},{'$group':{'_id':_0x33da26(0x173),'name':{'$first':'$name'}}}]);const _0x13987b=await staff[_0x33da26(0x1a0)]();console['log'](_0x13987b);if(_0x75ef12[0x0][_0x33da26(0x158)]==_0x33da26(0x170)){var _0x39a5f8=users['English'];console[_0x33da26(0x181)](_0x39a5f8);}else{if(_0x75ef12[0x0]['language']==_0x33da26(0x176))var _0x39a5f8=users[_0x33da26(0x176)];else{if(_0x75ef12[0x0][_0x33da26(0x158)]==_0x33da26(0x17d))var _0x39a5f8=users[_0x33da26(0x17d)];else{if(_0x75ef12[0x0]['language']=='Spanish')var _0x39a5f8=users[_0x33da26(0x163)];else{if(_0x75ef12[0x0]['language']==_0x33da26(0x15e))var _0x39a5f8=users[_0x33da26(0x15e)];else{if(_0x75ef12[0x0][_0x33da26(0x158)]==_0x33da26(0x184))var _0x39a5f8=users[_0x33da26(0x167)];else{if(_0x75ef12[0x0][_0x33da26(0x158)]==_0x33da26(0x166))var _0x39a5f8=users[_0x33da26(0x166)];else{if(_0x75ef12[0x0]['language']==_0x33da26(0x16e))var _0x39a5f8=users[_0x33da26(0x180)];}}}}}}}let _0x213b6c=[_0x33da26(0x18e),_0x33da26(0x19f)];_0xb19123[_0x33da26(0x195)](_0x33da26(0x156),{'success':_0x3e9ac7[_0x33da26(0x182)](_0x33da26(0x198)),'errors':_0x3e9ac7[_0x33da26(0x182)](_0x33da26(0x16c)),'role':_0x53509b,'profile':_0x38bdef,'master_shop':_0x75ef12,'user':_0x13987b,'language':_0x39a5f8,'warehouse':warehouse_data,'warehouse_cat':_0x213b6c});}catch(_0x435e87){console[_0x33da26(0x181)](_0x435e87);}}),router[a0_0xb7ab61(0x16f)](a0_0xb7ab61(0x189),auth,async(_0x1b8ea6,_0x25acc5)=>{const _0xdd1ad1=a0_0xb7ab61;try{const {name:_0x4d2c85,email:_0x1a1385,mobile:_0x17609e,password:_0x5d24b4,status:_0x760501,warehouse:_0x2567e4,position:_0x172c4b,warehouse_cat:_0x12fd46}=_0x1b8ea6['body'],_0x2770c6=await bcrypt['hash'](_0x5d24b4,0xa),_0x285bd9=new staff({'name':_0x4d2c85,'email':_0x1a1385,'mobile':_0x17609e,'status':_0x760501,'warehouse':_0x2567e4,'position':_0x172c4b}),_0x5d8749=await staff['findOne']({'email':_0x1a1385});if(_0x5d8749)return _0x1b8ea6[_0xdd1ad1(0x182)](_0xdd1ad1(0x16c),_0xdd1ad1(0x162)+_0x1a1385+_0xdd1ad1(0x1a1)),_0x25acc5[_0xdd1ad1(0x196)](_0xdd1ad1(0x165)),![];const _0x5bc8f4=await _0x285bd9[_0xdd1ad1(0x1a4)](),_0x408cb2=new sing_up({'name':_0x4d2c85,'email':_0x1a1385,'password':_0x2770c6,'role':_0xdd1ad1(0x156)}),_0x5b8daa=await _0x408cb2[_0xdd1ad1(0x1a4)](),_0x5690ea=new profile({'firstname':_0x4d2c85,'email':_0x1a1385}),_0xcf30f9=await _0x5690ea['save'](),_0x50ee56=await master_shop[_0xdd1ad1(0x1a0)](),_0x105c19=await email_settings[_0xdd1ad1(0x17c)]();let _0xbd2dfc=nodemailer[_0xdd1ad1(0x151)]({'host':_0x105c19[_0xdd1ad1(0x19b)],'port':Number(_0x105c19[_0xdd1ad1(0x190)]),'secure':![],'auth':{'user':_0x105c19['email'],'pass':_0x105c19[_0xdd1ad1(0x17e)]}}),_0x5a2a62={'from':_0x105c19[_0xdd1ad1(0x174)],'to':supervisor_data[0x0]['RMSEmail'],'subject':'User\x20Account\x20Created','attachments':[{'filename':_0xdd1ad1(0x188),'path':__dirname+_0xdd1ad1(0x16d)+_0xdd1ad1(0x150)+_0x50ee56[0x0][_0xdd1ad1(0x15c)],'cid':_0xdd1ad1(0x168)}],'html':'<!DOCTYPE\x20html>'+_0xdd1ad1(0x175)+'</head><body>'+'<div>'+'<div\x20style=\x22display:\x20flex;\x20align-items:\x20center;\x20justify-content:\x20center;\x22>'+_0xdd1ad1(0x19a)+_0xdd1ad1(0x171)+'</div>'+_0xdd1ad1(0x19a)+_0xdd1ad1(0x193)+_0x50ee56[0x0][_0xdd1ad1(0x18a)]+_0xdd1ad1(0x186)+_0xdd1ad1(0x159)+_0xdd1ad1(0x159)+'<hr\x20class=\x22my-3\x22>'+_0xdd1ad1(0x19a)+_0xdd1ad1(0x19e)+_0xdd1ad1(0x194)+invoice+'\x20'+'<span\x20style=\x22float:\x20right;\x22>'+_0xdd1ad1(0x160)+date+'\x20'+_0xdd1ad1(0x169)+_0xdd1ad1(0x192)+_0xdd1ad1(0x159)+'<div>'+_0xdd1ad1(0x18c)+'<h5>'+_0x50ee56[0x0][_0xdd1ad1(0x18a)]+_0xdd1ad1(0x192)+_0xdd1ad1(0x159)+_0xdd1ad1(0x159)+_0xdd1ad1(0x155)};_0x1b8ea6['flash']('success',_0x4d2c85+'\x20is\x20add\x20successfully'),_0x25acc5[_0xdd1ad1(0x196)]('/staff/view');}catch(_0x771d76){console['log'](_0x771d76);}}),router[a0_0xb7ab61(0x15d)](a0_0xb7ab61(0x15a),auth,async(_0x20bf35,_0x89aef7)=>{const _0x312d01=a0_0xb7ab61;try{const _0x47e3d2=_0x20bf35[_0x312d01(0x16a)]['id'],_0xa734f6=await master_shop[_0x312d01(0x1a0)](),_0x5617e3=await staff[_0x312d01(0x164)](_0x47e3d2);if(_0xa734f6[0x0][_0x312d01(0x158)]==_0x312d01(0x170))var _0x35b41c=users[_0x312d01(0x172)];else{if(_0xa734f6[0x0]['language']==_0x312d01(0x176))var _0x35b41c=users[_0x312d01(0x176)];else{if(_0xa734f6[0x0][_0x312d01(0x158)]==_0x312d01(0x17d))var _0x35b41c=users['German'];else{if(_0xa734f6[0x0][_0x312d01(0x158)]==_0x312d01(0x163))var _0x35b41c=users['Spanish'];else{if(_0xa734f6[0x0]['language']==_0x312d01(0x15e))var _0x35b41c=users[_0x312d01(0x15e)];else{if(_0xa734f6[0x0][_0x312d01(0x158)]==_0x312d01(0x184))var _0x35b41c=users[_0x312d01(0x167)];else{if(_0xa734f6[0x0][_0x312d01(0x158)]=='Chinese')var _0x35b41c=users[_0x312d01(0x166)];else{if(_0xa734f6[0x0][_0x312d01(0x158)]==_0x312d01(0x16e))var _0x35b41c=users[_0x312d01(0x180)];}}}}}}}let _0x386778=['Raw\x20Materials',_0x312d01(0x19f)];_0x89aef7[_0x312d01(0x195)]('staff',{'success':_0x20bf35[_0x312d01(0x182)](_0x312d01(0x198)),'errors':_0x20bf35[_0x312d01(0x182)](_0x312d01(0x16c)),'master_shop':_0xa734f6,'user':_0x5617e3,'language':_0x35b41c,'warehouse_cat':_0x386778});}catch(_0xbfa167){console[_0x312d01(0x181)](_0xbfa167);}}),router['post']('/view/:id',auth,async(_0x27596e,_0x15d582)=>{const _0x36c5e9=a0_0xb7ab61;try{const _0x567b50=_0x27596e['params']['id'],_0x1a3b5a=await staff[_0x36c5e9(0x164)](_0x567b50),{name:_0x10b5f6,email:_0x407261,mobile:_0xbd51fb,password:_0x429b87,status:_0xe84bf3,warehouse:_0x3c7d78,position:_0x5bf32f,warehouse_cat:_0x591205}=_0x27596e[_0x36c5e9(0x154)];_0x1a3b5a[_0x36c5e9(0x1a2)]=_0x10b5f6,_0x1a3b5a['email']=_0x407261,_0x1a3b5a[_0x36c5e9(0x15b)]=_0xbd51fb,_0x1a3b5a[_0x36c5e9(0x157)]=_0xe84bf3,_0x1a3b5a[_0x36c5e9(0x19d)]=_0x3c7d78,_0x1a3b5a[_0x36c5e9(0x177)]=_0x5bf32f,_0x1a3b5a[_0x36c5e9(0x191)]=_0x591205;const _0x118c66=await _0x1a3b5a[_0x36c5e9(0x1a4)](),_0x4dd369=await profile[_0x36c5e9(0x17c)]({'email':_0x407261});if(_0x429b87['length']>0x0){const _0x27f0c9=await bcrypt[_0x36c5e9(0x17f)](_0x429b87,0xa),_0x48885c=await sing_up[_0x36c5e9(0x1a0)]({'email':_0x407261});_0x48885c[0x0][_0x36c5e9(0x17e)]=_0x27f0c9;const _0x21811c=await _0x48885c[0x0][_0x36c5e9(0x1a4)]();}_0x4dd369[_0x36c5e9(0x197)]=_0x10b5f6,_0x4dd369[_0x36c5e9(0x174)]=_0x407261,await _0x4dd369[_0x36c5e9(0x1a4)](),_0x27596e[_0x36c5e9(0x182)](_0x36c5e9(0x198),_0x36c5e9(0x152)),_0x15d582[_0x36c5e9(0x196)]('/staff/view');}catch(_0x35b0d6){console['log'](_0x35b0d6),_0x15d582[_0x36c5e9(0x157)](0xc8)['json'](_0x35b0d6);}}),module[a0_0xb7ab61(0x178)]=router;