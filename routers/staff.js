function a0_0x5f40(_0x20bba0,_0x4cfbe1){const _0x559c93=a0_0x559c();return a0_0x5f40=function(_0x5f4098,_0x46616c){_0x5f4098=_0x5f4098-0x9c;let _0x143c1f=_0x559c93[_0x5f4098];return _0x143c1f;},a0_0x5f40(_0x20bba0,_0x4cfbe1);}const a0_0xcc049f=a0_0x5f40;(function(_0x33db0c,_0x28cea1){const _0x410ecd=a0_0x5f40,_0x2093ae=_0x33db0c();while(!![]){try{const _0x44c4c6=-parseInt(_0x410ecd(0xe6))/0x1*(parseInt(_0x410ecd(0xab))/0x2)+parseInt(_0x410ecd(0xdd))/0x3*(parseInt(_0x410ecd(0xef))/0x4)+-parseInt(_0x410ecd(0xdb))/0x5+parseInt(_0x410ecd(0xca))/0x6*(parseInt(_0x410ecd(0xba))/0x7)+parseInt(_0x410ecd(0xa9))/0x8*(parseInt(_0x410ecd(0xcd))/0x9)+parseInt(_0x410ecd(0xb2))/0xa+-parseInt(_0x410ecd(0xeb))/0xb;if(_0x44c4c6===_0x28cea1)break;else _0x2093ae['push'](_0x2093ae['shift']());}catch(_0x2384b1){_0x2093ae['push'](_0x2093ae['shift']());}}}(a0_0x559c,0x1b5d7));const express=require(a0_0xcc049f(0xa5)),app=express(),router=express['Router'](),bcrypt=require(a0_0xcc049f(0x9c)),{profile,master_shop,sing_up,categories,brands,units,product,warehouse,staff,email_settings}=require(a0_0xcc049f(0xd3)),auth=require('../middleware/auth'),users=require(a0_0xcc049f(0xe5)),nodemailer=require('nodemailer');router[a0_0xcc049f(0x9e)](a0_0xcc049f(0xe7),auth,async(_0x291516,_0x37a97f)=>{const _0xafbdb3=a0_0xcc049f;try{const {username:_0x31c48a,email:_0x2599fe,role:_0x3f5926}=_0x291516['user'],_0x3bd998=_0x291516[_0xafbdb3(0xd2)],_0x47ecb9=await profile[_0xafbdb3(0xa4)]({'email':_0x3bd998[_0xafbdb3(0xc1)]}),_0x59ec06=await master_shop['find']();console[_0xafbdb3(0xd5)]('master',_0x59ec06),warehouse_data=await warehouse['aggregate']([{'$match':{'status':_0xafbdb3(0xaa)}},{'$group':{'_id':'$name','name':{'$first':_0xafbdb3(0xd6)}}}]);const _0x2daadd=await staff['find']();console[_0xafbdb3(0xd5)](_0x2daadd);if(_0x59ec06[0x0]['language']==_0xafbdb3(0xac)){var _0x2017f4=users[_0xafbdb3(0xa2)];console['log'](_0x2017f4);}else{if(_0x59ec06[0x0]['language']==_0xafbdb3(0xde))var _0x2017f4=users[_0xafbdb3(0xde)];else{if(_0x59ec06[0x0]['language']==_0xafbdb3(0xad))var _0x2017f4=users[_0xafbdb3(0xad)];else{if(_0x59ec06[0x0][_0xafbdb3(0xc9)]=='Spanish')var _0x2017f4=users[_0xafbdb3(0xe0)];else{if(_0x59ec06[0x0][_0xafbdb3(0xc9)]=='French')var _0x2017f4=users['French'];else{if(_0x59ec06[0x0][_0xafbdb3(0xc9)]==_0xafbdb3(0xc7))var _0x2017f4=users[_0xafbdb3(0xa0)];else{if(_0x59ec06[0x0]['language']=='Chinese')var _0x2017f4=users[_0xafbdb3(0xb8)];else{if(_0x59ec06[0x0][_0xafbdb3(0xc9)]==_0xafbdb3(0xe2))var _0x2017f4=users['Arabic'];}}}}}}}let _0x128d3d=[_0xafbdb3(0xe3),_0xafbdb3(0xbf)];_0x37a97f[_0xafbdb3(0xc5)](_0xafbdb3(0xdc),{'success':_0x291516['flash'](_0xafbdb3(0xc3)),'errors':_0x291516[_0xafbdb3(0xb4)](_0xafbdb3(0xb5)),'role':_0x3bd998,'profile':_0x47ecb9,'master_shop':_0x59ec06,'user':_0x2daadd,'language':_0x2017f4,'warehouse':warehouse_data,'warehouse_cat':_0x128d3d});}catch(_0x13a0f6){console[_0xafbdb3(0xd5)](_0x13a0f6);}}),router['post']('/view',auth,async(_0x155655,_0x9c7215)=>{const _0x53b567=a0_0xcc049f;try{const {name:_0x2c8417,email:_0x328b05,mobile:_0x10cdeb,password:_0x3e605d,status:_0x1a4d77,warehouse:_0x37f505,position:_0x4b29c3,warehouse_cat:_0x1c5c5f}=_0x155655[_0x53b567(0xcf)],_0x428089=await bcrypt[_0x53b567(0xcb)](_0x3e605d,0xa),_0x1b737f=new staff({'name':_0x2c8417,'email':_0x328b05,'mobile':_0x10cdeb,'status':_0x1a4d77,'warehouse':_0x37f505,'position':_0x4b29c3}),_0xf00253=await staff[_0x53b567(0xa4)]({'email':_0x328b05});if(_0xf00253)return _0x155655[_0x53b567(0xb4)](_0x53b567(0xb5),_0x53b567(0xb3)+_0x328b05+_0x53b567(0xa3)),_0x9c7215[_0x53b567(0xd8)](_0x53b567(0xaf)),![];const _0xe4492=await _0x1b737f['save'](),_0x3d7442=new sing_up({'name':_0x2c8417,'email':_0x328b05,'password':_0x428089,'role':_0x53b567(0xdc)}),_0x121647=await _0x3d7442[_0x53b567(0xd1)](),_0x155000=new profile({'firstname':_0x2c8417,'email':_0x328b05}),_0x42b3bf=await _0x155000[_0x53b567(0xd1)](),_0x439dd6=await master_shop[_0x53b567(0xee)](),_0x589f6f=await email_settings[_0x53b567(0xa4)]();let _0x3ba01c=nodemailer['createTransport']({'host':_0x589f6f[_0x53b567(0xa7)],'port':Number(_0x589f6f['port']),'secure':![],'auth':{'user':_0x589f6f[_0x53b567(0xc1)],'pass':_0x589f6f['password']}}),_0x22892e={'from':_0x589f6f[_0x53b567(0xc1)],'to':supervisor_data[0x0][_0x53b567(0xbd)],'subject':'User\x20Account\x20Created','attachments':[{'filename':_0x53b567(0xa8),'path':__dirname+_0x53b567(0xb0)+'/upload/'+_0x439dd6[0x0][_0x53b567(0x9d)],'cid':_0x53b567(0xa1)}],'html':'<!DOCTYPE\x20html>'+_0x53b567(0xa6)+_0x53b567(0xe8)+_0x53b567(0xc2)+'<div\x20style=\x22display:\x20flex;\x20align-items:\x20center;\x20justify-content:\x20center;\x22>'+_0x53b567(0xc2)+_0x53b567(0xcc)+_0x53b567(0xc0)+'<div>'+'<h2>\x20'+_0x439dd6[0x0][_0x53b567(0xb9)]+_0x53b567(0xc4)+_0x53b567(0xc0)+_0x53b567(0xc0)+_0x53b567(0xed)+_0x53b567(0xc2)+'<h5\x20style=\x22text-align:\x20left;\x22>'+_0x53b567(0xc6)+invoice+'\x20'+'<span\x20style=\x22float:\x20right;\x22>'+_0x53b567(0xce)+date+'\x20'+_0x53b567(0xb6)+_0x53b567(0xdf)+'</div>'+_0x53b567(0xc2)+_0x53b567(0xbb)+'<h5>'+_0x439dd6[0x0][_0x53b567(0xb9)]+_0x53b567(0xdf)+_0x53b567(0xc0)+_0x53b567(0xc0)+'</body></html>'};_0x155655['flash']('success',_0x2c8417+_0x53b567(0x9f)),_0x9c7215[_0x53b567(0xd8)](_0x53b567(0xb7));}catch(_0x475e90){console[_0x53b567(0xd5)](_0x475e90);}}),router['get']('/view/:id',auth,async(_0x3728d5,_0x516f09)=>{const _0x51a39e=a0_0xcc049f;try{const _0x22ea00=_0x3728d5[_0x51a39e(0xe4)]['id'],_0x1906e7=await master_shop[_0x51a39e(0xee)](),_0x197cc9=await staff[_0x51a39e(0xe1)](_0x22ea00);if(_0x1906e7[0x0][_0x51a39e(0xc9)]==_0x51a39e(0xac))var _0x26c012=users['English'];else{if(_0x1906e7[0x0][_0x51a39e(0xc9)]==_0x51a39e(0xde))var _0x26c012=users[_0x51a39e(0xde)];else{if(_0x1906e7[0x0][_0x51a39e(0xc9)]==_0x51a39e(0xad))var _0x26c012=users[_0x51a39e(0xad)];else{if(_0x1906e7[0x0][_0x51a39e(0xc9)]==_0x51a39e(0xe0))var _0x26c012=users['Spanish'];else{if(_0x1906e7[0x0][_0x51a39e(0xc9)]==_0x51a39e(0xd0))var _0x26c012=users[_0x51a39e(0xd0)];else{if(_0x1906e7[0x0][_0x51a39e(0xc9)]==_0x51a39e(0xc7))var _0x26c012=users['Portuguese'];else{if(_0x1906e7[0x0]['language']=='Chinese')var _0x26c012=users[_0x51a39e(0xb8)];else{if(_0x1906e7[0x0]['language']==_0x51a39e(0xe2))var _0x26c012=users[_0x51a39e(0xbc)];}}}}}}}let _0x20a16c=[_0x51a39e(0xe3),_0x51a39e(0xbf)];_0x516f09['render'](_0x51a39e(0xdc),{'success':_0x3728d5[_0x51a39e(0xb4)](_0x51a39e(0xc3)),'errors':_0x3728d5[_0x51a39e(0xb4)](_0x51a39e(0xb5)),'master_shop':_0x1906e7,'user':_0x197cc9,'language':_0x26c012,'warehouse_cat':_0x20a16c});}catch(_0x4e274e){console[_0x51a39e(0xd5)](_0x4e274e);}}),router[a0_0xcc049f(0xec)]('/view/:id',auth,async(_0x2e5d75,_0x176a88)=>{const _0x1443f4=a0_0xcc049f;try{const _0x49912a=_0x2e5d75[_0x1443f4(0xe4)]['id'],_0x55435d=await staff[_0x1443f4(0xe1)](_0x49912a),{name:_0x991bfa,email:_0x70934b,mobile:_0x59ea27,password:_0x5df9d7,status:_0x3fdf37,warehouse:_0x8b785b,position:_0x1fe84e,warehouse_cat:_0x253794}=_0x2e5d75['body'];_0x55435d[_0x1443f4(0xd9)]=_0x991bfa,_0x55435d['email']=_0x70934b,_0x55435d[_0x1443f4(0xb1)]=_0x59ea27,_0x55435d['status']=_0x3fdf37,_0x55435d[_0x1443f4(0xda)]=_0x8b785b,_0x55435d['position']=_0x1fe84e,_0x55435d[_0x1443f4(0xd4)]=_0x253794;const _0x3f4c46=await _0x55435d['save'](),_0x373e47=await profile['findOne']({'email':_0x70934b});if(_0x5df9d7[_0x1443f4(0xe9)]>0x0){const _0x1ab0c4=await bcrypt[_0x1443f4(0xcb)](_0x5df9d7,0xa),_0x1f4e63=await sing_up[_0x1443f4(0xee)]({'email':_0x70934b});_0x1f4e63[0x0][_0x1443f4(0xd7)]=_0x1ab0c4;const _0x51e832=await _0x1f4e63[0x0][_0x1443f4(0xd1)]();}_0x373e47[_0x1443f4(0xea)]=_0x991bfa,_0x373e47[_0x1443f4(0xc1)]=_0x70934b,await _0x373e47[_0x1443f4(0xd1)](),_0x2e5d75[_0x1443f4(0xb4)]('success',_0x1443f4(0xae)),_0x176a88['redirect'](_0x1443f4(0xb7));}catch(_0x4381f1){console[_0x1443f4(0xd5)](_0x4381f1),_0x176a88['status'](0xc8)[_0x1443f4(0xc8)](_0x4381f1);}}),module[a0_0xcc049f(0xbe)]=router;function a0_0x559c(){const _0x4b5fda=['<div>','success','\x20</h2>','render','\x20Order\x20Number\x20:\x20','Portuguese\x20(BR)','json','language','178530XnGqCm','hash','<img\x20src=\x22cid:logo\x22\x20class=\x22rounded\x22\x20width=\x2266.5px\x22\x20height=\x2266.5px\x22></img>','1248444SdUiIO','\x20Order\x20Date\x20:\x20','body','French','save','user','../models/all_models','warehouse_category','log','$name','password','redirect','name','warehouse','475195EBqjHu','staff','4467wniaOJ','Hindi','</h5>','Spanish','findById','Arabic\x20(ae)','Raw\x20Materials','params','../public/language/languages.json','122qPhpGc','/view','</head><body>','length','firstname','2543783ktYKRT','post','<hr\x20class=\x22my-3\x22>','find','360qIWxch','bcryptjs','image','get','\x20is\x20add\x20successfully','Portuguese','logo','English','\x20is\x20alredy\x20added.\x20please\x20choose\x20another','findOne','express','<html><head><title></title>','host','Logo.png','8USUtvs','Enabled','388huokCT','English\x20(US)','German','staff\x20data\x20update\x20successfully','back','/../public','mobile','1298110mzzgUF','Email\x20','flash','errors','</span>','/staff/view','Chinese','site_title','14Oesubt','<strong>\x20Regards\x20</strong>','Arabic','RMSEmail','exports','Finished\x20Goods','</div>','email'];a0_0x559c=function(){return _0x4b5fda;};return a0_0x559c();}