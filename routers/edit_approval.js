const a0_0x27eda2=a0_0x41b8;(function(_0x431418,_0xebbc81){const _0x370006=a0_0x41b8,_0x24df03=_0x431418();while(!![]){try{const _0x4e52a5=parseInt(_0x370006(0xf7))/0x1+parseInt(_0x370006(0xeb))/0x2+parseInt(_0x370006(0xd4))/0x3*(-parseInt(_0x370006(0xe0))/0x4)+-parseInt(_0x370006(0xd6))/0x5*(-parseInt(_0x370006(0xd8))/0x6)+parseInt(_0x370006(0xe4))/0x7+parseInt(_0x370006(0xf9))/0x8+parseInt(_0x370006(0xdd))/0x9*(-parseInt(_0x370006(0xcf))/0xa);if(_0x4e52a5===_0xebbc81)break;else _0x24df03['push'](_0x24df03['shift']());}catch(_0x37b529){_0x24df03['push'](_0x24df03['shift']());}}}(a0_0x5045,0xc6375));function a0_0x5045(){const _0x142e74=['Spanish','10518ImMPrU','Portuguese','5rmSsNp','email','3690954rUzInw','/outgoing','adj','False','German','10132497qcXPQS','Transfer','Hindi','1532neWdKX','/transfer','Portuguese\x20(BR)','body','802284QhVyxv','Chinese','Router','findOne','save','French','json','2853904GdhRZu','edit_approvals_view','/view','exports','express','/adjustment','find','Arabic','user','success','get','English','1263907QljPMT','Arabic\x20(ae)','7885816BtBaem','flash','isAllowEdit','post','log','render','message','approvals_view','language','English\x20(US)','20kynPTS','errors','nodemailer','invoice'];a0_0x5045=function(){return _0x142e74;};return a0_0x5045();}function a0_0x41b8(_0x3a0cf9,_0x2110c1){const _0x50456f=a0_0x5045();return a0_0x41b8=function(_0x41b8db,_0x4871eb){_0x41b8db=_0x41b8db-0xcc;let _0x329505=_0x50456f[_0x41b8db];return _0x329505;},a0_0x41b8(_0x3a0cf9,_0x2110c1);}const express=require(a0_0x27eda2(0xef)),app=express(),router=express[a0_0x27eda2(0xe6)](),auth=require('../middleware/auth'),{profile,master_shop,sales_finished,adjustment_finished,transfers_finished}=require('../models/all_models'),users=require('../public/language/languages.json'),nodemailer=require(a0_0x27eda2(0xd1));router['get'](a0_0x27eda2(0xed),auth,async(_0x31094c,_0x5d8e42)=>{const _0x25ef35=a0_0x27eda2;try{const {username:_0x5c0c0e,email:_0x284e50,role:_0x2591bd}=_0x31094c['user'],_0x2587ff=_0x31094c[_0x25ef35(0xf3)],_0x1843a9=await profile['findOne']({'email':_0x2587ff[_0x25ef35(0xd7)]}),_0x434071=await master_shop[_0x25ef35(0xf1)](),_0x3cd136=await sales_finished[_0x25ef35(0xf1)]({'finalize':_0x25ef35(0xdb)}),_0x560e75=await adjustment_finished[_0x25ef35(0xf1)]({'finalize':_0x25ef35(0xdb)}),_0x2eff49=await transfers_finished[_0x25ef35(0xf1)]({'finalize':_0x25ef35(0xdb)});if(_0x434071[0x0]['language']==_0x25ef35(0xce))var _0x4ff361=users[_0x25ef35(0xf6)];else{if(_0x434071[0x0][_0x25ef35(0xcd)]==_0x25ef35(0xdf))var _0x4ff361=users[_0x25ef35(0xdf)];else{if(_0x434071[0x0][_0x25ef35(0xcd)]==_0x25ef35(0xdc))var _0x4ff361=users[_0x25ef35(0xdc)];else{if(_0x434071[0x0]['language']=='Spanish')var _0x4ff361=users[_0x25ef35(0xd3)];else{if(_0x434071[0x0]['language']==_0x25ef35(0xe9))var _0x4ff361=users[_0x25ef35(0xe9)];else{if(_0x434071[0x0][_0x25ef35(0xcd)]==_0x25ef35(0xe2))var _0x4ff361=users['Portuguese'];else{if(_0x434071[0x0]['language']==_0x25ef35(0xe5))var _0x4ff361=users['Chinese'];else{if(_0x434071[0x0][_0x25ef35(0xcd)]==_0x25ef35(0xf8))var _0x4ff361=users[_0x25ef35(0xf2)];}}}}}}}_0x5d8e42['render'](_0x25ef35(0xec),{'success':_0x31094c[_0x25ef35(0xfa)](_0x25ef35(0xf4)),'errors':_0x31094c[_0x25ef35(0xfa)](_0x25ef35(0xd0)),'role':_0x2587ff,'profile':_0x1843a9,'master_shop':_0x434071,'language':_0x4ff361,'sales':_0x3cd136,'adjustment':_0x560e75,'transfer':_0x2eff49});}catch(_0x2fe125){console[_0x25ef35(0xfd)](_0x2fe125);}}),router[a0_0x27eda2(0xf5)]('/outgoing',auth,async(_0x43e12e,_0x1b0a33)=>{const _0x496f83=a0_0x27eda2;try{const {username:_0x5c6c6c,email:_0x224f7b,role:_0x2886db}=_0x43e12e[_0x496f83(0xf3)],_0x2d1067=_0x43e12e[_0x496f83(0xf3)],_0x53ed3f=await profile[_0x496f83(0xe7)]({'email':_0x2d1067['email']}),_0x4bfca9=await master_shop[_0x496f83(0xf1)](),_0x1aa4d1=await sales_finished['find']({'finalize':_0x496f83(0xdb)}),_0x5771f8={'name':'Outgoing','code':'out'};if(_0x4bfca9[0x0][_0x496f83(0xcd)]==_0x496f83(0xce))var _0x31d5c2=users[_0x496f83(0xf6)];else{if(_0x4bfca9[0x0][_0x496f83(0xcd)]=='Hindi')var _0x31d5c2=users[_0x496f83(0xdf)];else{if(_0x4bfca9[0x0]['language']==_0x496f83(0xdc))var _0x31d5c2=users['German'];else{if(_0x4bfca9[0x0][_0x496f83(0xcd)]=='Spanish')var _0x31d5c2=users['Spanish'];else{if(_0x4bfca9[0x0][_0x496f83(0xcd)]==_0x496f83(0xe9))var _0x31d5c2=users[_0x496f83(0xe9)];else{if(_0x4bfca9[0x0]['language']=='Portuguese\x20(BR)')var _0x31d5c2=users[_0x496f83(0xd5)];else{if(_0x4bfca9[0x0]['language']==_0x496f83(0xe5))var _0x31d5c2=users[_0x496f83(0xe5)];else{if(_0x4bfca9[0x0]['language']==_0x496f83(0xf8))var _0x31d5c2=users[_0x496f83(0xf2)];}}}}}}}_0x1b0a33[_0x496f83(0xfe)](_0x496f83(0xcc),{'success':_0x43e12e[_0x496f83(0xfa)](_0x496f83(0xf4)),'errors':_0x43e12e[_0x496f83(0xfa)](_0x496f83(0xd0)),'role':_0x2d1067,'profile':_0x53ed3f,'master_shop':_0x4bfca9,'language':_0x31d5c2,'data':_0x1aa4d1,'titleName':_0x5771f8});}catch(_0x1afcab){console['log'](_0x1afcab);}}),router[a0_0x27eda2(0xfc)](a0_0x27eda2(0xd9),auth,async(_0x4dd6d7,_0x3dda2b)=>{const _0x48617e=a0_0x27eda2;try{const {id:_0x5822f2,invoice:_0x6b6b51,value:_0x10e452}=_0x4dd6d7['body'],_0x12d56d=await sales_finished['findOne']({'_id':_0x5822f2,'invoice':_0x6b6b51});_0x12d56d[_0x48617e(0xfb)]=_0x10e452;const _0x1fefb0=await _0x12d56d[_0x48617e(0xe8)]();_0x3dda2b[_0x48617e(0xea)]({'status':0xc8,'data':{'BoolData':_0x1fefb0[_0x48617e(0xfb)],'InvoiceNum':_0x1fefb0['invoice']}});}catch(_0x559143){return console[_0x48617e(0xfd)](_0x559143),{'status':0x194,'data':_0x559143[_0x48617e(0xff)]};}}),router[a0_0x27eda2(0xf5)](a0_0x27eda2(0xf0),auth,async(_0x16c8a3,_0x3b7208)=>{const _0x2ba9dd=a0_0x27eda2;try{const {username:_0x3b02dc,email:_0x56b9b9,role:_0x2151f5}=_0x16c8a3[_0x2ba9dd(0xf3)],_0x5b152c=_0x16c8a3['user'],_0x4ab0b0=await profile[_0x2ba9dd(0xe7)]({'email':_0x5b152c[_0x2ba9dd(0xd7)]}),_0x5cc0da=await master_shop[_0x2ba9dd(0xf1)](),_0x178616=await adjustment_finished[_0x2ba9dd(0xf1)]({'finalize':_0x2ba9dd(0xdb)}),_0x59e17e={'name':'Adjustment','code':_0x2ba9dd(0xda)};if(_0x5cc0da[0x0][_0x2ba9dd(0xcd)]==_0x2ba9dd(0xce))var _0xab1b51=users[_0x2ba9dd(0xf6)];else{if(_0x5cc0da[0x0][_0x2ba9dd(0xcd)]==_0x2ba9dd(0xdf))var _0xab1b51=users[_0x2ba9dd(0xdf)];else{if(_0x5cc0da[0x0]['language']=='German')var _0xab1b51=users[_0x2ba9dd(0xdc)];else{if(_0x5cc0da[0x0][_0x2ba9dd(0xcd)]==_0x2ba9dd(0xd3))var _0xab1b51=users['Spanish'];else{if(_0x5cc0da[0x0][_0x2ba9dd(0xcd)]==_0x2ba9dd(0xe9))var _0xab1b51=users['French'];else{if(_0x5cc0da[0x0]['language']==_0x2ba9dd(0xe2))var _0xab1b51=users[_0x2ba9dd(0xd5)];else{if(_0x5cc0da[0x0]['language']==_0x2ba9dd(0xe5))var _0xab1b51=users[_0x2ba9dd(0xe5)];else{if(_0x5cc0da[0x0][_0x2ba9dd(0xcd)]==_0x2ba9dd(0xf8))var _0xab1b51=users[_0x2ba9dd(0xf2)];}}}}}}}_0x3b7208[_0x2ba9dd(0xfe)](_0x2ba9dd(0xcc),{'success':_0x16c8a3[_0x2ba9dd(0xfa)]('success'),'errors':_0x16c8a3[_0x2ba9dd(0xfa)](_0x2ba9dd(0xd0)),'role':_0x5b152c,'profile':_0x4ab0b0,'master_shop':_0x5cc0da,'language':_0xab1b51,'data':_0x178616,'titleName':_0x59e17e});}catch(_0x22b4a3){console[_0x2ba9dd(0xfd)](_0x22b4a3);}}),router[a0_0x27eda2(0xfc)](a0_0x27eda2(0xf0),auth,async(_0x5bfb46,_0x52a137)=>{const _0x14e3a8=a0_0x27eda2;try{const {id:_0x223aac,invoice:_0x305c18,value:_0xc5baa8}=_0x5bfb46[_0x14e3a8(0xe3)],_0x2e09bf=await adjustment_finished['findOne']({'_id':_0x223aac,'invoice':_0x305c18});_0x2e09bf[_0x14e3a8(0xfb)]=_0xc5baa8;const _0x3e63f6=await _0x2e09bf[_0x14e3a8(0xe8)]();_0x52a137[_0x14e3a8(0xea)]({'status':0xc8,'data':{'BoolData':_0x3e63f6[_0x14e3a8(0xfb)],'InvoiceNum':_0x3e63f6[_0x14e3a8(0xd2)]}});}catch(_0x5c751d){return{'status':0x194,'data':_0x5c751d[_0x14e3a8(0xff)]};}}),router[a0_0x27eda2(0xf5)]('/transfer',auth,async(_0x24ab3b,_0x5883e0)=>{const _0x490c87=a0_0x27eda2;try{const {username:_0x119b02,email:_0x407c93,role:_0x2423eb}=_0x24ab3b['user'],_0x359d7a=_0x24ab3b[_0x490c87(0xf3)],_0x54be84=await profile[_0x490c87(0xe7)]({'email':_0x359d7a[_0x490c87(0xd7)]}),_0x844d7c=await master_shop[_0x490c87(0xf1)](),_0x3dd041=await transfers_finished['find']({'finalize':_0x490c87(0xdb)}),_0xfdfc26={'name':_0x490c87(0xde),'code':'trf'};if(_0x844d7c[0x0][_0x490c87(0xcd)]=='English\x20(US)')var _0x4dc99f=users[_0x490c87(0xf6)];else{if(_0x844d7c[0x0]['language']=='Hindi')var _0x4dc99f=users[_0x490c87(0xdf)];else{if(_0x844d7c[0x0][_0x490c87(0xcd)]==_0x490c87(0xdc))var _0x4dc99f=users[_0x490c87(0xdc)];else{if(_0x844d7c[0x0][_0x490c87(0xcd)]==_0x490c87(0xd3))var _0x4dc99f=users[_0x490c87(0xd3)];else{if(_0x844d7c[0x0][_0x490c87(0xcd)]==_0x490c87(0xe9))var _0x4dc99f=users[_0x490c87(0xe9)];else{if(_0x844d7c[0x0][_0x490c87(0xcd)]==_0x490c87(0xe2))var _0x4dc99f=users[_0x490c87(0xd5)];else{if(_0x844d7c[0x0]['language']=='Chinese')var _0x4dc99f=users[_0x490c87(0xe5)];else{if(_0x844d7c[0x0][_0x490c87(0xcd)]==_0x490c87(0xf8))var _0x4dc99f=users['Arabic'];}}}}}}}_0x5883e0[_0x490c87(0xfe)](_0x490c87(0xcc),{'success':_0x24ab3b[_0x490c87(0xfa)](_0x490c87(0xf4)),'errors':_0x24ab3b[_0x490c87(0xfa)]('errors'),'role':_0x359d7a,'profile':_0x54be84,'master_shop':_0x844d7c,'language':_0x4dc99f,'data':_0x3dd041,'titleName':_0xfdfc26});}catch(_0x5e6a6b){console[_0x490c87(0xfd)](_0x5e6a6b);}}),router[a0_0x27eda2(0xfc)](a0_0x27eda2(0xe1),auth,async(_0x9319ac,_0x277369)=>{const _0x1412b9=a0_0x27eda2;try{const {id:_0x3aca22,invoice:_0x39aa26,value:_0x30e566}=_0x9319ac[_0x1412b9(0xe3)],_0x1aab37=await transfers_finished[_0x1412b9(0xe7)]({'_id':_0x3aca22,'invoice':_0x39aa26});_0x1aab37['isAllowEdit']=_0x30e566;const _0x5ba011=await _0x1aab37['save']();_0x277369[_0x1412b9(0xea)]({'status':0xc8,'data':{'BoolData':_0x5ba011[_0x1412b9(0xfb)],'InvoiceNum':_0x5ba011[_0x1412b9(0xd2)]}});}catch(_0x30c402){return{'status':0x194,'data':_0x30c402[_0x1412b9(0xff)]};}}),module[a0_0x27eda2(0xee)]=router;