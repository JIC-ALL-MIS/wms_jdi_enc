var a0_0x15b9ed=a0_0x340c;(function(_0x405f05,_0x1b5a9f){var _0x1c6e76=a0_0x340c,_0x59ebfd=_0x405f05();while(!![]){try{var _0xb6397b=-parseInt(_0x1c6e76(0x162))/0x1+-parseInt(_0x1c6e76(0x155))/0x2+-parseInt(_0x1c6e76(0x12e))/0x3+parseInt(_0x1c6e76(0x115))/0x4+-parseInt(_0x1c6e76(0xeb))/0x5*(parseInt(_0x1c6e76(0x10a))/0x6)+-parseInt(_0x1c6e76(0x161))/0x7+-parseInt(_0x1c6e76(0x146))/0x8*(-parseInt(_0x1c6e76(0x135))/0x9);if(_0xb6397b===_0x1b5a9f)break;else _0x59ebfd['push'](_0x59ebfd['shift']());}catch(_0x23f11c){_0x59ebfd['push'](_0x59ebfd['shift']());}}}(a0_0x5edc,0x63638));function a0_0x340c(_0x5ae733,_0x10a05c){var _0x5edc89=a0_0x5edc();return a0_0x340c=function(_0x340c17,_0x4f06fd){_0x340c17=_0x340c17-0xe4;var _0x12d059=_0x5edc89[_0x340c17];return _0x12d059;},a0_0x340c(_0x5ae733,_0x10a05c);}const express=require(a0_0x15b9ed(0x103)),app=express(),router=express[a0_0x15b9ed(0x188)](),auth=require(a0_0x15b9ed(0x16a)),{profile,master_shop,categories,brands,units,product,warehouse,staff,customer,suppliers,purchases,suppliers_payment,expenses_type,all_expenses,adjustment}=require('../models/all_models'),users=require(a0_0x15b9ed(0x106));router[a0_0x15b9ed(0x17d)](a0_0x15b9ed(0x148),auth,async(_0x5e05c4,_0x1a094d)=>{var _0x3408ad=a0_0x15b9ed;try{const {username:_0x2e8bf6,email:_0x2705dc,role:_0x36587c}=_0x5e05c4[_0x3408ad(0x11d)],_0x421a1b=_0x5e05c4['user'],_0x3ac3e5=await profile[_0x3408ad(0x178)]({'email':_0x421a1b['email']}),_0x2a4fce=await master_shop[_0x3408ad(0x125)]();console['log']('master',_0x2a4fce);let _0x30dc31;if(_0x421a1b[_0x3408ad(0x126)]==_0x3408ad(0x159)){const _0x2b971f=await staff[_0x3408ad(0x178)]({'email':_0x421a1b[_0x3408ad(0x108)]});_0x30dc31=await warehouse[_0x3408ad(0x125)]({'status':'Enabled','name':_0x2b971f[_0x3408ad(0x153)]});}else _0x30dc31=await warehouse[_0x3408ad(0x125)]({'status':_0x3408ad(0x102)});const _0x1432e7=await product['find']();let _0x3f3156;if(_0x421a1b[_0x3408ad(0x126)]==_0x3408ad(0x159)){const _0x32fc24=await staff[_0x3408ad(0x178)]({'email':_0x421a1b['email']});_0x3f3156=await adjustment[_0x3408ad(0x125)]({'warehouse_name':_0x32fc24[_0x3408ad(0x153)]});}else _0x3f3156=await adjustment[_0x3408ad(0x16b)]([{'$unwind':'$product'},{'$group':{'_id':_0x3408ad(0xf3),'invoice':{'$first':_0x3408ad(0x189)},'date':{'$first':_0x3408ad(0xfe)},'warehouse_name':{'$first':_0x3408ad(0x172)},'room':{'$addToSet':_0x3408ad(0x119)},'finalize':{'$first':_0x3408ad(0x16f)}}},{'$project':{'_id':0x1,'invoice':0x1,'suppliers':0x1,'date':0x1,'warehouse_name':0x1,'room':0x1,'finalize':0x1}}]);if(_0x2a4fce[0x0]['language']=='English\x20(US)'){var _0x410193=users['English'];console[_0x3408ad(0x136)](_0x410193);}else{if(_0x2a4fce[0x0][_0x3408ad(0xef)]=='Hindi')var _0x410193=users[_0x3408ad(0x174)];else{if(_0x2a4fce[0x0]['language']==_0x3408ad(0x15f))var _0x410193=users[_0x3408ad(0x15f)];else{if(_0x2a4fce[0x0][_0x3408ad(0xef)]=='Spanish')var _0x410193=users[_0x3408ad(0x165)];else{if(_0x2a4fce[0x0]['language']==_0x3408ad(0x12c))var _0x410193=users['French'];else{if(_0x2a4fce[0x0][_0x3408ad(0xef)]=='Portuguese\x20(BR)')var _0x410193=users[_0x3408ad(0x131)];else{if(_0x2a4fce[0x0]['language']==_0x3408ad(0x132))var _0x410193=users[_0x3408ad(0x132)];else{if(_0x2a4fce[0x0]['language']==_0x3408ad(0xe9))var _0x410193=users['Arabic'];}}}}}}}_0x1a094d['render']('adjustment',{'success':_0x5e05c4[_0x3408ad(0x121)]('success'),'errors':_0x5e05c4[_0x3408ad(0x121)](_0x3408ad(0x138)),'role':_0x421a1b,'profile':_0x3ac3e5,'warehouse':_0x30dc31,'product':_0x1432e7,'adjustment':_0x3f3156,'master_shop':_0x2a4fce,'language':_0x410193});}catch(_0xb13966){console['log'](_0xb13966);}}),router[a0_0x15b9ed(0x17d)](a0_0x15b9ed(0x101),auth,async(_0xf88cfd,_0x2d4d11)=>{var _0x442b70=a0_0x15b9ed;try{const {username:_0x56b48f,email:_0x13eefc,role:_0x2469ed}=_0xf88cfd[_0x442b70(0x11d)],_0x101c5c=_0xf88cfd['user'],_0x331ce1=await profile[_0x442b70(0x178)]({'email':_0x101c5c[_0x442b70(0x108)]}),_0x9da064=await master_shop[_0x442b70(0x125)]();let _0x4dd4fb;if(_0x101c5c[_0x442b70(0x126)]=='staff'){const _0x528fa7=await staff[_0x442b70(0x178)]({'email':_0x101c5c['email']});_0x4dd4fb=await warehouse[_0x442b70(0x16b)]([{'$match':{'status':_0x442b70(0x102),'name':_0x528fa7[_0x442b70(0x153)],'warehouse_category':_0x442b70(0xf5),'name':{'$ne':_0x442b70(0xf8)}}},{'$group':{'_id':_0x442b70(0xfc),'name':{'$first':_0x442b70(0xfc)}}}]);}else _0x4dd4fb=await warehouse[_0x442b70(0x16b)]([{'$match':{'status':_0x442b70(0x102),'warehouse_category':_0x442b70(0xf5),'name':{'$ne':_0x442b70(0xf8)}}},{'$group':{'_id':_0x442b70(0xfc),'name':{'$first':'$name'}}}]);const _0x148698=await product[_0x442b70(0x125)]({}),_0x408562=await adjustment[_0x442b70(0x125)]({}),_0x30e034=_0x408562[_0x442b70(0x151)]+0x1,_0x33180f=_0x442b70(0x13b)+_0x30e034[_0x442b70(0x187)]()['padStart'](0x5,'0');var _0x33ae8d=[_0x442b70(0x15e),_0x442b70(0x118),_0x442b70(0x17f)];if(_0x9da064[0x0][_0x442b70(0xef)]==_0x442b70(0x14d))var _0x484127=users['English'];else{if(_0x9da064[0x0][_0x442b70(0xef)]==_0x442b70(0x174))var _0x484127=users[_0x442b70(0x174)];else{if(_0x9da064[0x0]['language']=='German')var _0x484127=users['German'];else{if(_0x9da064[0x0][_0x442b70(0xef)]==_0x442b70(0x165))var _0x484127=users['Spanish'];else{if(_0x9da064[0x0][_0x442b70(0xef)]==_0x442b70(0x12c))var _0x484127=users[_0x442b70(0x12c)];else{if(_0x9da064[0x0][_0x442b70(0xef)]=='Portuguese\x20(BR)')var _0x484127=users[_0x442b70(0x131)];else{if(_0x9da064[0x0][_0x442b70(0xef)]==_0x442b70(0x132))var _0x484127=users[_0x442b70(0x132)];else{if(_0x9da064[0x0][_0x442b70(0xef)]==_0x442b70(0xe9))var _0x484127=users[_0x442b70(0x16c)];}}}}}}}_0x2d4d11[_0x442b70(0x175)](_0x442b70(0x13d),{'success':_0xf88cfd[_0x442b70(0x121)]('success'),'errors':_0xf88cfd[_0x442b70(0x121)](_0x442b70(0x138)),'role':_0x101c5c,'profile':_0x331ce1,'warehouse':_0x4dd4fb,'product':_0x148698,'master_shop':_0x9da064,'language':_0x484127,'rooms_data':_0x33ae8d,'invoice_no':_0x33180f});}catch(_0x591f69){console['log'](_0x591f69);}}),router[a0_0x15b9ed(0x133)](a0_0x15b9ed(0x101),auth,async(_0x528273,_0x123267)=>{var _0x5e3194=a0_0x15b9ed;try{const {warehouse_name:_0x542a5a,date:_0x11cfde,prod_name:_0x76cf45,level:_0x38bcbd,isle:_0x335a06,pallet:_0x37eb27,stock:_0x586812,types:_0x334083,adjust_qty:_0x2eacb1,new_adjust_qty:_0x403dbc,note:_0x1ee58b,Room_name:_0x2ebeb1,invoice:_0x462661,JO_number:_0x430cbb,expiry_date:_0xe88688}=_0x528273[_0x5e3194(0x128)];if(typeof _0x76cf45=='string')var _0x4089e6=[_0x528273[_0x5e3194(0x128)][_0x5e3194(0x17b)]],_0x502781=[_0x528273[_0x5e3194(0x128)][_0x5e3194(0x186)]],_0x21bbc1=[_0x528273[_0x5e3194(0x128)][_0x5e3194(0x180)]],_0x32e29b=[_0x528273[_0x5e3194(0x128)][_0x5e3194(0xee)]],_0xa8b8b7=[_0x528273[_0x5e3194(0x128)]['New_Qty_Converted_adj']],_0x1caeca=[_0x528273['body'][_0x5e3194(0x122)]],_0x338b37=[_0x528273['body']['Primary_Units']],_0x326092=[_0x528273['body'][_0x5e3194(0x166)]],_0x5c73ce=[_0x528273['body']['prod_code']],_0x2b3812=[_0x528273[_0x5e3194(0x128)][_0x5e3194(0x170)]],_0x35efe4=[_0x528273[_0x5e3194(0x128)][_0x5e3194(0x10d)]],_0x2c3d84=[_0x528273[_0x5e3194(0x128)][_0x5e3194(0x140)]],_0x156945=[_0x528273['body'][_0x5e3194(0x129)]],_0x5d9f79=[_0x528273[_0x5e3194(0x128)]['prod_cat']],_0x4b088a=[_0x528273['body'][_0x5e3194(0x145)]];else var _0x4089e6=[..._0x528273[_0x5e3194(0x128)][_0x5e3194(0x17b)]],_0x502781=[..._0x528273[_0x5e3194(0x128)][_0x5e3194(0x186)]],_0x21bbc1=[..._0x528273[_0x5e3194(0x128)]['stock']],_0x32e29b=[..._0x528273[_0x5e3194(0x128)][_0x5e3194(0xee)]],_0xa8b8b7=[..._0x528273['body']['adjust_qty']],_0x1caeca=[..._0x528273[_0x5e3194(0x128)][_0x5e3194(0x110)]],_0x338b37=[..._0x528273[_0x5e3194(0x128)][_0x5e3194(0x147)]],_0x326092=[..._0x528273[_0x5e3194(0x128)][_0x5e3194(0x166)]],_0x5c73ce=[..._0x528273[_0x5e3194(0x128)][_0x5e3194(0xed)]],_0x2b3812=[..._0x528273[_0x5e3194(0x128)][_0x5e3194(0x170)]],_0x35efe4=[..._0x528273[_0x5e3194(0x128)][_0x5e3194(0x10d)]],_0x2c3d84=[..._0x528273[_0x5e3194(0x128)]['max_per_unit']],_0x156945=[..._0x528273[_0x5e3194(0x128)][_0x5e3194(0x129)]],_0x5d9f79=[..._0x528273[_0x5e3194(0x128)][_0x5e3194(0x156)]],_0x4b088a=[..._0x528273[_0x5e3194(0x128)][_0x5e3194(0x145)]];const _0x41f7fa=_0x4089e6[_0x5e3194(0x10f)](_0x10331c=>{return _0x10331c={'product_name':_0x10331c};});_0x502781['forEach']((_0x180b49,_0x4703b3)=>{var _0xa43122=_0x5e3194;_0x4b088a[_0xa43122(0x104)]((_0x1d7d70,_0x1e5233)=>{var _0x155303=_0xa43122;if(_0x1d7d70==_0x155303(0x12f)&&_0x4703b3==_0x1e5233){var _0x5dccfc=_0x180b49['slice'](0x3);_0x41f7fa[_0x4703b3][_0x155303(0xfd)]=_0x180b49[0x0],_0x41f7fa[_0x4703b3][_0x155303(0x14e)]=_0x180b49[0x1],_0x41f7fa[_0x4703b3][_0x155303(0xe6)]=0x0,_0x41f7fa[_0x4703b3][_0x155303(0x112)]=0x0,_0x41f7fa[_0x4703b3][_0x155303(0x157)]=_0x155303(0x10b),_0x41f7fa[_0x4703b3][_0x155303(0x16d)]=_0x5dccfc;}else{if(_0x1d7d70==_0x155303(0xf1)&&_0x4703b3==_0x1e5233){var _0x5dccfc=_0x180b49[_0x155303(0x10c)](0x3);_0x41f7fa[_0x4703b3]['storage']=_0x180b49[0x0],_0x41f7fa[_0x4703b3]['rack']=_0x180b49[0x1],_0x41f7fa[_0x4703b3][_0x155303(0xe6)]=0x0,_0x41f7fa[_0x4703b3]['bin']=0x0,_0x41f7fa[_0x4703b3][_0x155303(0x157)]=_0x155303(0x10b),_0x41f7fa[_0x4703b3][_0x155303(0x16d)]=_0x180b49[0x5];}else{if(_0x4703b3==_0x1e5233){var _0x5261c4;if(_0x180b49[0x4]=='L')_0x5261c4=_0x155303(0xe8);else _0x180b49[0x4]=='F'&&(_0x5261c4=_0x155303(0x10b));_0x41f7fa[_0x4703b3]['storage']=_0x180b49[0x0],_0x41f7fa[_0x4703b3]['rack']=_0x180b49[0x1],_0x41f7fa[_0x4703b3][_0x155303(0xe6)]=_0x180b49[0x2],_0x41f7fa[_0x4703b3]['bin']=_0x180b49[0x3],_0x41f7fa[_0x4703b3]['type']=_0x5261c4,_0x41f7fa[_0x4703b3][_0x155303(0x16d)]=_0x180b49[0x5];}}}});}),_0x21bbc1[_0x5e3194(0x104)]((_0x42815a,_0xd846d3)=>{var _0x647e9b=_0x5e3194;_0x41f7fa[_0xd846d3][_0x647e9b(0x13a)]=_0x42815a;}),_0x32e29b[_0x5e3194(0x104)]((_0x3b688f,_0x44b01d)=>{var _0x17f425=_0x5e3194;_0x41f7fa[_0x44b01d][_0x17f425(0xee)]=_0x3b688f;}),_0xa8b8b7['forEach']((_0x2e7c85,_0x41111c)=>{var _0x4694d7=_0x5e3194;_0x41f7fa[_0x41111c][_0x4694d7(0xf7)]=_0x2e7c85;}),_0x1caeca[_0x5e3194(0x104)]((_0x2ee260,_0x1c0cac)=>{var _0x390aa5=_0x5e3194;_0x41f7fa[_0x1c0cac][_0x390aa5(0x110)]=_0x2ee260;}),_0x338b37[_0x5e3194(0x104)]((_0x177fbf,_0x370e51)=>{var _0x2bf5d8=_0x5e3194;_0x41f7fa[_0x370e51][_0x2bf5d8(0x147)]=_0x177fbf;}),_0x326092[_0x5e3194(0x104)]((_0x527445,_0x758c30)=>{var _0x1ba261=_0x5e3194;_0x41f7fa[_0x758c30][_0x1ba261(0x113)]=_0x527445;}),_0x5c73ce['forEach']((_0x1d38bf,_0x19b98f)=>{var _0x5d89c5=_0x5e3194;_0x41f7fa[_0x19b98f][_0x5d89c5(0xf9)]=_0x1d38bf;}),_0x2b3812[_0x5e3194(0x104)]((_0x619399,_0x1fdf73)=>{var _0x42c6be=_0x5e3194;_0x41f7fa[_0x1fdf73][_0x42c6be(0x170)]=_0x619399;}),_0x35efe4[_0x5e3194(0x104)]((_0x445810,_0x5b4f77)=>{var _0xd99bb1=_0x5e3194;_0x41f7fa[_0x5b4f77][_0xd99bb1(0x10d)]=_0x445810;}),_0x2c3d84[_0x5e3194(0x104)]((_0x8ac54e,_0x31a4b7)=>{var _0x4ffc83=_0x5e3194;_0x41f7fa[_0x31a4b7][_0x4ffc83(0x11a)]=_0x8ac54e;}),_0x156945[_0x5e3194(0x104)]((_0x42472a,_0x5f0eef)=>{var _0x7b9f90=_0x5e3194;_0x41f7fa[_0x5f0eef][_0x7b9f90(0x129)]=_0x42472a;}),_0x5d9f79[_0x5e3194(0x104)]((_0x1c4b8c,_0x2c42f3)=>{_0x41f7fa[_0x2c42f3]['prod_cat']=_0x1c4b8c;}),_0x4b088a['forEach']((_0x828f46,_0x373d33)=>{var _0x267477=_0x5e3194;_0x41f7fa[_0x373d33][_0x267477(0x13e)]=_0x828f46;});const _0x529d72=_0x41f7fa[_0x5e3194(0x15a)](_0x2647ef=>_0x2647ef['adjust_qty']!=='0'&&_0x2647ef[_0x5e3194(0xf7)]!=='');var _0x808cee=0x0;_0x529d72[_0x5e3194(0x104)](_0x299e43=>{var _0x270751=_0x5e3194;console[_0x270751(0x136)](_0x270751(0x12a),_0x299e43),parseInt(_0x299e43['adjust_qty'])<=0x0&&_0x808cee++;});if(_0x808cee!=0x0)return _0x528273[_0x5e3194(0x121)]('errors',_0x5e3194(0x130)),_0x123267[_0x5e3194(0xfa)]('back');const _0x442768=new adjustment({'warehouse_name':_0x542a5a,'date':_0x11cfde,'product':_0x529d72,'note':_0x1ee58b,'room':_0x2ebeb1,'invoice':_0x462661,'JO_number':_0x430cbb,'expiry_date':_0xe88688}),_0x2a38b3=await _0x442768[_0x5e3194(0x183)]();_0x528273[_0x5e3194(0x121)]('success','adjustment\x20add\x20successfull'),_0x123267[_0x5e3194(0xfa)]('/adjustment/preview/'+_0x2a38b3[_0x5e3194(0x134)]);}catch(_0x40ee69){console['log'](_0x40ee69),_0x123267[_0x5e3194(0x16e)](0xc8)[_0x5e3194(0x142)]({'message':_0x40ee69[_0x5e3194(0x12d)]});}}),router[a0_0x15b9ed(0x17d)](a0_0x15b9ed(0xfb),auth,async(_0x2e9e3b,_0x53a83f)=>{var _0x4bb760=a0_0x15b9ed;try{const {username:_0x314f91,email:_0x58b904,role:_0x38b771}=_0x2e9e3b[_0x4bb760(0x11d)],_0x377adb=_0x2e9e3b[_0x4bb760(0x11d)],_0x54264e=await profile[_0x4bb760(0x178)]({'email':_0x377adb[_0x4bb760(0x108)]}),_0x2f09ff=await master_shop[_0x4bb760(0x125)](),_0x3b8418=_0x2e9e3b[_0x4bb760(0x15b)]['id'],_0x18aecd=await adjustment['findById']({'_id':_0x3b8418}),_0x59cf6a=await purchases[_0x4bb760(0x16b)]([{'$match':{'warehouse_name':_0x18aecd[_0x4bb760(0x12b)]}},{'$unwind':'$product'},{'$group':{'_id':'$product.product_name'}}]),_0x56a511=await product['find']({}),_0x2c8d3e=await warehouse[_0x4bb760(0x16b)]([{'$match':{'name':_0x18aecd['warehouse_name']}},{'$unwind':_0x4bb760(0x13c)},{'$group':{'_id':_0x4bb760(0x158),'name':{'$first':_0x4bb760(0x164)},'product_stock':{'$first':_0x4bb760(0xea)},'bay':{'$first':'$product_details.bay'},'bin':{'$first':'$product_details.bin'},'type':{'$first':_0x4bb760(0x116)},'floorlevel':{'$first':_0x4bb760(0x141)},'primary_code':{'$first':_0x4bb760(0x114)},'secondary_code':{'$first':_0x4bb760(0x168)},'product_code':{'$first':_0x4bb760(0x11f)},'storage':{'$first':_0x4bb760(0x13f)},'rack':{'$first':_0x4bb760(0x111)},'maxPerUnit':{'$first':'$product_details.maxPerUnit'},'expiry_date':{'$first':'$product_details.expiry_date'},'production_date':{'$first':_0x4bb760(0x100)},'batch_code':{'$first':_0x4bb760(0x11e)},'room':{'$first':'$room'}}}]);if(_0x2f09ff[0x0][_0x4bb760(0xef)]=='English\x20(US)'){var _0x1e789a=users[_0x4bb760(0x154)];console[_0x4bb760(0x136)](_0x1e789a);}else{if(_0x2f09ff[0x0]['language']==_0x4bb760(0x174))var _0x1e789a=users['Hindi'];else{if(_0x2f09ff[0x0][_0x4bb760(0xef)]==_0x4bb760(0x15f))var _0x1e789a=users[_0x4bb760(0x15f)];else{if(_0x2f09ff[0x0]['language']=='Spanish')var _0x1e789a=users[_0x4bb760(0x165)];else{if(_0x2f09ff[0x0][_0x4bb760(0xef)]==_0x4bb760(0x12c))var _0x1e789a=users['French'];else{if(_0x2f09ff[0x0]['language']=='Portuguese\x20(BR)')var _0x1e789a=users[_0x4bb760(0x131)];else{if(_0x2f09ff[0x0]['language']==_0x4bb760(0x132))var _0x1e789a=users[_0x4bb760(0x132)];else{if(_0x2f09ff[0x0][_0x4bb760(0xef)]==_0x4bb760(0xe9))var _0x1e789a=users['Arabic'];}}}}}}}_0x53a83f[_0x4bb760(0x175)](_0x4bb760(0x124),{'success':_0x2e9e3b[_0x4bb760(0x121)](_0x4bb760(0x144)),'errors':_0x2e9e3b[_0x4bb760(0x121)]('errors'),'role':_0x377adb,'profile':_0x54264e,'adjustment':_0x18aecd,'stock':_0x2c8d3e,'master_shop':_0x2f09ff,'warehouse_name':_0x59cf6a,'unit':_0x56a511,'language':_0x1e789a});}catch(_0x1910ca){console[_0x4bb760(0x136)](_0x1910ca),_0x53a83f[_0x4bb760(0x16e)](0xc8)['json']({'message':_0x1910ca['message']});}}),router[a0_0x15b9ed(0x133)](a0_0x15b9ed(0xfb),auth,async(_0x5c1d86,_0x53ca97)=>{var _0x16e253=a0_0x15b9ed;try{const _0x2dc39b=_0x5c1d86[_0x16e253(0x15b)]['id'],{warehouse_name:_0x330c46,Room_name:_0x3d5e92}=_0x5c1d86[_0x16e253(0x128)],_0x41d8a6=await adjustment[_0x16e253(0xec)]({'_id':_0x2dc39b}),_0x4a709f=_0x41d8a6['product']['map'](async _0x308479=>{var _0x4b3fd9=_0x16e253;if(_0x308479[_0x4b3fd9(0xf7)]>0x0){var _0x327984=await warehouse[_0x4b3fd9(0x178)]({'name':_0x330c46,'room':_0x308479[_0x4b3fd9(0x13e)],'warehouse_category':'Raw\x20Materials'});const _0x49220f=_0x327984['product_details'][_0x4b3fd9(0x10f)](_0x28eb7e=>{var _0xb07da=_0x4b3fd9;if(_0x308479[_0xb07da(0x157)]==_0xb07da(0x15c)){if(_0x28eb7e['product_name']==_0x308479[_0xb07da(0x17e)]&&_0x28eb7e[_0xb07da(0x16d)]==_0x308479[_0xb07da(0x16d)]&&_0x28eb7e[_0xb07da(0x157)]==_0x308479['type']&&_0x28eb7e[_0xb07da(0x112)]==_0x308479[_0xb07da(0x112)]&&_0x28eb7e[_0xb07da(0xe6)]==_0x308479[_0xb07da(0xe6)]&&_0x28eb7e['rack']==_0x308479[_0xb07da(0x14e)]&&_0x28eb7e[_0xb07da(0xfd)]==_0x308479[_0xb07da(0xfd)]&&_0x28eb7e['expiry_date']==_0x308479[_0xb07da(0x10d)]&&_0x28eb7e[_0xb07da(0x170)]==_0x308479[_0xb07da(0x170)]&&_0x28eb7e['production_date']==_0x308479[_0xb07da(0x129)]){var _0x53bfc0;_0x53bfc0=_0x308479[_0xb07da(0xf7)],_0x308479['prod_cat']=='S'&&(_0x53bfc0=_0x308479[_0xb07da(0xf7)]/_0x28eb7e[_0xb07da(0x10e)]),_0x28eb7e[_0xb07da(0x182)]=_0x28eb7e['product_stock']-_0x53bfc0;}}else{if(_0x28eb7e[_0xb07da(0x17e)]==_0x308479[_0xb07da(0x17e)]&&_0x28eb7e[_0xb07da(0x16d)]==_0x308479[_0xb07da(0x16d)]&&_0x28eb7e[_0xb07da(0x157)]==_0x308479[_0xb07da(0x157)]&&_0x28eb7e[_0xb07da(0x112)]==_0x308479[_0xb07da(0x112)]&&_0x28eb7e[_0xb07da(0xe6)]==_0x308479[_0xb07da(0xe6)]&&_0x28eb7e['rack']==_0x308479[_0xb07da(0x14e)]&&_0x28eb7e[_0xb07da(0xfd)]==_0x308479['storage']&&_0x28eb7e['expiry_date']==_0x308479['expiry_date']&&_0x28eb7e[_0xb07da(0x170)]==_0x308479['batch_code']&&_0x28eb7e['production_date']==_0x308479[_0xb07da(0x129)]){console[_0xb07da(0x136)](_0x308479);var _0x53bfc0;_0x53bfc0=_0x308479[_0xb07da(0xf7)],_0x308479[_0xb07da(0x156)]=='S'&&(_0x53bfc0=_0x308479[_0xb07da(0xf7)]/_0x28eb7e['maxPerUnit']),_0x28eb7e['product_stock']=_0x28eb7e[_0xb07da(0x182)]+_0x53bfc0;}}});}return _0x327984;});Promise[_0x16e253(0x109)](_0x4a709f)[_0x16e253(0x123)](async _0x51cc92=>{var _0x32a24e=_0x16e253;try{for(const _0x78124e of _0x51cc92){await _0x78124e[_0x32a24e(0x183)]();}_0x41d8a6[_0x32a24e(0xe5)]=_0x32a24e(0xf4);const _0x379735=await _0x41d8a6['save']();_0x5c1d86['flash'](_0x32a24e(0x144),_0x32a24e(0x150)),_0x53ca97['redirect'](_0x32a24e(0x152)+_0x379735['_id']);}catch(_0x26d92c){console['error'](_0x26d92c),_0x53ca97[_0x32a24e(0x16e)](0x1f4)[_0x32a24e(0x142)]({'error':_0x32a24e(0xff)});}})[_0x16e253(0xe4)](_0x44e7b4=>{var _0x489a12=_0x16e253;console['error'](_0x44e7b4),_0x53ca97[_0x489a12(0x16e)](0x1f4)[_0x489a12(0x142)]({'error':'An\x20error\x20occurred.'});});}catch(_0x12a5cc){console['log'](_0x12a5cc),_0x53ca97[_0x16e253(0x16e)](0xc8)[_0x16e253(0x142)]({'message':_0x12a5cc[_0x16e253(0x12d)]});}}),router[a0_0x15b9ed(0x17d)](a0_0x15b9ed(0x149),auth,async(_0x533be6,_0x3c45da)=>{var _0x3f8f46=a0_0x15b9ed;try{const {username:_0x15684b,email:_0x4699a1,role:_0x497a2e}=_0x533be6[_0x3f8f46(0x11d)],_0xac3c73=_0x533be6[_0x3f8f46(0x11d)],_0x59b6ef=await profile['findOne']({'email':_0xac3c73[_0x3f8f46(0x108)]}),_0x48af42=await master_shop[_0x3f8f46(0x125)]();console[_0x3f8f46(0x136)](_0x3f8f46(0x127),_0x48af42);const _0x3de66b=_0x533be6[_0x3f8f46(0x15b)]['id'],_0x50bb88=await adjustment[_0x3f8f46(0xec)]({'_id':_0x3de66b});let _0x2c257d=new Date(_0x50bb88[_0x3f8f46(0x10d)]),_0x4c2bf3=('0'+_0x2c257d[_0x3f8f46(0x14c)]())['slice'](-0x2),_0x47b984=('0'+(_0x2c257d[_0x3f8f46(0x177)]()+0x1))[_0x3f8f46(0x10c)](-0x2),_0x2e12ac=_0x2c257d[_0x3f8f46(0xf0)](),_0x270d65=_0x2e12ac+'-'+_0x47b984+'-'+_0x4c2bf3;var _0x4b1989=[_0x3f8f46(0x15e),'Enclosed',_0x3f8f46(0x17f)];const _0x22e801=await purchases[_0x3f8f46(0x16b)]([{'$match':{'warehouse_name':_0x50bb88[_0x3f8f46(0x12b)]}},{'$unwind':'$product'},{'$group':{'_id':'$product.product_name'}}]);console[_0x3f8f46(0x136)]('purchases_data',_0x22e801);const _0x23a8b8=await product[_0x3f8f46(0x125)]({}),_0x40675d=await warehouse[_0x3f8f46(0x16b)]([{'$match':{'name':_0x50bb88[_0x3f8f46(0x12b)],'room':_0x50bb88[_0x3f8f46(0x181)]}},{'$unwind':_0x3f8f46(0x13c)},{'$group':{'_id':'$product_details._id','name':{'$first':_0x3f8f46(0x164)},'product_stock':{'$first':_0x3f8f46(0xea)},'bay':{'$first':_0x3f8f46(0x17a)},'bin':{'$first':_0x3f8f46(0xe7)},'type':{'$first':_0x3f8f46(0x116)},'floorlevel':{'$first':_0x3f8f46(0x141)},'primary_code':{'$first':_0x3f8f46(0x114)},'secondary_code':{'$first':_0x3f8f46(0x168)},'product_code':{'$first':_0x3f8f46(0x11f)},'storage':{'$first':'$product_details.storage'},'rack':{'$first':_0x3f8f46(0x111)}}}]);if(_0x48af42[0x0]['language']==_0x3f8f46(0x14d)){var _0x348c69=users[_0x3f8f46(0x154)];console[_0x3f8f46(0x136)](_0x348c69);}else{if(_0x48af42[0x0]['language']==_0x3f8f46(0x174))var _0x348c69=users[_0x3f8f46(0x174)];else{if(_0x48af42[0x0][_0x3f8f46(0xef)]==_0x3f8f46(0x15f))var _0x348c69=users[_0x3f8f46(0x15f)];else{if(_0x48af42[0x0][_0x3f8f46(0xef)]=='Spanish')var _0x348c69=users[_0x3f8f46(0x165)];else{if(_0x48af42[0x0]['language']==_0x3f8f46(0x12c))var _0x348c69=users[_0x3f8f46(0x12c)];else{if(_0x48af42[0x0][_0x3f8f46(0xef)]==_0x3f8f46(0x163))var _0x348c69=users[_0x3f8f46(0x131)];else{if(_0x48af42[0x0][_0x3f8f46(0xef)]=='Chinese')var _0x348c69=users['Chinese'];else{if(_0x48af42[0x0][_0x3f8f46(0xef)]==_0x3f8f46(0xe9))var _0x348c69=users[_0x3f8f46(0x16c)];}}}}}}}_0x3c45da[_0x3f8f46(0x175)]('edit_adjustment',{'success':_0x533be6['flash'](_0x3f8f46(0x144)),'errors':_0x533be6[_0x3f8f46(0x121)](_0x3f8f46(0x138)),'role':_0xac3c73,'profile':_0x59b6ef,'adjustment':_0x50bb88,'stock':_0x40675d,'master_shop':_0x48af42,'warehouse_name':_0x22e801,'unit':_0x23a8b8,'language':_0x348c69,'rooms_data':_0x4b1989,'ed_fullDate':_0x270d65});}catch(_0x1007e5){console['log'](_0x1007e5),_0x3c45da['status'](0xc8)[_0x3f8f46(0x142)]({'message':_0x1007e5[_0x3f8f46(0x12d)]});}}),router[a0_0x15b9ed(0x133)](a0_0x15b9ed(0x149),auth,async(_0x289891,_0x32c924)=>{var _0x2c074d=a0_0x15b9ed;try{const _0x2151af=_0x289891['params']['id'],_0x2dad0b=await adjustment[_0x2c074d(0xec)]({'_id':_0x2151af}),_0x20d7ae=await warehouse[_0x2c074d(0x178)]({'name':_0x2dad0b[_0x2c074d(0x12b)],'room':_0x2dad0b[_0x2c074d(0x181)]}),{warehouse_name:_0x24e442,date:_0x412cd6,prod_name:_0x1f2b1a,level:_0x4cc700,isle:_0x18a686,pallet:_0x8db65,stock:_0x3f534a,types:_0x4605ac,adjust_qty:_0x196ab7,new_adjust_qty:_0x1d98be,note:_0x5b9177,Room_name:_0x16991e,invoice:_0x1de966,JO_number:_0x12b99b}=_0x289891['body'];if(typeof _0x1f2b1a=='string')var _0x29931f=[_0x289891['body']['prod_name']],_0x52c430=[_0x289891[_0x2c074d(0x128)][_0x2c074d(0x186)]],_0x4fce8=[_0x289891[_0x2c074d(0x128)][_0x2c074d(0x160)]],_0x518689=[_0x289891[_0x2c074d(0x128)][_0x2c074d(0x137)]],_0x1c0358=[_0x289891[_0x2c074d(0x128)][_0x2c074d(0x180)]],_0x292b62=[_0x289891['body']['types']],_0xad31e3=[_0x289891['body']['adjust_qty']],_0x3b712d=[_0x289891[_0x2c074d(0x128)][_0x2c074d(0x110)]],_0x45aadf=[_0x289891['body'][_0x2c074d(0xed)]],_0x21c7f9=[_0x289891[_0x2c074d(0x128)][_0x2c074d(0x147)]],_0x5bd6f9=[_0x289891['body']['Secondary_units']],_0x24a4c6=[_0x289891[_0x2c074d(0x128)]['batch_code']],_0x34eb9c=[_0x289891[_0x2c074d(0x128)][_0x2c074d(0x10d)]],_0x1e3e26=[_0x289891[_0x2c074d(0x128)][_0x2c074d(0xfd)]],_0x1e3af9=[_0x289891[_0x2c074d(0x128)][_0x2c074d(0xf6)]],_0x34aea2=[_0x289891[_0x2c074d(0x128)][_0x2c074d(0x157)]];else var _0x29931f=[..._0x289891['body'][_0x2c074d(0x17b)]],_0x52c430=[..._0x289891[_0x2c074d(0x128)]['level']],_0x4fce8=[..._0x289891[_0x2c074d(0x128)][_0x2c074d(0x160)]],_0x518689=[..._0x289891[_0x2c074d(0x128)][_0x2c074d(0x137)]],_0x1c0358=[..._0x289891[_0x2c074d(0x128)][_0x2c074d(0x180)]],_0x292b62=[..._0x289891[_0x2c074d(0x128)]['types']],_0xad31e3=[..._0x289891[_0x2c074d(0x128)][_0x2c074d(0xf7)]],_0x3b712d=[..._0x289891[_0x2c074d(0x128)][_0x2c074d(0x110)]],_0x45aadf=[..._0x289891[_0x2c074d(0x128)][_0x2c074d(0xed)]],_0x21c7f9=[..._0x289891['body'][_0x2c074d(0x147)]],_0x5bd6f9=[..._0x289891[_0x2c074d(0x128)][_0x2c074d(0x166)]],_0x24a4c6=[..._0x289891[_0x2c074d(0x128)][_0x2c074d(0x170)]],_0x34eb9c=[..._0x289891[_0x2c074d(0x128)]['expiry_date']],_0x1e3e26=[..._0x289891['body'][_0x2c074d(0xfd)]],_0x1e3af9=[..._0x289891[_0x2c074d(0x128)]['rak']],_0x34aea2=[..._0x289891[_0x2c074d(0x128)][_0x2c074d(0x157)]];const _0x5ed979=_0x29931f[_0x2c074d(0x10f)](_0x54e2b3=>{return _0x54e2b3={'product_name':_0x54e2b3};});_0x52c430[_0x2c074d(0x104)]((_0x31ea60,_0x4d0832)=>{var _0x5ee9bb=_0x2c074d;_0x5ed979[_0x4d0832][_0x5ee9bb(0xe6)]=_0x31ea60;}),_0x4fce8[_0x2c074d(0x104)]((_0x4fd2b8,_0x11234d)=>{var _0x91c11d=_0x2c074d;_0x5ed979[_0x11234d][_0x91c11d(0x112)]=_0x4fd2b8;}),_0x518689['forEach']((_0x540e51,_0x161764)=>{var _0x1803d3=_0x2c074d;_0x5ed979[_0x161764][_0x1803d3(0x16d)]=_0x540e51;}),_0x1c0358[_0x2c074d(0x104)]((_0x7d1a7e,_0x18f692)=>{var _0xe0a72f=_0x2c074d;_0x5ed979[_0x18f692][_0xe0a72f(0x13a)]=_0x7d1a7e;}),_0x292b62[_0x2c074d(0x104)]((_0x22df13,_0x31b957)=>{var _0x15fab9=_0x2c074d;_0x5ed979[_0x31b957][_0x15fab9(0xee)]=_0x22df13;}),_0xad31e3['forEach']((_0x1b3c96,_0x22205b)=>{var _0x569dee=_0x2c074d;_0x5ed979[_0x22205b][_0x569dee(0xf7)]=_0x1b3c96;}),_0x3b712d[_0x2c074d(0x104)]((_0x30ae7c,_0x298cb3)=>{var _0x208709=_0x2c074d;_0x5ed979[_0x298cb3][_0x208709(0x110)]=_0x30ae7c;}),_0x21c7f9['forEach']((_0x3e1a4d,_0x4243c5)=>{var _0x2d2e23=_0x2c074d;_0x5ed979[_0x4243c5][_0x2d2e23(0x147)]=_0x3e1a4d;}),_0x5bd6f9['forEach']((_0xff0197,_0x4c57a7)=>{var _0x32928e=_0x2c074d;_0x5ed979[_0x4c57a7][_0x32928e(0x113)]=_0xff0197;}),_0x45aadf[_0x2c074d(0x104)]((_0x571bbd,_0x54f61a)=>{_0x5ed979[_0x54f61a]['product_code']=_0x571bbd;}),_0x24a4c6[_0x2c074d(0x104)]((_0x821ef7,_0x42c054)=>{_0x5ed979[_0x42c054]['batch_code']=_0x821ef7;}),_0x34eb9c['forEach']((_0x160b23,_0x5b4c4f)=>{_0x5ed979[_0x5b4c4f]['expiry_date']=_0x160b23;}),_0x34aea2[_0x2c074d(0x104)]((_0x59d6c4,_0x7038a0)=>{_0x5ed979[_0x7038a0]['type']=_0x59d6c4;}),_0x1e3e26['forEach']((_0x4420b8,_0x3eb156)=>{var _0x5397b0=_0x2c074d;_0x5ed979[_0x3eb156][_0x5397b0(0xfd)]=_0x4420b8;}),_0x1e3af9['forEach']((_0x20f087,_0x330161)=>{_0x5ed979[_0x330161]['rack']=_0x20f087;});const _0x577c93=_0x5ed979[_0x2c074d(0x15a)](_0x2cb4cb=>_0x2cb4cb[_0x2c074d(0xf7)]!=='0'&&_0x2cb4cb[_0x2c074d(0xf7)]!=='');var _0x25e192=0x0;_0x577c93[_0x2c074d(0x104)](_0x16a865=>{var _0x284684=_0x2c074d;console[_0x284684(0x136)](_0x284684(0x12a),_0x16a865),parseInt(_0x16a865['adjust_qty'])<=0x0&&_0x25e192++;});if(_0x25e192!=0x0)return _0x289891[_0x2c074d(0x121)](_0x2c074d(0x138),'You\x20can\x27t\x20subtract,\x20the\x20current\x20stock\x20is\x200'),_0x32c924['redirect'](_0x2c074d(0x184));_0x2dad0b[_0x2c074d(0x12b)]=_0x24e442,_0x2dad0b[_0x2c074d(0x120)]=_0x412cd6,_0x2dad0b[_0x2c074d(0x171)]=_0x577c93,_0x2dad0b[_0x2c074d(0x143)]=_0x5b9177,_0x2dad0b['room']=_0x16991e,_0x2dad0b[_0x2c074d(0x179)]=_0x1de966,_0x2dad0b[_0x2c074d(0x105)]=_0x12b99b;const _0x3ab5f6=await _0x2dad0b[_0x2c074d(0x183)](),_0x39ab91=await warehouse[_0x2c074d(0x178)]({'name':_0x24e442,'room':_0x16991e});_0x3ab5f6['product'][_0x2c074d(0x104)](_0x1161e9=>{var _0x413593=_0x2c074d;const _0x14287=_0x39ab91[_0x413593(0x176)]['map'](_0x5b06f4=>{var _0x25a017=_0x413593;_0x1161e9[_0x25a017(0xee)]==_0x25a017(0x15c)?_0x5b06f4[_0x25a017(0x17e)]==_0x1161e9['product_name']&&_0x5b06f4[_0x25a017(0x16d)]==_0x1161e9[_0x25a017(0x16d)]&&_0x5b06f4[_0x25a017(0x157)]==_0x1161e9[_0x25a017(0x157)]&&_0x5b06f4[_0x25a017(0x112)]==_0x1161e9['bin']&&_0x5b06f4[_0x25a017(0xe6)]==_0x1161e9[_0x25a017(0xe6)]&&_0x5b06f4[_0x25a017(0x14e)]==_0x1161e9[_0x25a017(0x14e)]&&_0x5b06f4[_0x25a017(0xfd)]==_0x1161e9[_0x25a017(0xfd)]&&(_0x5b06f4[_0x25a017(0x182)]=parseInt(_0x5b06f4['product_stock'])-parseInt(_0x1161e9[_0x25a017(0xf7)])):_0x5b06f4[_0x25a017(0x17e)]==_0x1161e9[_0x25a017(0x17e)]&&_0x5b06f4[_0x25a017(0x16d)]==_0x1161e9['floorlevel']&&_0x5b06f4['type']==_0x1161e9['type']&&_0x5b06f4[_0x25a017(0x112)]==_0x1161e9[_0x25a017(0x112)]&&_0x5b06f4[_0x25a017(0xe6)]==_0x1161e9['bay']&&_0x5b06f4[_0x25a017(0x14e)]==_0x1161e9[_0x25a017(0x14e)]&&_0x5b06f4[_0x25a017(0xfd)]==_0x1161e9[_0x25a017(0xfd)]&&(_0x5b06f4['product_stock']=parseInt(_0x5b06f4[_0x25a017(0x182)])+parseInt(_0x1161e9[_0x25a017(0xf7)]));});}),await _0x39ab91['save'](),_0x289891['flash'](_0x2c074d(0x144),_0x2c074d(0x14a)),_0x32c924[_0x2c074d(0xfa)](_0x2c074d(0x169));}catch(_0x5f5331){console[_0x2c074d(0x136)](_0x5f5331);}}),router[a0_0x15b9ed(0x133)](a0_0x15b9ed(0x17c),async(_0xd24abe,_0x4316c9)=>{var _0x4e5414=a0_0x15b9ed;const {primary_code:_0x314b52,warehouse_data:_0x1661c8,rooms_data:_0x242fad,Roomslist:_0x256faa}=_0xd24abe[_0x4e5414(0x128)],_0x50001f=_0x256faa[_0x4e5414(0x117)](','),_0x23b90f=[];async function _0x298715(_0x23b952){var _0x2b3d9d=_0x4e5414;const _0x18d7b5=await warehouse[_0x2b3d9d(0x16b)]([{'$match':{'name':_0x1661c8,'room':_0x23b952}},{'$unwind':_0x2b3d9d(0x13c)},{'$match':{'product_details.primary_code':_0x314b52}},{'$group':{'_id':_0x2b3d9d(0x158),'name':{'$first':'$product_details.product_name'},'product_stock':{'$first':_0x2b3d9d(0xea)},'primary_code':{'$first':_0x2b3d9d(0x114)},'secondary_code':{'$first':'$product_details.secondary_code'},'product_code':{'$first':_0x2b3d9d(0x11f)},'level':{'$first':_0x2b3d9d(0x17a)},'isle':{'$first':'$product_details.bin'},'type':{'$first':_0x2b3d9d(0x116)},'pallet':{'$first':_0x2b3d9d(0x141)},'unit':{'$first':_0x2b3d9d(0x185)},'secondary_unit':{'$first':_0x2b3d9d(0xf2)},'storage':{'$first':_0x2b3d9d(0x13f)},'rack':{'$first':_0x2b3d9d(0x111)},'expiry_date':{'$first':_0x2b3d9d(0x139)},'production_date':{'$first':_0x2b3d9d(0x100)},'maxPerUnit':{'$first':_0x2b3d9d(0x14b)},'batch_code':{'$first':_0x2b3d9d(0x11e)},'product_cat':{'$first':_0x2b3d9d(0x15d)},'computeUsed':{'$first':'P'},'roomNamed':{'$first':'$room'}}}]),_0x300e70=await warehouse[_0x2b3d9d(0x16b)]([{'$match':{'name':_0x1661c8,'room':_0x23b952}},{'$unwind':_0x2b3d9d(0x13c)},{'$match':{'product_details.secondary_code':_0x314b52}},{'$group':{'_id':_0x2b3d9d(0x158),'name':{'$first':_0x2b3d9d(0x164)},'product_stock':{'$first':_0x2b3d9d(0xea)},'primary_code':{'$first':_0x2b3d9d(0x114)},'secondary_code':{'$first':_0x2b3d9d(0x168)},'product_code':{'$first':'$product_details.product_code'},'level':{'$first':_0x2b3d9d(0x17a)},'isle':{'$first':'$product_details.bin'},'type':{'$first':_0x2b3d9d(0x116)},'pallet':{'$first':'$product_details.floorlevel'},'unit':{'$first':_0x2b3d9d(0x185)},'secondary_unit':{'$first':_0x2b3d9d(0xf2)},'storage':{'$first':_0x2b3d9d(0x13f)},'rack':{'$first':'$product_details.rack'},'expiry_date':{'$first':_0x2b3d9d(0x139)},'production_date':{'$first':_0x2b3d9d(0x100)},'maxPerUnit':{'$first':_0x2b3d9d(0x14b)},'batch_code':{'$first':_0x2b3d9d(0x11e)},'product_cat':{'$first':'$product_details.product_cat'},'computeUsed':{'$first':'S'},'roomNamed':{'$first':_0x2b3d9d(0x107)}}}]);if(_0x18d7b5[_0x2b3d9d(0x151)]>0x0)_0x23b90f[_0x2b3d9d(0x11b)](_0x18d7b5);else _0x300e70['length']>0x0&&_0x23b90f[_0x2b3d9d(0x11b)](_0x300e70);}const _0x57cb38=_0x50001f[_0x4e5414(0x10f)](_0x141b2b=>_0x298715(_0x141b2b));await Promise[_0x4e5414(0x109)](_0x57cb38),_0x4316c9['json'](_0x23b90f);}),router[a0_0x15b9ed(0x133)](a0_0x15b9ed(0x173),async(_0x15ec48,_0x44ea9d)=>{var _0x130e68=a0_0x15b9ed;const {primaryCode:_0x4bfa56,secondaryCode:_0x4918cd,productCode:_0x159138,level:_0x2ec457,isle:_0x3caca7,pallet:_0x2f357e,warehouses:_0x2d8063,room:_0x10ef25}=_0x15ec48['body'];try{const _0x3e6c1d=await warehouse[_0x130e68(0x16b)]([{'$match':{'name':_0x2d8063,'room':_0x10ef25}},{'$unwind':_0x130e68(0x13c)},{'$match':{'product_details.level':parseInt(_0x2ec457),'product_details.isle':_0x3caca7,'product_details.pallet':parseInt(_0x2f357e)}},{'$group':{'_id':_0x130e68(0x158),'name':{'$first':_0x130e68(0x164)},'product_stock':{'$first':'$product_details.product_stock'},'level':{'$first':'$product_details.level'},'isle':{'$first':_0x130e68(0x167)},'pallet':{'$first':_0x130e68(0x11c)},'maxProducts':{'$first':'$product_details.maxProducts'}}}]);_0x44ea9d[_0x130e68(0x16e)](0xc8)[_0x130e68(0x142)](_0x3e6c1d);}catch(_0x285032){_0x44ea9d['status'](0x194)[_0x130e68(0x142)]({'message':_0x285032[_0x130e68(0x12d)]});}}),module[a0_0x15b9ed(0x14f)]=router;function a0_0x5edc(){var _0x504b48=['/adjustment/view','../middleware/auth','aggregate','Arabic','floorlevel','status','$finalize','batch_code','product','$warehouse_name','/CheckingWarehouse','Hindi','render','product_details','getMonth','findOne','invoice','$product_details.bay','prod_name','/barcode_scanner','get','product_name','Return\x20Rooms','stock','room','product_stock','save','back','$product_details.unit','level','toString','Router','$invoice','catch','finalize','bay','$product_details.bin','Level','Arabic\x20(ae)','$product_details.product_stock','5Ldewtw','findById','prod_code','types','language','getFullYear','Shelves','$product_details.secondary_unit','$_id','True','Raw\x20Materials','rak','adjust_qty','Return\x20Goods','product_code','redirect','/preview/:id','$name','storage','$date','An\x20error\x20occurred\x20while\x20saving\x20data.','$product_details.production_date','/view/add_adjustment','Enabled','express','forEach','JO_number','../public/language/languages.json','$room','email','all','1316976hLvibO','Floor','slice','expiry_date','maxPerUnit','map','new_adjust_qty','$product_details.rack','bin','secondary_unit','$product_details.primary_code','828640RLVKGD','$product_details.type','split','Enclosed','$product.room_names','maxperunit','push','$product_details.pallet','user','$product_details.batch_code','$product_details.product_code','date','flash','New_Qty_Converted','then','edit_adjustment_view','find','role','master','body','production_date','foreach\x20newproduct','warehouse_name','French','message','630966CcSJwH','Receiving\x20Area','You\x20can\x27t\x20subtract,\x20the\x20current\x20stock\x20is\x200','Portuguese','Chinese','post','_id','52533viabiH','log','pallet','errors','$product_details.expiry_date','stockBefore','ADJ-','$product_details','add_adjustment','room_names','$product_details.storage','max_per_unit','$product_details.floorlevel','json','note','success','Rooms','2648ysElFT','unit','/view','/view/:id','adjustment\x20data\x20update\x20successfully','$product_details.maxPerUnit','getDate','English\x20(US)','rack','exports','adjustment\x20Finalized\x20successfully','length','/picking_list/PDF_adjustment_rm/','warehouse','English','961016hqHRFY','prod_cat','type','$product_details._id','staff','filter','params','minus','$product_details.product_cat','Ambient','German','isle','3664493ifsghL','298286XoZXsv','Portuguese\x20(BR)','$product_details.product_name','Spanish','Secondary_units','$product_details.isle','$product_details.secondary_code'];a0_0x5edc=function(){return _0x504b48;};return a0_0x5edc();}