function a0_0x6afb(){const _0x30a525=['/forgotPassword/view','Error\x20Occurs','../models/all_models','<div>','flash','5769245DMKyZU','email','433896ZdLwjN','/code_password/','render','errors','</head><body>','get','<div\x20style=\x22display:\x20flex;\x20align-items:\x20center;\x20justify-content:\x20center;\x22>','email_reset',',\x20<br>Your\x20password\x20has\x20been\x20successfully\x20reset.\x20You\x20can\x20now\x20log\x20in\x20with\x20your\x20new\x20password.</p>','exports','Password\x20Reset\x20-\x20','floor','../middleware/auth','44896284mkkHQi','/../public','</h5>','createTransport','/login/','True','hash','port','<p>Hello,\x20<br>\x20We\x20have\x20sent\x20you\x20this\x20email\x20in\x20response\x20to\x20your\x20request\x20to\x20reset\x20please\x20copy\x20this\x20code\x20<h1><b>','False','error','password','findOne','/view','1546324NijDfm','logo','/code/','Router','success','6901JuLTad','Email\x20Not\x20Found\x20please\x20check\x20your\x20email','site_title','post','<h5>','Email\x20sent\x20successfully','json','3613855nnFzKl','10637376mIBzzO','find','length','image','<!DOCTYPE\x20html>','/upload/','<p>Hello\x20','/forgotPassword/code/','106FGDYTw','<html><head><title></title>','isUsed','</div>','sendMail','Password\x20Successfuly\x20Reset\x20-\x20','host','</body></html>','body','9diGpUa','log','</b></h1></p>','name','nodemailer','random','<hr\x20class=\x22my-3\x22>','code','Logo.png','<img\x20src=\x22cid:logo\x22\x20class=\x22rounded\x22\x20width=\x2266.5px\x22\x20height=\x2266.5px\x22></img>','email_code','redirect','<strong>\x20Regards\x20</strong>','save'];a0_0x6afb=function(){return _0x30a525;};return a0_0x6afb();}const a0_0x3cbe00=a0_0x282c;function a0_0x282c(_0x198186,_0x2e7368){const _0x6afb4b=a0_0x6afb();return a0_0x282c=function(_0x282c57,_0x57e692){_0x282c57=_0x282c57-0xf7;let _0x338735=_0x6afb4b[_0x282c57];return _0x338735;},a0_0x282c(_0x198186,_0x2e7368);}(function(_0x50fcc9,_0x151c05){const _0x833d3e=a0_0x282c,_0x5878df=_0x50fcc9();while(!![]){try{const _0x121a64=-parseInt(_0x833d3e(0x12e))/0x1*(parseInt(_0x833d3e(0x13e))/0x2)+parseInt(_0x833d3e(0xf9))/0x3*(-parseInt(_0x833d3e(0x129))/0x4)+-parseInt(_0x833d3e(0x10c))/0x5+-parseInt(_0x833d3e(0x136))/0x6+parseInt(_0x833d3e(0x135))/0x7+-parseInt(_0x833d3e(0x10e))/0x8+parseInt(_0x833d3e(0x11b))/0x9;if(_0x121a64===_0x151c05)break;else _0x5878df['push'](_0x5878df['shift']());}catch(_0xafce05){_0x5878df['push'](_0x5878df['shift']());}}}(a0_0x6afb,0xf3b77));const express=require('express'),app=express(),router=express[a0_0x3cbe00(0x12c)](),bcrypt=require('bcryptjs'),{sing_up,staff,profile,master_shop,email_settings}=require(a0_0x3cbe00(0x109)),auth=require(a0_0x3cbe00(0x11a)),nodemailer=require(a0_0x3cbe00(0xfd));router[a0_0x3cbe00(0x113)](a0_0x3cbe00(0x128),async(_0x1eeb1c,_0x45b8d8)=>{const _0x3f2b60=a0_0x3cbe00,_0xc6d834=await master_shop['find']();_0x45b8d8[_0x3f2b60(0x110)](_0x3f2b60(0x115),{'success':_0x1eeb1c['flash'](_0x3f2b60(0x12d)),'errors':_0x1eeb1c['flash'](_0x3f2b60(0x111)),'master_shop':_0xc6d834});});function generateRandomAlphanumericString(_0x59c321=0x6){const _0x472c6d=a0_0x3cbe00,_0x20edb0='ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789';let _0x1d3471='';for(let _0x375a75=0x0;_0x375a75<_0x59c321;_0x375a75++){const _0x272687=Math[_0x472c6d(0x119)](Math[_0x472c6d(0xfe)]()*_0x20edb0[_0x472c6d(0x138)]);_0x1d3471+=_0x20edb0[_0x272687];}return _0x1d3471;}router[a0_0x3cbe00(0x131)]('/view',async(_0x2420a9,_0x3158fa)=>{const _0x550582=a0_0x3cbe00,{email:_0x48c165}=_0x2420a9[_0x550582(0xf8)],_0x357553=await sing_up[_0x550582(0x127)]({'email':_0x48c165});var _0x3accb4=generateRandomAlphanumericString();const _0x2e75fc=await bcrypt[_0x550582(0x121)](_0x3accb4,0xa);if(_0x357553){_0x357553[_0x550582(0x100)]=_0x3accb4,_0x357553[_0x550582(0x140)]='False';const _0x16d065=_0x357553[_0x550582(0x106)](),_0xbd7a35=await master_shop['find'](),_0x3238c9=await email_settings[_0x550582(0x127)]();let _0x4a2658=nodemailer['createTransport']({'host':_0x3238c9[_0x550582(0x144)],'port':Number(_0x3238c9[_0x550582(0x122)]),'secure':![],'auth':{'user':_0x3238c9[_0x550582(0x10d)],'pass':_0x3238c9['password']}}),_0x410161={'from':_0x3238c9[_0x550582(0x10d)],'to':_0x357553['email'],'subject':_0x550582(0x118)+_0xbd7a35[0x0][_0x550582(0x130)],'attachments':[{'filename':_0x550582(0x101),'path':__dirname+'/../public'+'/upload/'+_0xbd7a35[0x0][_0x550582(0x139)],'cid':_0x550582(0x12a)}],'html':'<!DOCTYPE\x20html>'+_0x550582(0x13f)+_0x550582(0x112)+_0x550582(0x10a)+_0x550582(0x114)+'<div>'+'<img\x20src=\x22cid:logo\x22\x20class=\x22rounded\x22\x20width=\x2266.5px\x22\x20height=\x2266.5px\x22></img>'+_0x550582(0x141)+_0x550582(0x141)+_0x550582(0x10a)+_0x550582(0x123)+_0x3accb4+_0x550582(0xfb)+_0x550582(0x141)+_0x550582(0xff)+_0x550582(0x10a)+_0x550582(0x105)+_0x550582(0x132)+_0xbd7a35[0x0][_0x550582(0x130)]+_0x550582(0x11d)+_0x550582(0x141)+'</div>'+_0x550582(0xf7)};_0x4a2658[_0x550582(0x142)](_0x410161,function(_0x243b65,_0x50c3ad){const _0x1b0563=_0x550582;_0x243b65?(console[_0x1b0563(0xfa)](_0x243b65),console['log'](_0x1b0563(0x108))):console[_0x1b0563(0xfa)](_0x1b0563(0x133));}),_0x3158fa[_0x550582(0x104)](_0x550582(0x13d));}else _0x2420a9[_0x550582(0x10b)](_0x550582(0x125),_0x550582(0x12f)),_0x3158fa[_0x550582(0x104)](_0x550582(0x107));}),router[a0_0x3cbe00(0x113)](a0_0x3cbe00(0x12b),async(_0x463b35,_0x212341)=>{const _0x408e57=a0_0x3cbe00,_0x334b1f=await master_shop[_0x408e57(0x137)]();_0x212341[_0x408e57(0x110)](_0x408e57(0x103),{'success':_0x463b35[_0x408e57(0x10b)](_0x408e57(0x12d)),'errors':_0x463b35['flash']('errors'),'master_shop':_0x334b1f});}),router['post'](a0_0x3cbe00(0x12b),async(_0x13b752,_0x5229e6)=>{const _0x4debd6=a0_0x3cbe00,{code:_0x2bec2d}=_0x13b752[_0x4debd6(0xf8)],_0x1ed1d6=await sing_up[_0x4debd6(0x137)]({'code':_0x2bec2d});console[_0x4debd6(0xfa)](_0x1ed1d6[_0x4debd6(0x138)]),_0x5229e6[_0x4debd6(0x134)](_0x1ed1d6);}),router[a0_0x3cbe00(0x131)](a0_0x3cbe00(0x10f),async(_0xbe52c3,_0xd146e3)=>{const _0x1fb182=a0_0x3cbe00,{codex:_0x40c6b6,password:_0x3ed0c1,cpassword:_0x50cd31,email:_0x117ed1}=_0xbe52c3[_0x1fb182(0xf8)],_0x2fc8ad=await sing_up[_0x1fb182(0x127)]({'code':_0x40c6b6,'email':_0x117ed1,'isUsed':_0x1fb182(0x124)}),_0x2e2188=await bcrypt['hash'](_0x3ed0c1,0xa);if(_0x2fc8ad){_0x2fc8ad['password']=_0x2e2188,_0x2fc8ad[_0x1fb182(0x140)]=_0x1fb182(0x120);const _0x36157b=_0x2fc8ad[_0x1fb182(0x106)](),_0x4ec9c9=await master_shop['find'](),_0x4e660f=await email_settings['findOne']();let _0x298d69=nodemailer[_0x1fb182(0x11e)]({'host':_0x4e660f[_0x1fb182(0x144)],'port':Number(_0x4e660f['port']),'secure':![],'auth':{'user':_0x4e660f[_0x1fb182(0x10d)],'pass':_0x4e660f[_0x1fb182(0x126)]}}),_0x5d9c1b={'from':_0x4e660f[_0x1fb182(0x10d)],'to':_0x2fc8ad[_0x1fb182(0x10d)],'subject':_0x1fb182(0x143)+_0x4ec9c9[0x0][_0x1fb182(0x130)],'attachments':[{'filename':'Logo.png','path':__dirname+_0x1fb182(0x11c)+_0x1fb182(0x13b)+_0x4ec9c9[0x0][_0x1fb182(0x139)],'cid':_0x1fb182(0x12a)}],'html':_0x1fb182(0x13a)+_0x1fb182(0x13f)+_0x1fb182(0x112)+_0x1fb182(0x10a)+'<div\x20style=\x22display:\x20flex;\x20align-items:\x20center;\x20justify-content:\x20center;\x22>'+_0x1fb182(0x10a)+_0x1fb182(0x102)+_0x1fb182(0x141)+_0x1fb182(0x141)+'<div>'+_0x1fb182(0x13c)+_0x2fc8ad[_0x1fb182(0xfc)]+_0x1fb182(0x116)+_0x1fb182(0x141)+_0x1fb182(0xff)+'<div>'+'<strong>\x20Regards\x20</strong>'+_0x1fb182(0x132)+_0x4ec9c9[0x0][_0x1fb182(0x130)]+_0x1fb182(0x11d)+_0x1fb182(0x141)+_0x1fb182(0x141)+'</body></html>'};_0x298d69[_0x1fb182(0x142)](_0x5d9c1b,function(_0x2ff649,_0x11e350){const _0x3da03a=_0x1fb182;_0x2ff649?(console['log'](_0x2ff649),console[_0x3da03a(0xfa)]('Error\x20Occurs')):console[_0x3da03a(0xfa)](_0x3da03a(0x133));}),_0xd146e3[_0x1fb182(0x104)](_0x1fb182(0x11f));}else _0xbe52c3[_0x1fb182(0x10b)]('error','Email\x20Not\x20Found\x20please\x20check\x20your\x20email'),_0xd146e3['redirect']('/forgotPassword/code');}),module[a0_0x3cbe00(0x117)]=router;